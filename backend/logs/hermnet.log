2026-02-12 11:42:45 [main] INFO  c.h.a.controller.AuthControllerTest - Starting AuthControllerTest using Java 21.0.6 with PID 11200 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 11:42:45 [main] INFO  c.h.a.controller.AuthControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 11:42:49 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: c943db17-0f35-4e65-8ded-0d1d19eb3b08

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 11:42:50 [main] INFO  c.h.a.controller.AuthControllerTest - Started AuthControllerTest in 5.081 seconds (process running for 6.991)
2026-02-12 11:42:50 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest): [Field error in object 'registerRequest' on field 'publicKey': rejected value []; codes [NotBlank.registerRequest.publicKey,NotBlank.publicKey,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.publicKey,publicKey]; arguments []; default message [publicKey]]; default message [La clave pública es obligatoria]] ]
2026-02-12 11:42:50 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest): [Field error in object 'registerRequest' on field 'id': rejected value [INVALID-ID]; codes [Pattern.registerRequest.id,Pattern.id,Pattern.java.lang.String,Pattern]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.id,id]; arguments []; default message [id],[Ljakarta.validation.constraints.Pattern$Flag;@19c1f6f4,^HNET-[A-Za-z0-9]{5,}$]; default message [El ID debe empezar por HNET- y tener caracteres alfanuméricos]] ]
2026-02-12 11:44:02 [main] INFO  c.h.a.controller.AuthControllerTest - Starting AuthControllerTest using Java 21.0.6 with PID 340 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 11:44:02 [main] INFO  c.h.a.controller.AuthControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 11:44:06 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 2280809c-e463-4523-a179-a1a8041abfcd

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 11:44:06 [main] INFO  c.h.a.controller.AuthControllerTest - Started AuthControllerTest in 4.516 seconds (process running for 6.16)
2026-02-12 11:44:06 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest): [Field error in object 'registerRequest' on field 'publicKey': rejected value []; codes [NotBlank.registerRequest.publicKey,NotBlank.publicKey,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.publicKey,publicKey]; arguments []; default message [publicKey]]; default message [La clave pública es obligatoria]] ]
2026-02-12 11:44:06 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest): [Field error in object 'registerRequest' on field 'id': rejected value [INVALID-ID]; codes [Pattern.registerRequest.id,Pattern.id,Pattern.java.lang.String,Pattern]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.id,id]; arguments []; default message [id],[Ljakarta.validation.constraints.Pattern$Flag;@1f19d423,^HNET-[A-Za-z0-9]{5,}$]; default message [El ID debe empezar por HNET- y tener caracteres alfanuméricos]] ]
2026-02-12 11:45:17 [main] INFO  c.h.a.controller.AuthControllerTest - Starting AuthControllerTest using Java 21.0.6 with PID 3224 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 11:45:17 [main] INFO  c.h.a.controller.AuthControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 11:45:19 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 2a4755a2-44ef-4b39-9b68-831dab1c0484

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 11:45:19 [main] INFO  c.h.a.controller.AuthControllerTest - Started AuthControllerTest in 3.168 seconds (process running for 7.255)
2026-02-12 11:45:19 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest): [Field error in object 'registerRequest' on field 'publicKey': rejected value []; codes [NotBlank.registerRequest.publicKey,NotBlank.publicKey,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.publicKey,publicKey]; arguments []; default message [publicKey]]; default message [La clave pública es obligatoria]] ]
2026-02-12 11:45:19 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest): [Field error in object 'registerRequest' on field 'id': rejected value [INVALID-ID]; codes [Pattern.registerRequest.id,Pattern.id,Pattern.java.lang.String,Pattern]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.id,id]; arguments []; default message [id],[Ljakarta.validation.constraints.Pattern$Flag;@7e63374b,^HNET-[A-Za-z0-9]{5,}$]; default message [El ID debe empezar por HNET- y tener caracteres alfanuméricos]] ]
2026-02-12 11:45:20 [main] INFO  c.h.api.HermnetApiApplicationTests - Starting HermnetApiApplicationTests using Java 21.0.6 with PID 3224 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 11:45:20 [main] INFO  c.h.api.HermnetApiApplicationTests - No active profile set, falling back to 1 default profile: "default"
2026-02-12 11:45:21 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-12 11:45:21 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5b4880b3
2026-02-12 11:45:21 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-12 11:45:22 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-12 11:45:23 [main] DEBUG org.hibernate.SQL - set client_min_messages = WARNING
2026-02-12 11:45:23 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges drop constraint if exists FKl5m80koyne9ork274crpw6jv
2026-02-12 11:45:23 [main] DEBUG org.hibernate.SQL - drop table if exists auth_challenges cascade
2026-02-12 11:45:23 [main] DEBUG org.hibernate.SQL - drop table if exists mailbox cascade
2026-02-12 11:45:23 [main] DEBUG org.hibernate.SQL - drop table if exists rate_limit_buckets cascade
2026-02-12 11:45:23 [main] DEBUG org.hibernate.SQL - drop table if exists token_blacklist cascade
2026-02-12 11:45:23 [main] DEBUG org.hibernate.SQL - drop table if exists users cascade
2026-02-12 11:45:23 [main] DEBUG org.hibernate.SQL - create table auth_challenges (challenge_id bigint generated by default as identity, expires_at timestamp(6) not null, nonce varchar(64) not null, user_hash varchar(64) not null, primary key (challenge_id))
2026-02-12 11:45:23 [main] DEBUG org.hibernate.SQL - create table mailbox (created_at timestamp(6) not null, message_id bigint generated by default as identity, recipient_hash varchar(64) not null, stego_packet oid not null, primary key (message_id))
2026-02-12 11:45:23 [main] DEBUG org.hibernate.SQL - create table rate_limit_buckets (request_count integer not null, reset_time timestamp(6) not null, ip_hash varchar(64) not null, primary key (ip_hash))
2026-02-12 11:45:23 [main] DEBUG org.hibernate.SQL - create table token_blacklist (expires_at timestamp(6) not null, revoked_reason varchar(20), jti varchar(36) not null, primary key (jti))
2026-02-12 11:45:23 [main] DEBUG org.hibernate.SQL - create table users (created_at timestamp(6) not null, id_hash varchar(64) not null, public_key TEXT not null unique, push_token TEXT, primary key (id_hash))
2026-02-12 11:45:23 [main] DEBUG org.hibernate.SQL - create index idx_mailbox_recipient on mailbox (recipient_hash)
2026-02-12 11:45:23 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges add constraint FKl5m80koyne9ork274crpw6jv foreign key (user_hash) references users
2026-02-12 11:45:24 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-12 11:45:24 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 72a870f7-e847-4452-800a-940adc75dc21

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 11:45:24 [main] INFO  c.h.api.HermnetApiApplicationTests - Started HermnetApiApplicationTests in 4.637 seconds (process running for 12.472)
2026-02-12 11:45:24 [main] INFO  c.h.a.r.AuthChallengeRepositoryTest - Starting AuthChallengeRepositoryTest using Java 21.0.6 with PID 3224 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 11:45:24 [main] INFO  c.h.a.r.AuthChallengeRepositoryTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 11:45:25 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2026-02-12 11:45:25 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@731660c1
2026-02-12 11:45:25 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2026-02-12 11:45:25 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-12 11:45:25 [main] DEBUG org.hibernate.SQL - set client_min_messages = WARNING
2026-02-12 11:45:25 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges drop constraint if exists FKl5m80koyne9ork274crpw6jv
2026-02-12 11:45:25 [main] DEBUG org.hibernate.SQL - drop table if exists auth_challenges cascade
2026-02-12 11:45:25 [main] DEBUG org.hibernate.SQL - drop table if exists mailbox cascade
2026-02-12 11:45:25 [main] DEBUG org.hibernate.SQL - drop table if exists rate_limit_buckets cascade
2026-02-12 11:45:25 [main] DEBUG org.hibernate.SQL - drop table if exists token_blacklist cascade
2026-02-12 11:45:25 [main] DEBUG org.hibernate.SQL - drop table if exists users cascade
2026-02-12 11:45:25 [main] DEBUG org.hibernate.SQL - create table auth_challenges (challenge_id bigint generated by default as identity, expires_at timestamp(6) not null, nonce varchar(64) not null, user_hash varchar(64) not null, primary key (challenge_id))
2026-02-12 11:45:25 [main] DEBUG org.hibernate.SQL - create table mailbox (created_at timestamp(6) not null, message_id bigint generated by default as identity, recipient_hash varchar(64) not null, stego_packet oid not null, primary key (message_id))
2026-02-12 11:45:25 [main] DEBUG org.hibernate.SQL - create table rate_limit_buckets (request_count integer not null, reset_time timestamp(6) not null, ip_hash varchar(64) not null, primary key (ip_hash))
2026-02-12 11:45:25 [main] DEBUG org.hibernate.SQL - create table token_blacklist (expires_at timestamp(6) not null, revoked_reason varchar(20), jti varchar(36) not null, primary key (jti))
2026-02-12 11:45:25 [main] DEBUG org.hibernate.SQL - create table users (created_at timestamp(6) not null, id_hash varchar(64) not null, public_key TEXT not null unique, push_token TEXT, primary key (id_hash))
2026-02-12 11:45:25 [main] DEBUG org.hibernate.SQL - create index idx_mailbox_recipient on mailbox (recipient_hash)
2026-02-12 11:45:25 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges add constraint FKl5m80koyne9ork274crpw6jv foreign key (user_hash) references users
2026-02-12 11:45:25 [main] INFO  c.h.a.r.AuthChallengeRepositoryTest - Started AuthChallengeRepositoryTest in 0.688 seconds (process running for 13.372)
2026-02-12 11:45:25 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 11:45:25 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:45:25 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:45:25 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 11:45:25 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:45:25 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 11:45:25 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 11:45:25 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.expires_at<?
2026-02-12 11:45:25 [main] DEBUG org.hibernate.SQL - delete from auth_challenges where challenge_id=?
2026-02-12 11:45:25 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 11:45:25 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 11:45:25 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:45:25 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:45:25 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 11:45:25 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:45:25 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 11:45:25 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.nonce=?
2026-02-12 11:45:25 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 11:45:25 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:45:25 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:45:25 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 11:45:25 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:45:25 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 11:45:25 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 11:45:25 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:45:25 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 11:45:25 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:45:25 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - select count(*) from auth_challenges ac1_0
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.user_hash=?
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - delete from auth_challenges where challenge_id=?
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - delete from auth_challenges where challenge_id=?
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - select count(*) from auth_challenges ac1_0
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.nonce=?
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.user_hash=?
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - insert into token_blacklist (expires_at,revoked_reason,jti) values (?,?,?)
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - insert into token_blacklist (expires_at,revoked_reason,jti) values (?,?,?)
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - delete from token_blacklist where jti=?
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0 where m1_0.created_at<?
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - delete from mailbox where message_id=?
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0 where m1_0.recipient_hash=? order by m1_0.created_at desc
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0 where rlb1_0.ip_hash=?
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0 where rlb1_0.ip_hash=?
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0 where rlb1_0.ip_hash=?
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.public_key=?
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:45:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.public_key=?
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 11:45:27 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
2026-02-12 11:45:27 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: duplicate key value violates unique constraint "users_public_key_key"
  Detail: Key (public_key)=(duplicate-key) already exists.
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - update users set public_key=?,push_token=? where id_hash=?
2026-02-12 11:45:27 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 11:45:27 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-12 11:45:27 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-02-12 11:45:27 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2026-02-12 11:45:27 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2026-02-12 11:47:46 [main] INFO  c.h.a.controller.AuthControllerTest - Starting AuthControllerTest using Java 21.0.6 with PID 1600 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 11:47:46 [main] INFO  c.h.a.controller.AuthControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 11:47:48 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: b30048b3-687b-4048-9cdd-74c42a4b3496

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 11:47:48 [main] INFO  c.h.a.controller.AuthControllerTest - Started AuthControllerTest in 3.067 seconds (process running for 6.721)
2026-02-12 11:47:49 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest): [Field error in object 'registerRequest' on field 'publicKey': rejected value []; codes [NotBlank.registerRequest.publicKey,NotBlank.publicKey,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.publicKey,publicKey]; arguments []; default message [publicKey]]; default message [La clave pública es obligatoria]] ]
2026-02-12 11:47:49 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest): [Field error in object 'registerRequest' on field 'id': rejected value [INVALID-ID]; codes [Pattern.registerRequest.id,Pattern.id,Pattern.java.lang.String,Pattern]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.id,id]; arguments []; default message [id],[Ljakarta.validation.constraints.Pattern$Flag;@45753c22,^HNET-[A-Za-z0-9]{5,}$]; default message [El ID debe empezar por HNET- y tener caracteres alfanuméricos]] ]
2026-02-12 11:47:49 [main] INFO  c.h.api.HermnetApiApplicationTests - Starting HermnetApiApplicationTests using Java 21.0.6 with PID 1600 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 11:47:49 [main] INFO  c.h.api.HermnetApiApplicationTests - No active profile set, falling back to 1 default profile: "default"
2026-02-12 11:47:50 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-12 11:47:50 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1659d7d
2026-02-12 11:47:50 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-12 11:47:51 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-12 11:47:52 [main] DEBUG org.hibernate.SQL - set client_min_messages = WARNING
2026-02-12 11:47:52 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges drop constraint if exists FKl5m80koyne9ork274crpw6jv
2026-02-12 11:47:52 [main] DEBUG org.hibernate.SQL - drop table if exists auth_challenges cascade
2026-02-12 11:47:52 [main] DEBUG org.hibernate.SQL - drop table if exists mailbox cascade
2026-02-12 11:47:52 [main] DEBUG org.hibernate.SQL - drop table if exists rate_limit_buckets cascade
2026-02-12 11:47:52 [main] DEBUG org.hibernate.SQL - drop table if exists token_blacklist cascade
2026-02-12 11:47:52 [main] DEBUG org.hibernate.SQL - drop table if exists users cascade
2026-02-12 11:47:52 [main] DEBUG org.hibernate.SQL - create table auth_challenges (challenge_id bigint generated by default as identity, expires_at timestamp(6) not null, nonce varchar(64) not null, user_hash varchar(64) not null, primary key (challenge_id))
2026-02-12 11:47:52 [main] DEBUG org.hibernate.SQL - create table mailbox (created_at timestamp(6) not null, message_id bigint generated by default as identity, recipient_hash varchar(64) not null, stego_packet oid not null, primary key (message_id))
2026-02-12 11:47:52 [main] DEBUG org.hibernate.SQL - create table rate_limit_buckets (request_count integer not null, reset_time timestamp(6) not null, ip_hash varchar(64) not null, primary key (ip_hash))
2026-02-12 11:47:52 [main] DEBUG org.hibernate.SQL - create table token_blacklist (expires_at timestamp(6) not null, revoked_reason varchar(20), jti varchar(36) not null, primary key (jti))
2026-02-12 11:47:52 [main] DEBUG org.hibernate.SQL - create table users (created_at timestamp(6) not null, id_hash varchar(64) not null, public_key TEXT not null unique, push_token TEXT, primary key (id_hash))
2026-02-12 11:47:52 [main] DEBUG org.hibernate.SQL - create index idx_mailbox_recipient on mailbox (recipient_hash)
2026-02-12 11:47:52 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges add constraint FKl5m80koyne9ork274crpw6jv foreign key (user_hash) references users
2026-02-12 11:47:53 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-12 11:47:53 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 076d00ed-6297-47df-af8c-fe3386a575f5

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 11:47:53 [main] INFO  c.h.api.HermnetApiApplicationTests - Started HermnetApiApplicationTests in 4.308 seconds (process running for 11.575)
2026-02-12 11:47:53 [main] INFO  c.h.a.r.AuthChallengeRepositoryTest - Starting AuthChallengeRepositoryTest using Java 21.0.6 with PID 1600 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 11:47:53 [main] INFO  c.h.a.r.AuthChallengeRepositoryTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 11:47:54 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2026-02-12 11:47:54 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@3e42cff9
2026-02-12 11:47:54 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2026-02-12 11:47:54 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-12 11:47:54 [main] DEBUG org.hibernate.SQL - set client_min_messages = WARNING
2026-02-12 11:47:54 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges drop constraint if exists FKl5m80koyne9ork274crpw6jv
2026-02-12 11:47:54 [main] DEBUG org.hibernate.SQL - drop table if exists auth_challenges cascade
2026-02-12 11:47:54 [main] DEBUG org.hibernate.SQL - drop table if exists mailbox cascade
2026-02-12 11:47:54 [main] DEBUG org.hibernate.SQL - drop table if exists rate_limit_buckets cascade
2026-02-12 11:47:54 [main] DEBUG org.hibernate.SQL - drop table if exists token_blacklist cascade
2026-02-12 11:47:54 [main] DEBUG org.hibernate.SQL - drop table if exists users cascade
2026-02-12 11:47:54 [main] DEBUG org.hibernate.SQL - create table auth_challenges (challenge_id bigint generated by default as identity, expires_at timestamp(6) not null, nonce varchar(64) not null, user_hash varchar(64) not null, primary key (challenge_id))
2026-02-12 11:47:54 [main] DEBUG org.hibernate.SQL - create table mailbox (created_at timestamp(6) not null, message_id bigint generated by default as identity, recipient_hash varchar(64) not null, stego_packet oid not null, primary key (message_id))
2026-02-12 11:47:54 [main] DEBUG org.hibernate.SQL - create table rate_limit_buckets (request_count integer not null, reset_time timestamp(6) not null, ip_hash varchar(64) not null, primary key (ip_hash))
2026-02-12 11:47:54 [main] DEBUG org.hibernate.SQL - create table token_blacklist (expires_at timestamp(6) not null, revoked_reason varchar(20), jti varchar(36) not null, primary key (jti))
2026-02-12 11:47:54 [main] DEBUG org.hibernate.SQL - create table users (created_at timestamp(6) not null, id_hash varchar(64) not null, public_key TEXT not null unique, push_token TEXT, primary key (id_hash))
2026-02-12 11:47:54 [main] DEBUG org.hibernate.SQL - create index idx_mailbox_recipient on mailbox (recipient_hash)
2026-02-12 11:47:54 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges add constraint FKl5m80koyne9ork274crpw6jv foreign key (user_hash) references users
2026-02-12 11:47:54 [main] INFO  c.h.a.r.AuthChallengeRepositoryTest - Started AuthChallengeRepositoryTest in 0.722 seconds (process running for 12.509)
2026-02-12 11:47:54 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 11:47:54 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:47:54 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:47:54 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 11:47:54 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:47:54 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 11:47:54 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 11:47:54 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.expires_at<?
2026-02-12 11:47:54 [main] DEBUG org.hibernate.SQL - delete from auth_challenges where challenge_id=?
2026-02-12 11:47:54 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 11:47:54 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 11:47:54 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:47:54 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:47:54 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 11:47:54 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:47:54 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 11:47:54 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.nonce=?
2026-02-12 11:47:54 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 11:47:54 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:47:54 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:47:54 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 11:47:54 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:47:54 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 11:47:54 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 11:47:54 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:47:54 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 11:47:54 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:47:54 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select count(*) from auth_challenges ac1_0
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.user_hash=?
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - delete from auth_challenges where challenge_id=?
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - delete from auth_challenges where challenge_id=?
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select count(*) from auth_challenges ac1_0
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.nonce=?
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.user_hash=?
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - insert into token_blacklist (expires_at,revoked_reason,jti) values (?,?,?)
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - insert into token_blacklist (expires_at,revoked_reason,jti) values (?,?,?)
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - delete from token_blacklist where jti=?
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0 where m1_0.created_at<?
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - delete from mailbox where message_id=?
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0 where m1_0.recipient_hash=? order by m1_0.created_at desc
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0 where rlb1_0.ip_hash=?
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0 where rlb1_0.ip_hash=?
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0 where rlb1_0.ip_hash=?
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.public_key=?
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.public_key=?
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:47:55 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:47:56 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 11:47:56 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 11:47:56 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
2026-02-12 11:47:56 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: duplicate key value violates unique constraint "users_public_key_key"
  Detail: Key (public_key)=(duplicate-key) already exists.
2026-02-12 11:47:56 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:47:56 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:47:56 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 11:47:56 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 11:47:56 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 11:47:56 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:47:56 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:47:56 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:47:56 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 11:47:56 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 11:47:56 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:47:56 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 11:47:56 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 11:47:56 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 11:47:56 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:47:56 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 11:47:56 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:47:56 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:47:56 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:47:56 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:47:56 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:47:56 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 11:47:56 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 11:47:56 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 11:47:56 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:47:56 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 11:47:56 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 11:47:56 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 11:47:56 [main] DEBUG org.hibernate.SQL - update users set public_key=?,push_token=? where id_hash=?
2026-02-12 11:47:56 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 11:47:56 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-12 11:47:56 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-02-12 11:47:56 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2026-02-12 11:47:56 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2026-02-12 11:57:07 [main] INFO  c.h.a.c.MessageControllerTest - Starting MessageControllerTest using Java 21.0.6 with PID 6852 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 11:57:07 [main] INFO  c.h.a.c.MessageControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 11:57:11 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: e0d648e4-c9f3-4ffd-92b0-6945950e32c0

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 11:57:11 [main] INFO  c.h.a.c.MessageControllerTest - Started MessageControllerTest in 4.542 seconds (process running for 6.054)
2026-02-12 12:00:42 [main] INFO  c.h.a.c.MessageControllerTest - Starting MessageControllerTest using Java 21.0.6 with PID 5032 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 12:00:42 [main] INFO  c.h.a.c.MessageControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 12:00:46 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 8d9a9f43-2807-4828-92f0-f1e9b2d46851

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 12:00:46 [main] INFO  c.h.a.c.MessageControllerTest - Started MessageControllerTest in 4.57 seconds (process running for 6.099)
2026-02-12 12:00:46 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.hermnet.api.controller.MessageController.sendMessage(com.hermnet.api.dto.SendMessageRequest): [Field error in object 'sendMessageRequest' on field 'stegoImage': rejected value [null]; codes [NotNull.sendMessageRequest.stegoImage,NotNull.stegoImage,NotNull.[B,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [sendMessageRequest.stegoImage,stegoImage]; arguments []; default message [stegoImage]]; default message [Stego image is required]] ]
2026-02-12 12:00:46 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.hermnet.api.controller.MessageController.sendMessage(com.hermnet.api.dto.SendMessageRequest): [Field error in object 'sendMessageRequest' on field 'recipientId': rejected value []; codes [NotBlank.sendMessageRequest.recipientId,NotBlank.recipientId,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [sendMessageRequest.recipientId,recipientId]; arguments []; default message [recipientId]]; default message [Recipient ID is required]] ]
2026-02-12 12:00:46 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.hermnet.api.controller.MessageController.sendMessage(com.hermnet.api.dto.SendMessageRequest): [Field error in object 'sendMessageRequest' on field 'stegoImage': rejected value [{}]; codes [Size.sendMessageRequest.stegoImage,Size.stegoImage,Size.[B,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [sendMessageRequest.stegoImage,stegoImage]; arguments []; default message [stegoImage],2147483647,1]; default message [Stego image cannot be empty]] ]
2026-02-12 12:02:03 [main] INFO  c.h.a.controller.AuthControllerTest - Starting AuthControllerTest using Java 21.0.6 with PID 12528 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 12:02:03 [main] INFO  c.h.a.controller.AuthControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 12:02:07 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: d6d0511f-c18a-45ec-99c0-cccf9624c4b6

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 12:02:07 [main] INFO  c.h.a.controller.AuthControllerTest - Started AuthControllerTest in 5.026 seconds (process running for 6.911)
2026-02-12 12:02:08 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest): [Field error in object 'registerRequest' on field 'publicKey': rejected value []; codes [NotBlank.registerRequest.publicKey,NotBlank.publicKey,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.publicKey,publicKey]; arguments []; default message [publicKey]]; default message [La clave pública es obligatoria]] ]
2026-02-12 12:02:08 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest): [Field error in object 'registerRequest' on field 'id': rejected value [HNET-1234]; codes [Pattern.registerRequest.id,Pattern.id,Pattern.java.lang.String,Pattern]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.id,id]; arguments []; default message [id],[Ljakarta.validation.constraints.Pattern$Flag;@3bda1f0,^HNET-[A-Za-z0-9]{5,}$]; default message [El ID debe empezar por HNET- y tener caracteres alfanuméricos]] ]
2026-02-12 12:02:08 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest): [Field error in object 'registerRequest' on field 'id': rejected value [INVALID-ID]; codes [Pattern.registerRequest.id,Pattern.id,Pattern.java.lang.String,Pattern]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.id,id]; arguments []; default message [id],[Ljakarta.validation.constraints.Pattern$Flag;@3bda1f0,^HNET-[A-Za-z0-9]{5,}$]; default message [El ID debe empezar por HNET- y tener caracteres alfanuméricos]] ]
2026-02-12 12:02:08 [main] INFO  c.h.a.c.MessageControllerTest - Starting MessageControllerTest using Java 21.0.6 with PID 12528 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 12:02:08 [main] INFO  c.h.a.c.MessageControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 12:02:09 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: f943a72b-53d7-41f9-b5c6-c4af719a10b9

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 12:02:09 [main] INFO  c.h.a.c.MessageControllerTest - Started MessageControllerTest in 1.144 seconds (process running for 9.025)
2026-02-12 12:02:09 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.hermnet.api.controller.MessageController.sendMessage(com.hermnet.api.dto.SendMessageRequest): [Field error in object 'sendMessageRequest' on field 'stegoImage': rejected value [null]; codes [NotNull.sendMessageRequest.stegoImage,NotNull.stegoImage,NotNull.[B,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [sendMessageRequest.stegoImage,stegoImage]; arguments []; default message [stegoImage]]; default message [Stego image is required]] ]
2026-02-12 12:02:09 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.hermnet.api.controller.MessageController.sendMessage(com.hermnet.api.dto.SendMessageRequest): [Field error in object 'sendMessageRequest' on field 'recipientId': rejected value []; codes [NotBlank.sendMessageRequest.recipientId,NotBlank.recipientId,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [sendMessageRequest.recipientId,recipientId]; arguments []; default message [recipientId]]; default message [Recipient ID is required]] ]
2026-02-12 12:02:09 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.hermnet.api.controller.MessageController.sendMessage(com.hermnet.api.dto.SendMessageRequest): [Field error in object 'sendMessageRequest' on field 'stegoImage': rejected value [{}]; codes [Size.sendMessageRequest.stegoImage,Size.stegoImage,Size.[B,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [sendMessageRequest.stegoImage,stegoImage]; arguments []; default message [stegoImage],2147483647,1]; default message [Stego image cannot be empty]] ]
2026-02-12 16:39:32 [main] INFO  c.h.a.controller.AuthControllerTest - Starting AuthControllerTest using Java 21.0.6 with PID 4864 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 16:39:32 [main] INFO  c.h.a.controller.AuthControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 16:39:35 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 497fb336-ec33-4713-b0f8-ab700b2f1e91

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 16:39:35 [main] INFO  c.h.a.controller.AuthControllerTest - Started AuthControllerTest in 4.377 seconds (process running for 9.124)
2026-02-12 16:39:36 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest): [Field error in object 'registerRequest' on field 'publicKey': rejected value []; codes [NotBlank.registerRequest.publicKey,NotBlank.publicKey,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.publicKey,publicKey]; arguments []; default message [publicKey]]; default message [La clave pública es obligatoria]] ]
2026-02-12 16:39:36 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest): [Field error in object 'registerRequest' on field 'id': rejected value [HNET-1234]; codes [Pattern.registerRequest.id,Pattern.id,Pattern.java.lang.String,Pattern]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.id,id]; arguments []; default message [id],[Ljakarta.validation.constraints.Pattern$Flag;@54530644,^HNET-[A-Za-z0-9]{5,}$]; default message [El ID debe empezar por HNET- y tener caracteres alfanuméricos]] ]
2026-02-12 16:39:36 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest): [Field error in object 'registerRequest' on field 'id': rejected value [INVALID-ID]; codes [Pattern.registerRequest.id,Pattern.id,Pattern.java.lang.String,Pattern]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.id,id]; arguments []; default message [id],[Ljakarta.validation.constraints.Pattern$Flag;@54530644,^HNET-[A-Za-z0-9]{5,}$]; default message [El ID debe empezar por HNET- y tener caracteres alfanuméricos]] ]
2026-02-12 16:39:36 [main] INFO  c.h.a.c.MessageControllerTest - Starting MessageControllerTest using Java 21.0.6 with PID 4864 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 16:39:36 [main] INFO  c.h.a.c.MessageControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 16:39:37 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 3bc4b89d-2451-4b92-af5e-d326deee71d2

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 16:39:37 [main] INFO  c.h.a.c.MessageControllerTest - Started MessageControllerTest in 0.739 seconds (process running for 10.509)
2026-02-12 16:39:37 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.hermnet.api.controller.MessageController.sendMessage(com.hermnet.api.dto.SendMessageRequest): [Field error in object 'sendMessageRequest' on field 'stegoImage': rejected value [null]; codes [NotNull.sendMessageRequest.stegoImage,NotNull.stegoImage,NotNull.[B,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [sendMessageRequest.stegoImage,stegoImage]; arguments []; default message [stegoImage]]; default message [Stego image is required]] ]
2026-02-12 16:39:37 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.hermnet.api.controller.MessageController.sendMessage(com.hermnet.api.dto.SendMessageRequest): [Field error in object 'sendMessageRequest' on field 'recipientId': rejected value []; codes [NotBlank.sendMessageRequest.recipientId,NotBlank.recipientId,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [sendMessageRequest.recipientId,recipientId]; arguments []; default message [recipientId]]; default message [Recipient ID is required]] ]
2026-02-12 16:39:37 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.hermnet.api.controller.MessageController.sendMessage(com.hermnet.api.dto.SendMessageRequest): [Field error in object 'sendMessageRequest' on field 'stegoImage': rejected value [{}]; codes [Size.sendMessageRequest.stegoImage,Size.stegoImage,Size.[B,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [sendMessageRequest.stegoImage,stegoImage]; arguments []; default message [stegoImage],2147483647,1]; default message [Stego image cannot be empty]] ]
2026-02-12 16:39:37 [main] INFO  c.h.api.HermnetApiApplicationTests - Starting HermnetApiApplicationTests using Java 21.0.6 with PID 4864 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 16:39:37 [main] INFO  c.h.api.HermnetApiApplicationTests - No active profile set, falling back to 1 default profile: "default"
2026-02-12 16:39:38 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-12 16:39:39 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@56ece9c
2026-02-12 16:39:39 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-12 16:39:40 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-12 16:39:41 [main] DEBUG org.hibernate.SQL - set client_min_messages = WARNING
2026-02-12 16:39:41 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges drop constraint if exists FKl5m80koyne9ork274crpw6jv
2026-02-12 16:39:41 [main] DEBUG org.hibernate.SQL - drop table if exists auth_challenges cascade
2026-02-12 16:39:41 [main] DEBUG org.hibernate.SQL - drop table if exists mailbox cascade
2026-02-12 16:39:41 [main] DEBUG org.hibernate.SQL - drop table if exists rate_limit_buckets cascade
2026-02-12 16:39:41 [main] DEBUG org.hibernate.SQL - drop table if exists token_blacklist cascade
2026-02-12 16:39:41 [main] DEBUG org.hibernate.SQL - drop table if exists users cascade
2026-02-12 16:39:41 [main] DEBUG org.hibernate.SQL - create table auth_challenges (challenge_id bigint generated by default as identity, expires_at timestamp(6) not null, nonce varchar(64) not null, user_hash varchar(64) not null, primary key (challenge_id))
2026-02-12 16:39:41 [main] DEBUG org.hibernate.SQL - create table mailbox (created_at timestamp(6) not null, message_id bigint generated by default as identity, recipient_hash varchar(64) not null, stego_packet oid not null, primary key (message_id))
2026-02-12 16:39:41 [main] DEBUG org.hibernate.SQL - create table rate_limit_buckets (request_count integer not null, reset_time timestamp(6) not null, ip_hash varchar(64) not null, primary key (ip_hash))
2026-02-12 16:39:41 [main] DEBUG org.hibernate.SQL - create table token_blacklist (expires_at timestamp(6) not null, revoked_reason varchar(20), jti varchar(36) not null, primary key (jti))
2026-02-12 16:39:41 [main] DEBUG org.hibernate.SQL - create table users (created_at timestamp(6) not null, id_hash varchar(64) not null, public_key TEXT not null unique, push_token TEXT, primary key (id_hash))
2026-02-12 16:39:41 [main] DEBUG org.hibernate.SQL - create index idx_mailbox_recipient on mailbox (recipient_hash)
2026-02-12 16:39:41 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges add constraint FKl5m80koyne9ork274crpw6jv foreign key (user_hash) references users
2026-02-12 16:39:41 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-12 16:39:41 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 9cd546a6-4526-4c1d-aeaf-062a0f0a021a

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 16:39:42 [main] INFO  c.h.api.HermnetApiApplicationTests - Started HermnetApiApplicationTests in 5.015 seconds (process running for 15.677)
2026-02-12 16:39:42 [main] INFO  c.h.a.r.AuthChallengeRepositoryTest - Starting AuthChallengeRepositoryTest using Java 21.0.6 with PID 4864 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 16:39:42 [main] INFO  c.h.a.r.AuthChallengeRepositoryTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 16:39:42 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2026-02-12 16:39:42 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@49bc9588
2026-02-12 16:39:42 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2026-02-12 16:39:42 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-12 16:39:43 [main] DEBUG org.hibernate.SQL - set client_min_messages = WARNING
2026-02-12 16:39:43 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges drop constraint if exists FKl5m80koyne9ork274crpw6jv
2026-02-12 16:39:43 [main] DEBUG org.hibernate.SQL - drop table if exists auth_challenges cascade
2026-02-12 16:39:43 [main] DEBUG org.hibernate.SQL - drop table if exists mailbox cascade
2026-02-12 16:39:43 [main] DEBUG org.hibernate.SQL - drop table if exists rate_limit_buckets cascade
2026-02-12 16:39:43 [main] DEBUG org.hibernate.SQL - drop table if exists token_blacklist cascade
2026-02-12 16:39:43 [main] DEBUG org.hibernate.SQL - drop table if exists users cascade
2026-02-12 16:39:43 [main] DEBUG org.hibernate.SQL - create table auth_challenges (challenge_id bigint generated by default as identity, expires_at timestamp(6) not null, nonce varchar(64) not null, user_hash varchar(64) not null, primary key (challenge_id))
2026-02-12 16:39:43 [main] DEBUG org.hibernate.SQL - create table mailbox (created_at timestamp(6) not null, message_id bigint generated by default as identity, recipient_hash varchar(64) not null, stego_packet oid not null, primary key (message_id))
2026-02-12 16:39:43 [main] DEBUG org.hibernate.SQL - create table rate_limit_buckets (request_count integer not null, reset_time timestamp(6) not null, ip_hash varchar(64) not null, primary key (ip_hash))
2026-02-12 16:39:43 [main] DEBUG org.hibernate.SQL - create table token_blacklist (expires_at timestamp(6) not null, revoked_reason varchar(20), jti varchar(36) not null, primary key (jti))
2026-02-12 16:39:43 [main] DEBUG org.hibernate.SQL - create table users (created_at timestamp(6) not null, id_hash varchar(64) not null, public_key TEXT not null unique, push_token TEXT, primary key (id_hash))
2026-02-12 16:39:43 [main] DEBUG org.hibernate.SQL - create index idx_mailbox_recipient on mailbox (recipient_hash)
2026-02-12 16:39:43 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges add constraint FKl5m80koyne9ork274crpw6jv foreign key (user_hash) references users
2026-02-12 16:39:43 [main] INFO  c.h.a.r.AuthChallengeRepositoryTest - Started AuthChallengeRepositoryTest in 0.727 seconds (process running for 16.558)
2026-02-12 16:39:43 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 16:39:43 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 16:39:43 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 16:39:43 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 16:39:43 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 16:39:43 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 16:39:43 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 16:39:43 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.expires_at<?
2026-02-12 16:39:43 [main] DEBUG org.hibernate.SQL - delete from auth_challenges where challenge_id=?
2026-02-12 16:39:43 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 16:39:43 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 16:39:43 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 16:39:43 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 16:39:43 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 16:39:43 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 16:39:43 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 16:39:43 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.nonce=?
2026-02-12 16:39:43 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 16:39:43 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 16:39:43 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 16:39:43 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 16:39:43 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 16:39:43 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 16:39:43 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 16:39:43 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 16:39:43 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 16:39:43 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 16:39:43 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 16:39:44 [main] DEBUG org.hibernate.SQL - select count(*) from auth_challenges ac1_0
2026-02-12 16:39:44 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.user_hash=?
2026-02-12 16:39:44 [main] DEBUG org.hibernate.SQL - delete from auth_challenges where challenge_id=?
2026-02-12 16:39:44 [main] DEBUG org.hibernate.SQL - delete from auth_challenges where challenge_id=?
2026-02-12 16:39:44 [main] DEBUG org.hibernate.SQL - select count(*) from auth_challenges ac1_0
2026-02-12 16:39:44 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.nonce=?
2026-02-12 16:39:44 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 16:39:44 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 16:39:44 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 16:39:44 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.user_hash=?
2026-02-12 16:39:44 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0
2026-02-12 16:39:44 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 16:39:44 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0
2026-02-12 16:39:44 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 16:39:44 [main] DEBUG org.hibernate.SQL - insert into token_blacklist (expires_at,revoked_reason,jti) values (?,?,?)
2026-02-12 16:39:44 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 16:39:44 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 16:39:44 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0
2026-02-12 16:39:44 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 16:39:44 [main] DEBUG org.hibernate.SQL - insert into token_blacklist (expires_at,revoked_reason,jti) values (?,?,?)
2026-02-12 16:39:44 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 16:39:44 [main] DEBUG org.hibernate.SQL - delete from token_blacklist where jti=?
2026-02-12 16:39:44 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 16:39:44 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 16:39:44 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 16:39:44 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 16:39:44 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 16:39:44 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 16:39:44 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0 where m1_0.created_at<?
2026-02-12 16:39:44 [main] DEBUG org.hibernate.SQL - delete from mailbox where message_id=?
2026-02-12 16:39:44 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 16:39:44 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 16:39:44 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0 where m1_0.recipient_hash=? order by m1_0.created_at desc
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0 where rlb1_0.ip_hash=?
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0 where rlb1_0.ip_hash=?
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0 where rlb1_0.ip_hash=?
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.public_key=?
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.public_key=?
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 16:39:45 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
2026-02-12 16:39:45 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: duplicate key value violates unique constraint "users_public_key_key"
  Detail: Key (public_key)=(duplicate-key) already exists.
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - update users set public_key=?,push_token=? where id_hash=?
2026-02-12 16:39:45 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 16:39:45 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-12 16:39:45 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-02-12 16:39:45 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2026-02-12 16:39:45 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
<<<<<<< HEAD
2026-02-12 17:06:51 [main] INFO  c.h.a.controller.AuthControllerTest - Starting AuthControllerTest using Java 21.0.6 with PID 20960 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 17:06:51 [main] INFO  c.h.a.controller.AuthControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 17:06:54 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: e7453a37-777f-40c5-b5ae-d4d9017196e6

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 17:06:55 [main] INFO  c.h.a.controller.AuthControllerTest - Started AuthControllerTest in 3.65 seconds (process running for 4.86)
2026-02-12 17:06:55 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest): [Field error in object 'registerRequest' on field 'publicKey': rejected value []; codes [NotBlank.registerRequest.publicKey,NotBlank.publicKey,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.publicKey,publicKey]; arguments []; default message [publicKey]]; default message [La clave pública es obligatoria]] ]
2026-02-12 17:06:55 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest): [Field error in object 'registerRequest' on field 'id': rejected value [HNET-1234]; codes [Pattern.registerRequest.id,Pattern.id,Pattern.java.lang.String,Pattern]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.id,id]; arguments []; default message [id],[Ljakarta.validation.constraints.Pattern$Flag;@4a47bc9c,^HNET-[A-Za-z0-9]{5,}$]; default message [El ID debe empezar por HNET- y tener caracteres alfanuméricos]] ]
2026-02-12 17:06:55 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest): [Field error in object 'registerRequest' on field 'id': rejected value [INVALID-ID]; codes [Pattern.registerRequest.id,Pattern.id,Pattern.java.lang.String,Pattern]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.id,id]; arguments []; default message [id],[Ljakarta.validation.constraints.Pattern$Flag;@4a47bc9c,^HNET-[A-Za-z0-9]{5,}$]; default message [El ID debe empezar por HNET- y tener caracteres alfanuméricos]] ]
=======
>>>>>>> dc477c751fa40f93564f84812c5e9f8664a5937f
2026-02-12 19:20:57 [main] INFO  c.h.a.c.MessageControllerSecurityTest - Starting MessageControllerSecurityTest using Java 21.0.6 with PID 19276 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 19:20:57 [main] INFO  c.h.a.c.MessageControllerSecurityTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 19:21:00 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 7485511a-308d-4078-8786-241b74a6b816

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 19:21:01 [main] INFO  c.h.a.c.MessageControllerSecurityTest - Started MessageControllerSecurityTest in 4.126 seconds (process running for 5.336)
2026-02-12 19:25:18 [main] INFO  c.h.a.s.SecurityIntegrationTest - Starting SecurityIntegrationTest using Java 21.0.6 with PID 13664 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 19:25:18 [main] INFO  c.h.a.s.SecurityIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 19:25:21 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-12 19:25:22 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@362be0cd
2026-02-12 19:25:22 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-12 19:25:22 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-12 19:25:23 [main] DEBUG org.hibernate.SQL - set client_min_messages = WARNING
2026-02-12 19:25:23 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges drop constraint if exists FKl5m80koyne9ork274crpw6jv
2026-02-12 19:25:23 [main] DEBUG org.hibernate.SQL - drop table if exists auth_challenges cascade
2026-02-12 19:25:23 [main] DEBUG org.hibernate.SQL - drop table if exists mailbox cascade
2026-02-12 19:25:23 [main] DEBUG org.hibernate.SQL - drop table if exists rate_limit_buckets cascade
2026-02-12 19:25:23 [main] DEBUG org.hibernate.SQL - drop table if exists token_blacklist cascade
2026-02-12 19:25:23 [main] DEBUG org.hibernate.SQL - drop table if exists users cascade
2026-02-12 19:25:23 [main] DEBUG org.hibernate.SQL - create table auth_challenges (challenge_id bigint generated by default as identity, expires_at timestamp(6) not null, nonce varchar(64) not null, user_hash varchar(64) not null, primary key (challenge_id))
2026-02-12 19:25:23 [main] DEBUG org.hibernate.SQL - create table mailbox (created_at timestamp(6) not null, message_id bigint generated by default as identity, recipient_hash varchar(64) not null, stego_packet oid not null, primary key (message_id))
2026-02-12 19:25:24 [main] DEBUG org.hibernate.SQL - create table rate_limit_buckets (request_count integer not null, reset_time timestamp(6) not null, ip_hash varchar(64) not null, primary key (ip_hash))
2026-02-12 19:25:24 [main] DEBUG org.hibernate.SQL - create table token_blacklist (expires_at timestamp(6) not null, revoked_reason varchar(20), jti varchar(36) not null, primary key (jti))
2026-02-12 19:25:24 [main] DEBUG org.hibernate.SQL - create table users (created_at timestamp(6) not null, id_hash varchar(64) not null, public_key TEXT not null unique, push_token TEXT, primary key (id_hash))
2026-02-12 19:25:24 [main] DEBUG org.hibernate.SQL - create index idx_mailbox_recipient on mailbox (recipient_hash)
2026-02-12 19:25:24 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges add constraint FKl5m80koyne9ork274crpw6jv foreign key (user_hash) references users
2026-02-12 19:25:24 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-12 19:25:24 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 3b72ac09-d00f-4455-82ff-6d5daf27e394

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 19:25:25 [main] INFO  c.h.a.s.SecurityIntegrationTest - Started SecurityIntegrationTest in 7.228 seconds (process running for 8.44)
2026-02-12 19:25:25 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest) with 2 errors: [Field error in object 'registerRequest' on field 'publicKey': rejected value [null]; codes [NotBlank.registerRequest.publicKey,NotBlank.publicKey,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.publicKey,publicKey]; arguments []; default message [publicKey]]; default message [La clave pública es obligatoria]] [Field error in object 'registerRequest' on field 'id': rejected value [null]; codes [NotBlank.registerRequest.id,NotBlank.id,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.id,id]; arguments []; default message [id]]; default message [El ID es obligatorio]] ]
2026-02-12 19:25:26 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-12 19:25:26 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-02-12 21:08:26 [main] INFO  c.h.a.c.MessageControllerTest - Starting MessageControllerTest using Java 21.0.6 with PID 19684 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:08:26 [main] INFO  c.h.a.c.MessageControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:08:28 [main] WARN  o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\alvar\Desktop\Hermnet\backend\target\classes\com\hermnet\api\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.hermnet.api.security.JwtTokenProvider' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2026-02-12 21:08:28 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.hermnet.api.security.JwtAuthenticationFilter required a bean of type 'com.hermnet.api.security.JwtTokenProvider' that could not be found.


Action:

Consider defining a bean of type 'com.hermnet.api.security.JwtTokenProvider' in your configuration.

2026-02-12 21:08:28 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [com.hermnet.api.controller.MessageControllerTest@74a85515]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@671d97bc testClass = com.hermnet.api.controller.MessageControllerTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@774f2992 key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e8b7643, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@73d983ea, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@aa07ffae, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@b4711e2, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@62010f5c, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@5c44c582, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@ff800b71, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc9af227, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@45312be2, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@481651c7], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:128)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:112)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:69)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\alvar\Desktop\Hermnet\backend\target\classes\com\hermnet\api\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.hermnet.api.security.JwtTokenProvider' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:152)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:595)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:152)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:111)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.hermnet.api.security.JwtTokenProvider' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:2315)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1733)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1653)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 107 common frames omitted
2026-02-12 21:08:29 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [com.hermnet.api.controller.MessageControllerTest@bd273b2]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@671d97bc testClass = com.hermnet.api.controller.MessageControllerTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@774f2992 key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e8b7643, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@73d983ea, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@aa07ffae, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@b4711e2, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@62010f5c, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@5c44c582, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@ff800b71, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc9af227, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@45312be2, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@481651c7], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:128)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:112)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:69)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2026-02-12 21:08:29 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [com.hermnet.api.controller.MessageControllerTest@e881e46]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@671d97bc testClass = com.hermnet.api.controller.MessageControllerTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@774f2992 key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e8b7643, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@73d983ea, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@aa07ffae, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@b4711e2, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@62010f5c, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@5c44c582, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@ff800b71, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc9af227, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@45312be2, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@481651c7], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:128)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:112)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:69)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2026-02-12 21:08:29 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [com.hermnet.api.controller.MessageControllerTest@144a5e6e]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@671d97bc testClass = com.hermnet.api.controller.MessageControllerTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@774f2992 key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e8b7643, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@73d983ea, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@aa07ffae, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@b4711e2, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@62010f5c, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@5c44c582, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@ff800b71, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc9af227, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@45312be2, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@481651c7], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:128)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:112)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:69)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2026-02-12 21:08:29 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [com.hermnet.api.controller.MessageControllerTest@6c27e700]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@671d97bc testClass = com.hermnet.api.controller.MessageControllerTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@774f2992 key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e8b7643, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@73d983ea, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@aa07ffae, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@b4711e2, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@62010f5c, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@5c44c582, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@ff800b71, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc9af227, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@45312be2, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@481651c7], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:128)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:112)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:69)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2026-02-12 21:08:54 [main] INFO  c.h.a.c.MessageControllerTest - Starting MessageControllerTest using Java 21.0.6 with PID 20320 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:08:54 [main] INFO  c.h.a.c.MessageControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:08:56 [main] WARN  o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\alvar\Desktop\Hermnet\backend\target\classes\com\hermnet\api\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.hermnet.api.security.JwtTokenProvider' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2026-02-12 21:08:56 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.hermnet.api.security.JwtAuthenticationFilter required a bean of type 'com.hermnet.api.security.JwtTokenProvider' that could not be found.


Action:

Consider defining a bean of type 'com.hermnet.api.security.JwtTokenProvider' in your configuration.

2026-02-12 21:08:56 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [com.hermnet.api.controller.MessageControllerTest@6eeb29c0]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@d49e8c6 testClass = com.hermnet.api.controller.MessageControllerTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@2712e8f4 key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e8b7643, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@73d983ea, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@aa07ffae, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@b4711e2, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@62010f5c, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@5c44c582, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@ff800b71, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc9af227, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@45312be2, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@481651c7], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:128)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:112)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:69)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\alvar\Desktop\Hermnet\backend\target\classes\com\hermnet\api\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.hermnet.api.security.JwtTokenProvider' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:152)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:595)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:152)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:111)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.hermnet.api.security.JwtTokenProvider' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:2315)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1733)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1653)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 107 common frames omitted
2026-02-12 21:08:56 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [com.hermnet.api.controller.MessageControllerTest@2bb0e277]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@d49e8c6 testClass = com.hermnet.api.controller.MessageControllerTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@2712e8f4 key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e8b7643, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@73d983ea, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@aa07ffae, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@b4711e2, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@62010f5c, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@5c44c582, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@ff800b71, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc9af227, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@45312be2, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@481651c7], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:128)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:112)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:69)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2026-02-12 21:08:56 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [com.hermnet.api.controller.MessageControllerTest@78545d40]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@d49e8c6 testClass = com.hermnet.api.controller.MessageControllerTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@2712e8f4 key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e8b7643, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@73d983ea, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@aa07ffae, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@b4711e2, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@62010f5c, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@5c44c582, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@ff800b71, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc9af227, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@45312be2, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@481651c7], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:128)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:112)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:69)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2026-02-12 21:08:56 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [com.hermnet.api.controller.MessageControllerTest@5635bcd2]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@d49e8c6 testClass = com.hermnet.api.controller.MessageControllerTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@2712e8f4 key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e8b7643, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@73d983ea, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@aa07ffae, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@b4711e2, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@62010f5c, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@5c44c582, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@ff800b71, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc9af227, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@45312be2, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@481651c7], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:128)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:112)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:69)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2026-02-12 21:08:56 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [com.hermnet.api.controller.MessageControllerTest@7de5871d]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@d49e8c6 testClass = com.hermnet.api.controller.MessageControllerTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@2712e8f4 key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e8b7643, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@73d983ea, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@aa07ffae, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@b4711e2, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@62010f5c, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@5c44c582, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@ff800b71, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc9af227, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@45312be2, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@481651c7], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:128)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:112)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:69)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2026-02-12 21:09:22 [main] INFO  c.h.a.c.MessageControllerTest - Starting MessageControllerTest using Java 21.0.6 with PID 15424 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:09:22 [main] INFO  c.h.a.c.MessageControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:09:24 [main] WARN  o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\alvar\Desktop\Hermnet\backend\target\classes\com\hermnet\api\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.hermnet.api.security.JwtTokenProvider' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2026-02-12 21:09:24 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.hermnet.api.security.JwtAuthenticationFilter required a bean of type 'com.hermnet.api.security.JwtTokenProvider' that could not be found.


Action:

Consider defining a bean of type 'com.hermnet.api.security.JwtTokenProvider' in your configuration.

2026-02-12 21:09:24 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [com.hermnet.api.controller.MessageControllerTest@5238896f]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@77cddc0c testClass = com.hermnet.api.controller.MessageControllerTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@671d97bc key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e8b7643, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@73d983ea, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@aa07ffae, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@b4711e2, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@62010f5c, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@5c44c582, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@ff800b71, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc9af227, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@45312be2, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@481651c7], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:128)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:112)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:69)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\alvar\Desktop\Hermnet\backend\target\classes\com\hermnet\api\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.hermnet.api.security.JwtTokenProvider' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:152)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:595)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:152)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:111)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.hermnet.api.security.JwtTokenProvider' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:2315)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1733)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1653)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 107 common frames omitted
2026-02-12 21:09:24 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [com.hermnet.api.controller.MessageControllerTest@6d420cdd]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@77cddc0c testClass = com.hermnet.api.controller.MessageControllerTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@671d97bc key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e8b7643, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@73d983ea, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@aa07ffae, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@b4711e2, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@62010f5c, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@5c44c582, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@ff800b71, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc9af227, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@45312be2, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@481651c7], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:128)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:112)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:69)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2026-02-12 21:09:24 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [com.hermnet.api.controller.MessageControllerTest@6f24ce45]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@77cddc0c testClass = com.hermnet.api.controller.MessageControllerTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@671d97bc key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e8b7643, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@73d983ea, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@aa07ffae, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@b4711e2, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@62010f5c, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@5c44c582, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@ff800b71, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc9af227, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@45312be2, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@481651c7], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:128)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:112)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:69)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2026-02-12 21:09:24 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [com.hermnet.api.controller.MessageControllerTest@34549979]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@77cddc0c testClass = com.hermnet.api.controller.MessageControllerTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@671d97bc key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e8b7643, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@73d983ea, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@aa07ffae, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@b4711e2, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@62010f5c, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@5c44c582, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@ff800b71, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc9af227, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@45312be2, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@481651c7], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:128)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:112)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:69)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2026-02-12 21:09:24 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [com.hermnet.api.controller.MessageControllerTest@5c5c7cc4]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@77cddc0c testClass = com.hermnet.api.controller.MessageControllerTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@671d97bc key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e8b7643, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@73d983ea, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@aa07ffae, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@b4711e2, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@62010f5c, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@5c44c582, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@ff800b71, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@dc9af227, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@45312be2, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@481651c7], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:128)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:112)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:69)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2026-02-12 21:10:03 [main] INFO  c.h.a.c.MessageControllerTest - Starting MessageControllerTest using Java 21.0.6 with PID 15212 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:10:03 [main] INFO  c.h.a.c.MessageControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:10:06 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 532ea5b2-f193-4bfe-9198-aa7a82b50bcc

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 21:10:07 [main] INFO  c.h.a.c.MessageControllerTest - Started MessageControllerTest in 3.839 seconds (process running for 5.014)
2026-02-12 21:10:07 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.hermnet.api.controller.MessageController.sendMessage(com.hermnet.api.dto.SendMessageRequest): [Field error in object 'sendMessageRequest' on field 'stegoImage': rejected value [null]; codes [NotNull.sendMessageRequest.stegoImage,NotNull.stegoImage,NotNull.[B,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [sendMessageRequest.stegoImage,stegoImage]; arguments []; default message [stegoImage]]; default message [Stego image is required]] ]
2026-02-12 21:10:07 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.hermnet.api.controller.MessageController.sendMessage(com.hermnet.api.dto.SendMessageRequest): [Field error in object 'sendMessageRequest' on field 'recipientId': rejected value []; codes [NotBlank.sendMessageRequest.recipientId,NotBlank.recipientId,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [sendMessageRequest.recipientId,recipientId]; arguments []; default message [recipientId]]; default message [Recipient ID is required]] ]
2026-02-12 21:10:07 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.hermnet.api.controller.MessageController.sendMessage(com.hermnet.api.dto.SendMessageRequest): [Field error in object 'sendMessageRequest' on field 'stegoImage': rejected value [{}]; codes [Size.sendMessageRequest.stegoImage,Size.stegoImage,Size.[B,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [sendMessageRequest.stegoImage,stegoImage]; arguments []; default message [stegoImage],2147483647,1]; default message [Stego image cannot be empty]] ]
2026-02-12 21:10:43 [main] INFO  c.h.a.controller.AuthControllerTest - Starting AuthControllerTest using Java 21.0.6 with PID 3048 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:10:43 [main] INFO  c.h.a.controller.AuthControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:10:45 [main] WARN  o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\alvar\Desktop\Hermnet\backend\target\classes\com\hermnet\api\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.hermnet.api.security.JwtTokenProvider' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2026-02-12 21:10:45 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.hermnet.api.security.JwtAuthenticationFilter required a bean of type 'com.hermnet.api.security.JwtTokenProvider' that could not be found.


Action:

Consider defining a bean of type 'com.hermnet.api.security.JwtTokenProvider' in your configuration.

2026-02-12 21:10:45 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [com.hermnet.api.controller.AuthControllerTest@154864f8]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@596afb2f testClass = com.hermnet.api.controller.AuthControllerTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@79ba0285 key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@15b642b9, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dfab87, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@b341cfd0, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@4c58255, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@53cf9c99, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@5ea4300e, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@837f38b8, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@54b6eaf, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7dbe2ebf, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@f0f22622], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:128)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:112)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:69)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\alvar\Desktop\Hermnet\backend\target\classes\com\hermnet\api\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.hermnet.api.security.JwtTokenProvider' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:152)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:595)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:152)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:111)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.hermnet.api.security.JwtTokenProvider' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:2315)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1733)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1653)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 107 common frames omitted
2026-02-12 21:10:45 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [com.hermnet.api.controller.AuthControllerTest@35329a05]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@596afb2f testClass = com.hermnet.api.controller.AuthControllerTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@79ba0285 key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@15b642b9, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dfab87, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@b341cfd0, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@4c58255, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@53cf9c99, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@5ea4300e, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@837f38b8, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@54b6eaf, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7dbe2ebf, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@f0f22622], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:128)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:112)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:69)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2026-02-12 21:10:45 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [com.hermnet.api.controller.AuthControllerTest@a120b9]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@596afb2f testClass = com.hermnet.api.controller.AuthControllerTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@79ba0285 key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@15b642b9, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dfab87, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@b341cfd0, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@4c58255, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@53cf9c99, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@5ea4300e, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@837f38b8, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@54b6eaf, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7dbe2ebf, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@f0f22622], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:128)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:112)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:69)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2026-02-12 21:10:45 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [com.hermnet.api.controller.AuthControllerTest@ac417a2]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@596afb2f testClass = com.hermnet.api.controller.AuthControllerTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@79ba0285 key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@15b642b9, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dfab87, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@b341cfd0, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@4c58255, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@53cf9c99, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@5ea4300e, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@837f38b8, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@54b6eaf, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7dbe2ebf, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@f0f22622], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:128)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:112)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:69)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2026-02-12 21:10:45 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [com.hermnet.api.controller.AuthControllerTest@15cee630]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@596afb2f testClass = com.hermnet.api.controller.AuthControllerTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@79ba0285 key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@15b642b9, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dfab87, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@b341cfd0, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@4c58255, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@53cf9c99, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@5ea4300e, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@837f38b8, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@54b6eaf, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7dbe2ebf, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@f0f22622], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:128)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:112)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:69)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2026-02-12 21:10:45 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [com.hermnet.api.controller.AuthControllerTest@194037f9]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@596afb2f testClass = com.hermnet.api.controller.AuthControllerTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@79ba0285 key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@15b642b9, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dfab87, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@b341cfd0, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@4c58255, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@53cf9c99, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@5ea4300e, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@837f38b8, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@54b6eaf, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7dbe2ebf, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@f0f22622], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:128)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:112)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:69)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2026-02-12 21:10:45 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [com.hermnet.api.controller.AuthControllerTest@2f9addd4]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@596afb2f testClass = com.hermnet.api.controller.AuthControllerTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@79ba0285 key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@15b642b9, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dfab87, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@b341cfd0, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@4c58255, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@53cf9c99, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@5ea4300e, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@837f38b8, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@54b6eaf, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7dbe2ebf, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@f0f22622], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:128)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:112)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:69)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2026-02-12 21:10:45 [main] INFO  c.h.a.c.MessageControllerSecurityTest - Starting MessageControllerSecurityTest using Java 21.0.6 with PID 3048 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:10:45 [main] INFO  c.h.a.c.MessageControllerSecurityTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:10:46 [main] WARN  o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'messageController' defined in file [C:\Users\alvar\Desktop\Hermnet\backend\target\classes\com\hermnet\api\controller\MessageController.class]: Unsatisfied dependency expressed through constructor parameter 1: No qualifying bean of type 'com.hermnet.api.repository.UserRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2026-02-12 21:10:46 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 1 of constructor in com.hermnet.api.controller.MessageController required a bean of type 'com.hermnet.api.repository.UserRepository' that could not be found.


Action:

Consider defining a bean of type 'com.hermnet.api.repository.UserRepository' in your configuration.

2026-02-12 21:10:46 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [com.hermnet.api.controller.MessageControllerSecurityTest@2f3cd727]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@3a7d914c testClass = com.hermnet.api.controller.MessageControllerSecurityTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@515940af key = [com.hermnet.api.config.SecurityConfig, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, com.hermnet.api.security.JwtAuthenticationFilter, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@15b642b9, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dfab87, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@975818f8, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@4c58255, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@53cf9c99, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@5ea4300e, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@9ab87492, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@54b6ec5, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7dbe2ebf, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@f0f22622], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:128)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:112)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:69)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'messageController' defined in file [C:\Users\alvar\Desktop\Hermnet\backend\target\classes\com\hermnet\api\controller\MessageController.class]: Unsatisfied dependency expressed through constructor parameter 1: No qualifying bean of type 'com.hermnet.api.repository.UserRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:152)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:595)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:152)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:111)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.hermnet.api.repository.UserRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:2315)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1733)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1653)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 107 common frames omitted
2026-02-12 21:10:46 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [com.hermnet.api.controller.MessageControllerSecurityTest@b3004e]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@3a7d914c testClass = com.hermnet.api.controller.MessageControllerSecurityTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@515940af key = [com.hermnet.api.config.SecurityConfig, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, com.hermnet.api.security.JwtAuthenticationFilter, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@15b642b9, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dfab87, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@975818f8, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@4c58255, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@53cf9c99, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@5ea4300e, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@9ab87492, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@54b6ec5, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7dbe2ebf, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@f0f22622], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:128)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:112)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:69)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2026-02-12 21:10:46 [main] INFO  c.h.a.c.MessageControllerTest - Starting MessageControllerTest using Java 21.0.6 with PID 3048 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:10:46 [main] INFO  c.h.a.c.MessageControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:10:47 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 76c3e9b8-ffd6-4dce-bd39-a67b30698c67

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 21:10:47 [main] INFO  c.h.a.c.MessageControllerTest - Started MessageControllerTest in 1.238 seconds (process running for 7.86)
2026-02-12 21:10:47 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.hermnet.api.controller.MessageController.sendMessage(com.hermnet.api.dto.SendMessageRequest): [Field error in object 'sendMessageRequest' on field 'stegoImage': rejected value [null]; codes [NotNull.sendMessageRequest.stegoImage,NotNull.stegoImage,NotNull.[B,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [sendMessageRequest.stegoImage,stegoImage]; arguments []; default message [stegoImage]]; default message [Stego image is required]] ]
2026-02-12 21:10:47 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.hermnet.api.controller.MessageController.sendMessage(com.hermnet.api.dto.SendMessageRequest): [Field error in object 'sendMessageRequest' on field 'recipientId': rejected value []; codes [NotBlank.sendMessageRequest.recipientId,NotBlank.recipientId,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [sendMessageRequest.recipientId,recipientId]; arguments []; default message [recipientId]]; default message [Recipient ID is required]] ]
2026-02-12 21:10:47 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.hermnet.api.controller.MessageController.sendMessage(com.hermnet.api.dto.SendMessageRequest): [Field error in object 'sendMessageRequest' on field 'stegoImage': rejected value [{}]; codes [Size.sendMessageRequest.stegoImage,Size.stegoImage,Size.[B,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [sendMessageRequest.stegoImage,stegoImage]; arguments []; default message [stegoImage],2147483647,1]; default message [Stego image cannot be empty]] ]
2026-02-12 21:10:48 [main] INFO  c.h.api.HermnetApiApplicationTests - Starting HermnetApiApplicationTests using Java 21.0.6 with PID 3048 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:10:48 [main] INFO  c.h.api.HermnetApiApplicationTests - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:10:48 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-12 21:10:49 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@209ab1d7
2026-02-12 21:10:49 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-12 21:10:50 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-12 21:10:51 [main] DEBUG org.hibernate.SQL - set client_min_messages = WARNING
2026-02-12 21:10:51 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges drop constraint if exists FKl5m80koyne9ork274crpw6jv
2026-02-12 21:10:51 [main] DEBUG org.hibernate.SQL - drop table if exists auth_challenges cascade
2026-02-12 21:10:51 [main] DEBUG org.hibernate.SQL - drop table if exists mailbox cascade
2026-02-12 21:10:51 [main] DEBUG org.hibernate.SQL - drop table if exists rate_limit_buckets cascade
2026-02-12 21:10:51 [main] DEBUG org.hibernate.SQL - drop table if exists token_blacklist cascade
2026-02-12 21:10:51 [main] DEBUG org.hibernate.SQL - drop table if exists users cascade
2026-02-12 21:10:51 [main] DEBUG org.hibernate.SQL - create table auth_challenges (challenge_id bigint generated by default as identity, expires_at timestamp(6) not null, nonce varchar(64) not null, user_hash varchar(64) not null, primary key (challenge_id))
2026-02-12 21:10:51 [main] DEBUG org.hibernate.SQL - create table mailbox (created_at timestamp(6) not null, message_id bigint generated by default as identity, recipient_hash varchar(64) not null, stego_packet oid not null, primary key (message_id))
2026-02-12 21:10:51 [main] DEBUG org.hibernate.SQL - create table rate_limit_buckets (request_count integer not null, reset_time timestamp(6) not null, ip_hash varchar(64) not null, primary key (ip_hash))
2026-02-12 21:10:51 [main] DEBUG org.hibernate.SQL - create table token_blacklist (expires_at timestamp(6) not null, revoked_reason varchar(20), jti varchar(36) not null, primary key (jti))
2026-02-12 21:10:51 [main] DEBUG org.hibernate.SQL - create table users (created_at timestamp(6) not null, id_hash varchar(64) not null, public_key TEXT not null unique, push_token TEXT, primary key (id_hash))
2026-02-12 21:10:51 [main] DEBUG org.hibernate.SQL - create index idx_mailbox_recipient on mailbox (recipient_hash)
2026-02-12 21:10:51 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges add constraint FKl5m80koyne9ork274crpw6jv foreign key (user_hash) references users
2026-02-12 21:10:51 [main] WARN  o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'firebaseApp' defined in class path resource [com/hermnet/api/config/FirebaseConfig.class]: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
2026-02-12 21:10:51 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-12 21:10:51 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-02-12 21:10:51 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'firebaseApp' defined in class path resource [com/hermnet/api/config/FirebaseConfig.class]: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:489)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:152)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:595)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:152)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:111)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:200)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:89)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:169)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 106 common frames omitted
Caused by: java.io.IOException: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at com.google.auth.oauth2.DefaultCredentialsProvider.getDefaultCredentials(DefaultCredentialsProvider.java:127)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:129)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:101)
	at com.hermnet.api.config.FirebaseConfig.firebaseApp(FirebaseConfig.java:54)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.CGLIB$firebaseApp$0(<generated>)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$FastClass$$1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:400)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.firebaseApp(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:172)
	... 109 common frames omitted
2026-02-12 21:10:51 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.hermnet.api.HermnetApiApplicationTests@7ec00f98]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@579847d7 testClass = com.hermnet.api.HermnetApiApplicationTests, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@15b642b9, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dfab87, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@3f7f9d3f, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@4c58255, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@53cf9c99, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7dbe2ebf, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@37978199], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'firebaseApp' defined in class path resource [com/hermnet/api/config/FirebaseConfig.class]: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:489)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:152)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:595)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:152)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:111)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 80 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:200)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:89)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:169)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 106 common frames omitted
Caused by: java.io.IOException: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at com.google.auth.oauth2.DefaultCredentialsProvider.getDefaultCredentials(DefaultCredentialsProvider.java:127)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:129)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:101)
	at com.hermnet.api.config.FirebaseConfig.firebaseApp(FirebaseConfig.java:54)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.CGLIB$firebaseApp$0(<generated>)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$FastClass$$1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:400)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.firebaseApp(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:172)
	... 109 common frames omitted
2026-02-12 21:10:52 [main] INFO  c.h.a.r.AuthChallengeRepositoryTest - Starting AuthChallengeRepositoryTest using Java 21.0.6 with PID 3048 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:10:52 [main] INFO  c.h.a.r.AuthChallengeRepositoryTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:10:52 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2026-02-12 21:10:52 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@170df9b8
2026-02-12 21:10:52 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2026-02-12 21:10:52 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-12 21:10:52 [main] DEBUG org.hibernate.SQL - set client_min_messages = WARNING
2026-02-12 21:10:52 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges drop constraint if exists FKl5m80koyne9ork274crpw6jv
2026-02-12 21:10:52 [main] DEBUG org.hibernate.SQL - drop table if exists auth_challenges cascade
2026-02-12 21:10:52 [main] DEBUG org.hibernate.SQL - drop table if exists mailbox cascade
2026-02-12 21:10:52 [main] DEBUG org.hibernate.SQL - drop table if exists rate_limit_buckets cascade
2026-02-12 21:10:52 [main] DEBUG org.hibernate.SQL - drop table if exists token_blacklist cascade
2026-02-12 21:10:52 [main] DEBUG org.hibernate.SQL - drop table if exists users cascade
2026-02-12 21:10:52 [main] DEBUG org.hibernate.SQL - create table auth_challenges (challenge_id bigint generated by default as identity, expires_at timestamp(6) not null, nonce varchar(64) not null, user_hash varchar(64) not null, primary key (challenge_id))
2026-02-12 21:10:52 [main] DEBUG org.hibernate.SQL - create table mailbox (created_at timestamp(6) not null, message_id bigint generated by default as identity, recipient_hash varchar(64) not null, stego_packet oid not null, primary key (message_id))
2026-02-12 21:10:52 [main] DEBUG org.hibernate.SQL - create table rate_limit_buckets (request_count integer not null, reset_time timestamp(6) not null, ip_hash varchar(64) not null, primary key (ip_hash))
2026-02-12 21:10:52 [main] DEBUG org.hibernate.SQL - create table token_blacklist (expires_at timestamp(6) not null, revoked_reason varchar(20), jti varchar(36) not null, primary key (jti))
2026-02-12 21:10:52 [main] DEBUG org.hibernate.SQL - create table users (created_at timestamp(6) not null, id_hash varchar(64) not null, public_key TEXT not null unique, push_token TEXT, primary key (id_hash))
2026-02-12 21:10:52 [main] DEBUG org.hibernate.SQL - create index idx_mailbox_recipient on mailbox (recipient_hash)
2026-02-12 21:10:52 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges add constraint FKl5m80koyne9ork274crpw6jv foreign key (user_hash) references users
2026-02-12 21:10:52 [main] INFO  c.h.a.r.AuthChallengeRepositoryTest - Started AuthChallengeRepositoryTest in 0.65 seconds (process running for 12.889)
2026-02-12 21:10:52 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:10:52 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:10:52 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:10:52 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:10:52 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:10:52 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:10:52 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:10:52 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.expires_at<?
2026-02-12 21:10:52 [main] DEBUG org.hibernate.SQL - delete from auth_challenges where challenge_id=?
2026-02-12 21:10:52 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.nonce=?
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select count(*) from auth_challenges ac1_0
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.user_hash=?
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - delete from auth_challenges where challenge_id=?
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - delete from auth_challenges where challenge_id=?
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select count(*) from auth_challenges ac1_0
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.nonce=?
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.user_hash=?
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - insert into token_blacklist (expires_at,revoked_reason,jti) values (?,?,?)
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - insert into token_blacklist (expires_at,revoked_reason,jti) values (?,?,?)
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - delete from token_blacklist where jti=?
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0 where m1_0.created_at<?
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - delete from mailbox where message_id=?
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0 where m1_0.recipient_hash=? order by m1_0.created_at desc
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0 where rlb1_0.ip_hash=?
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0 where rlb1_0.ip_hash=?
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0 where rlb1_0.ip_hash=?
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.public_key=?
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:10:53 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.public_key=?
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:10:54 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
2026-02-12 21:10:54 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: duplicate key value violates unique constraint "users_public_key_key"
  Detail: Key (public_key)=(duplicate-key) already exists.
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - update users set public_key=?,push_token=? where id_hash=?
2026-02-12 21:10:54 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:10:54 [main] INFO  c.h.a.s.SecurityIntegrationTest - Starting SecurityIntegrationTest using Java 21.0.6 with PID 3048 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:10:54 [main] INFO  c.h.a.s.SecurityIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:10:54 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2026-02-12 21:10:54 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@5d7d454b
2026-02-12 21:10:54 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2026-02-12 21:10:54 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-12 21:10:55 [main] DEBUG org.hibernate.SQL - set client_min_messages = WARNING
2026-02-12 21:10:55 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges drop constraint if exists FKl5m80koyne9ork274crpw6jv
2026-02-12 21:10:55 [main] DEBUG org.hibernate.SQL - drop table if exists auth_challenges cascade
2026-02-12 21:10:55 [main] DEBUG org.hibernate.SQL - drop table if exists mailbox cascade
2026-02-12 21:10:55 [main] DEBUG org.hibernate.SQL - drop table if exists rate_limit_buckets cascade
2026-02-12 21:10:55 [main] DEBUG org.hibernate.SQL - drop table if exists token_blacklist cascade
2026-02-12 21:10:55 [main] DEBUG org.hibernate.SQL - drop table if exists users cascade
2026-02-12 21:10:55 [main] DEBUG org.hibernate.SQL - create table auth_challenges (challenge_id bigint generated by default as identity, expires_at timestamp(6) not null, nonce varchar(64) not null, user_hash varchar(64) not null, primary key (challenge_id))
2026-02-12 21:10:55 [main] DEBUG org.hibernate.SQL - create table mailbox (created_at timestamp(6) not null, message_id bigint generated by default as identity, recipient_hash varchar(64) not null, stego_packet oid not null, primary key (message_id))
2026-02-12 21:10:55 [main] DEBUG org.hibernate.SQL - create table rate_limit_buckets (request_count integer not null, reset_time timestamp(6) not null, ip_hash varchar(64) not null, primary key (ip_hash))
2026-02-12 21:10:55 [main] DEBUG org.hibernate.SQL - create table token_blacklist (expires_at timestamp(6) not null, revoked_reason varchar(20), jti varchar(36) not null, primary key (jti))
2026-02-12 21:10:55 [main] DEBUG org.hibernate.SQL - create table users (created_at timestamp(6) not null, id_hash varchar(64) not null, public_key TEXT not null unique, push_token TEXT, primary key (id_hash))
2026-02-12 21:10:55 [main] DEBUG org.hibernate.SQL - create index idx_mailbox_recipient on mailbox (recipient_hash)
2026-02-12 21:10:55 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges add constraint FKl5m80koyne9ork274crpw6jv foreign key (user_hash) references users
2026-02-12 21:10:55 [main] WARN  o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'firebaseApp' defined in class path resource [com/hermnet/api/config/FirebaseConfig.class]: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
2026-02-12 21:10:55 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2026-02-12 21:10:55 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2026-02-12 21:10:55 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'firebaseApp' defined in class path resource [com/hermnet/api/config/FirebaseConfig.class]: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:489)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:152)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:595)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:152)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:111)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:200)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:89)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:169)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 106 common frames omitted
Caused by: java.io.IOException: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at com.google.auth.oauth2.DefaultCredentialsProvider.getDefaultCredentials(DefaultCredentialsProvider.java:127)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:129)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:101)
	at com.hermnet.api.config.FirebaseConfig.firebaseApp(FirebaseConfig.java:54)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.CGLIB$firebaseApp$0(<generated>)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$FastClass$$1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:400)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.firebaseApp(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:172)
	... 109 common frames omitted
2026-02-12 21:10:55 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.hermnet.api.security.SecurityIntegrationTest@3c6e8672]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@10060f31 testClass = com.hermnet.api.security.SecurityIntegrationTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@91a5e3f key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@15b642b9, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dfab87, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@76b2f628, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@3f7f9d3f, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@4c58255, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@53cf9c99, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7dbe2ebf, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@37978199], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'firebaseApp' defined in class path resource [com/hermnet/api/config/FirebaseConfig.class]: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:489)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:152)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:595)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:152)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:111)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 80 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:200)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:89)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:169)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 106 common frames omitted
Caused by: java.io.IOException: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at com.google.auth.oauth2.DefaultCredentialsProvider.getDefaultCredentials(DefaultCredentialsProvider.java:127)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:129)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:101)
	at com.hermnet.api.config.FirebaseConfig.firebaseApp(FirebaseConfig.java:54)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.CGLIB$firebaseApp$0(<generated>)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$FastClass$$1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:400)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.firebaseApp(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:172)
	... 109 common frames omitted
2026-02-12 21:10:55 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.hermnet.api.security.SecurityIntegrationTest@722479ba]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@10060f31 testClass = com.hermnet.api.security.SecurityIntegrationTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@91a5e3f key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@15b642b9, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dfab87, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@76b2f628, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@3f7f9d3f, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@4c58255, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@53cf9c99, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7dbe2ebf, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@37978199], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2026-02-12 21:10:55 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.hermnet.api.security.SecurityIntegrationTest@6944a621]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@10060f31 testClass = com.hermnet.api.security.SecurityIntegrationTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@91a5e3f key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@15b642b9, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dfab87, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@76b2f628, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@3f7f9d3f, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@4c58255, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@53cf9c99, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7dbe2ebf, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@37978199], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2026-02-12 21:10:56 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2026-02-12 21:10:56 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2026-02-12 21:11:35 [main] INFO  c.h.a.controller.AuthControllerTest - Starting AuthControllerTest using Java 21.0.6 with PID 18372 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:11:35 [main] INFO  c.h.a.controller.AuthControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:11:37 [main] WARN  o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\alvar\Desktop\Hermnet\backend\target\classes\com\hermnet\api\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.hermnet.api.security.JwtTokenProvider' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2026-02-12 21:11:37 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.hermnet.api.security.JwtAuthenticationFilter required a bean of type 'com.hermnet.api.security.JwtTokenProvider' that could not be found.


Action:

Consider defining a bean of type 'com.hermnet.api.security.JwtTokenProvider' in your configuration.

2026-02-12 21:11:37 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [com.hermnet.api.controller.AuthControllerTest@154864f8]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@596afb2f testClass = com.hermnet.api.controller.AuthControllerTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@79ba0285 key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@15b642b9, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dfab87, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@b341cfd0, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@4c58255, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@53cf9c99, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@5ea4300e, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@837f38b8, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@54b6eaf, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7dbe2ebf, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@f0f22622], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:128)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:112)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:69)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\alvar\Desktop\Hermnet\backend\target\classes\com\hermnet\api\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.hermnet.api.security.JwtTokenProvider' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:152)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:595)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:152)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:111)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.hermnet.api.security.JwtTokenProvider' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:2315)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1733)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1653)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 107 common frames omitted
2026-02-12 21:11:37 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [com.hermnet.api.controller.AuthControllerTest@35329a05]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@596afb2f testClass = com.hermnet.api.controller.AuthControllerTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@79ba0285 key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@15b642b9, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dfab87, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@b341cfd0, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@4c58255, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@53cf9c99, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@5ea4300e, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@837f38b8, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@54b6eaf, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7dbe2ebf, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@f0f22622], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:128)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:112)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:69)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2026-02-12 21:11:37 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [com.hermnet.api.controller.AuthControllerTest@a120b9]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@596afb2f testClass = com.hermnet.api.controller.AuthControllerTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@79ba0285 key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@15b642b9, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dfab87, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@b341cfd0, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@4c58255, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@53cf9c99, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@5ea4300e, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@837f38b8, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@54b6eaf, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7dbe2ebf, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@f0f22622], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:128)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:112)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:69)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2026-02-12 21:11:37 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [com.hermnet.api.controller.AuthControllerTest@ac417a2]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@596afb2f testClass = com.hermnet.api.controller.AuthControllerTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@79ba0285 key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@15b642b9, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dfab87, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@b341cfd0, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@4c58255, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@53cf9c99, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@5ea4300e, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@837f38b8, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@54b6eaf, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7dbe2ebf, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@f0f22622], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:128)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:112)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:69)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2026-02-12 21:11:37 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [com.hermnet.api.controller.AuthControllerTest@15cee630]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@596afb2f testClass = com.hermnet.api.controller.AuthControllerTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@79ba0285 key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@15b642b9, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dfab87, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@b341cfd0, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@4c58255, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@53cf9c99, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@5ea4300e, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@837f38b8, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@54b6eaf, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7dbe2ebf, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@f0f22622], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:128)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:112)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:69)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2026-02-12 21:11:37 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [com.hermnet.api.controller.AuthControllerTest@194037f9]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@596afb2f testClass = com.hermnet.api.controller.AuthControllerTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@79ba0285 key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@15b642b9, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dfab87, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@b341cfd0, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@4c58255, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@53cf9c99, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@5ea4300e, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@837f38b8, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@54b6eaf, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7dbe2ebf, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@f0f22622], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:128)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:112)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:69)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2026-02-12 21:11:37 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [com.hermnet.api.controller.AuthControllerTest@2f9addd4]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@596afb2f testClass = com.hermnet.api.controller.AuthControllerTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@79ba0285 key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@15b642b9, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dfab87, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@b341cfd0, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@4c58255, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@53cf9c99, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@5ea4300e, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@837f38b8, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@54b6eaf, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7dbe2ebf, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@f0f22622], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:128)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:112)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:69)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2026-02-12 21:11:37 [main] INFO  c.h.a.c.MessageControllerSecurityTest - Starting MessageControllerSecurityTest using Java 21.0.6 with PID 18372 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:11:37 [main] INFO  c.h.a.c.MessageControllerSecurityTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:11:38 [main] WARN  o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'messageController' defined in file [C:\Users\alvar\Desktop\Hermnet\backend\target\classes\com\hermnet\api\controller\MessageController.class]: Unsatisfied dependency expressed through constructor parameter 1: No qualifying bean of type 'com.hermnet.api.repository.UserRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2026-02-12 21:11:38 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 1 of constructor in com.hermnet.api.controller.MessageController required a bean of type 'com.hermnet.api.repository.UserRepository' that could not be found.


Action:

Consider defining a bean of type 'com.hermnet.api.repository.UserRepository' in your configuration.

2026-02-12 21:11:38 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [com.hermnet.api.controller.MessageControllerSecurityTest@2f3cd727]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@3a7d914c testClass = com.hermnet.api.controller.MessageControllerSecurityTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@515940af key = [com.hermnet.api.config.SecurityConfig, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, com.hermnet.api.security.JwtAuthenticationFilter, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@15b642b9, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dfab87, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@975818f8, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@4c58255, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@53cf9c99, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@5ea4300e, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@9ab87492, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@54b6ec5, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7dbe2ebf, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@f0f22622], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:128)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:112)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:69)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'messageController' defined in file [C:\Users\alvar\Desktop\Hermnet\backend\target\classes\com\hermnet\api\controller\MessageController.class]: Unsatisfied dependency expressed through constructor parameter 1: No qualifying bean of type 'com.hermnet.api.repository.UserRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:152)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:595)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:152)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:111)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.hermnet.api.repository.UserRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:2315)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1733)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1653)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 107 common frames omitted
2026-02-12 21:11:38 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [com.hermnet.api.controller.MessageControllerSecurityTest@b3004e]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@3a7d914c testClass = com.hermnet.api.controller.MessageControllerSecurityTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@515940af key = [com.hermnet.api.config.SecurityConfig, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, com.hermnet.api.security.JwtAuthenticationFilter, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@15b642b9, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dfab87, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@975818f8, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@4c58255, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@53cf9c99, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@5ea4300e, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@9ab87492, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@54b6ec5, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7dbe2ebf, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@f0f22622], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:128)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:112)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:69)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2026-02-12 21:11:38 [main] INFO  c.h.a.c.MessageControllerTest - Starting MessageControllerTest using Java 21.0.6 with PID 18372 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:11:38 [main] INFO  c.h.a.c.MessageControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:11:39 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 85e4b979-14ad-4af2-9ad2-8ab4271bab4d

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 21:11:39 [main] INFO  c.h.a.c.MessageControllerTest - Started MessageControllerTest in 1.51 seconds (process running for 7.623)
2026-02-12 21:11:40 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.hermnet.api.controller.MessageController.sendMessage(com.hermnet.api.dto.SendMessageRequest): [Field error in object 'sendMessageRequest' on field 'stegoImage': rejected value [null]; codes [NotNull.sendMessageRequest.stegoImage,NotNull.stegoImage,NotNull.[B,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [sendMessageRequest.stegoImage,stegoImage]; arguments []; default message [stegoImage]]; default message [Stego image is required]] ]
2026-02-12 21:11:40 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.hermnet.api.controller.MessageController.sendMessage(com.hermnet.api.dto.SendMessageRequest): [Field error in object 'sendMessageRequest' on field 'recipientId': rejected value []; codes [NotBlank.sendMessageRequest.recipientId,NotBlank.recipientId,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [sendMessageRequest.recipientId,recipientId]; arguments []; default message [recipientId]]; default message [Recipient ID is required]] ]
2026-02-12 21:11:40 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.hermnet.api.controller.MessageController.sendMessage(com.hermnet.api.dto.SendMessageRequest): [Field error in object 'sendMessageRequest' on field 'stegoImage': rejected value [{}]; codes [Size.sendMessageRequest.stegoImage,Size.stegoImage,Size.[B,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [sendMessageRequest.stegoImage,stegoImage]; arguments []; default message [stegoImage],2147483647,1]; default message [Stego image cannot be empty]] ]
2026-02-12 21:11:40 [main] INFO  c.h.api.HermnetApiApplicationTests - Starting HermnetApiApplicationTests using Java 21.0.6 with PID 18372 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:11:40 [main] INFO  c.h.api.HermnetApiApplicationTests - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:11:40 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-12 21:11:41 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5afbbf9b
2026-02-12 21:11:41 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-12 21:11:41 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-12 21:11:42 [main] DEBUG org.hibernate.SQL - set client_min_messages = WARNING
2026-02-12 21:11:42 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges drop constraint if exists FKl5m80koyne9ork274crpw6jv
2026-02-12 21:11:42 [main] DEBUG org.hibernate.SQL - drop table if exists auth_challenges cascade
2026-02-12 21:11:42 [main] DEBUG org.hibernate.SQL - drop table if exists mailbox cascade
2026-02-12 21:11:42 [main] DEBUG org.hibernate.SQL - drop table if exists rate_limit_buckets cascade
2026-02-12 21:11:42 [main] DEBUG org.hibernate.SQL - drop table if exists token_blacklist cascade
2026-02-12 21:11:42 [main] DEBUG org.hibernate.SQL - drop table if exists users cascade
2026-02-12 21:11:42 [main] DEBUG org.hibernate.SQL - create table auth_challenges (challenge_id bigint generated by default as identity, expires_at timestamp(6) not null, nonce varchar(64) not null, user_hash varchar(64) not null, primary key (challenge_id))
2026-02-12 21:11:42 [main] DEBUG org.hibernate.SQL - create table mailbox (created_at timestamp(6) not null, message_id bigint generated by default as identity, recipient_hash varchar(64) not null, stego_packet oid not null, primary key (message_id))
2026-02-12 21:11:42 [main] DEBUG org.hibernate.SQL - create table rate_limit_buckets (request_count integer not null, reset_time timestamp(6) not null, ip_hash varchar(64) not null, primary key (ip_hash))
2026-02-12 21:11:42 [main] DEBUG org.hibernate.SQL - create table token_blacklist (expires_at timestamp(6) not null, revoked_reason varchar(20), jti varchar(36) not null, primary key (jti))
2026-02-12 21:11:42 [main] DEBUG org.hibernate.SQL - create table users (created_at timestamp(6) not null, id_hash varchar(64) not null, public_key TEXT not null unique, push_token TEXT, primary key (id_hash))
2026-02-12 21:11:42 [main] DEBUG org.hibernate.SQL - create index idx_mailbox_recipient on mailbox (recipient_hash)
2026-02-12 21:11:42 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges add constraint FKl5m80koyne9ork274crpw6jv foreign key (user_hash) references users
2026-02-12 21:11:43 [main] WARN  o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'firebaseApp' defined in class path resource [com/hermnet/api/config/FirebaseConfig.class]: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
2026-02-12 21:11:43 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-12 21:11:43 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-02-12 21:11:43 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'firebaseApp' defined in class path resource [com/hermnet/api/config/FirebaseConfig.class]: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:489)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:152)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:595)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:152)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:111)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:200)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:89)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:169)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 106 common frames omitted
Caused by: java.io.IOException: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at com.google.auth.oauth2.DefaultCredentialsProvider.getDefaultCredentials(DefaultCredentialsProvider.java:127)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:129)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:101)
	at com.hermnet.api.config.FirebaseConfig.firebaseApp(FirebaseConfig.java:54)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.CGLIB$firebaseApp$0(<generated>)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$FastClass$$1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:400)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.firebaseApp(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:172)
	... 109 common frames omitted
2026-02-12 21:11:43 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.hermnet.api.HermnetApiApplicationTests@16e17e6b]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@664c47f2 testClass = com.hermnet.api.HermnetApiApplicationTests, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@15b642b9, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dfab87, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@640028f2, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@4c58255, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@53cf9c99, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7dbe2ebf, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@37978199], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'firebaseApp' defined in class path resource [com/hermnet/api/config/FirebaseConfig.class]: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:489)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:152)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:595)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:152)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:111)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 80 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:200)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:89)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:169)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 106 common frames omitted
Caused by: java.io.IOException: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at com.google.auth.oauth2.DefaultCredentialsProvider.getDefaultCredentials(DefaultCredentialsProvider.java:127)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:129)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:101)
	at com.hermnet.api.config.FirebaseConfig.firebaseApp(FirebaseConfig.java:54)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.CGLIB$firebaseApp$0(<generated>)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$FastClass$$1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:400)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.firebaseApp(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:172)
	... 109 common frames omitted
2026-02-12 21:11:43 [main] INFO  c.h.a.r.AuthChallengeRepositoryTest - Starting AuthChallengeRepositoryTest using Java 21.0.6 with PID 18372 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:11:43 [main] INFO  c.h.a.r.AuthChallengeRepositoryTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:11:43 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2026-02-12 21:11:43 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@63b187f
2026-02-12 21:11:43 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2026-02-12 21:11:43 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-12 21:11:44 [main] DEBUG org.hibernate.SQL - set client_min_messages = WARNING
2026-02-12 21:11:44 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges drop constraint if exists FKl5m80koyne9ork274crpw6jv
2026-02-12 21:11:44 [main] DEBUG org.hibernate.SQL - drop table if exists auth_challenges cascade
2026-02-12 21:11:44 [main] DEBUG org.hibernate.SQL - drop table if exists mailbox cascade
2026-02-12 21:11:44 [main] DEBUG org.hibernate.SQL - drop table if exists rate_limit_buckets cascade
2026-02-12 21:11:44 [main] DEBUG org.hibernate.SQL - drop table if exists token_blacklist cascade
2026-02-12 21:11:44 [main] DEBUG org.hibernate.SQL - drop table if exists users cascade
2026-02-12 21:11:44 [main] DEBUG org.hibernate.SQL - create table auth_challenges (challenge_id bigint generated by default as identity, expires_at timestamp(6) not null, nonce varchar(64) not null, user_hash varchar(64) not null, primary key (challenge_id))
2026-02-12 21:11:44 [main] DEBUG org.hibernate.SQL - create table mailbox (created_at timestamp(6) not null, message_id bigint generated by default as identity, recipient_hash varchar(64) not null, stego_packet oid not null, primary key (message_id))
2026-02-12 21:11:44 [main] DEBUG org.hibernate.SQL - create table rate_limit_buckets (request_count integer not null, reset_time timestamp(6) not null, ip_hash varchar(64) not null, primary key (ip_hash))
2026-02-12 21:11:44 [main] DEBUG org.hibernate.SQL - create table token_blacklist (expires_at timestamp(6) not null, revoked_reason varchar(20), jti varchar(36) not null, primary key (jti))
2026-02-12 21:11:44 [main] DEBUG org.hibernate.SQL - create table users (created_at timestamp(6) not null, id_hash varchar(64) not null, public_key TEXT not null unique, push_token TEXT, primary key (id_hash))
2026-02-12 21:11:44 [main] DEBUG org.hibernate.SQL - create index idx_mailbox_recipient on mailbox (recipient_hash)
2026-02-12 21:11:44 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges add constraint FKl5m80koyne9ork274crpw6jv foreign key (user_hash) references users
2026-02-12 21:11:44 [main] INFO  c.h.a.r.AuthChallengeRepositoryTest - Started AuthChallengeRepositoryTest in 1.06 seconds (process running for 12.399)
2026-02-12 21:11:44 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:11:44 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:11:44 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:11:44 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:11:44 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:11:44 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:11:44 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:11:44 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.expires_at<?
2026-02-12 21:11:44 [main] DEBUG org.hibernate.SQL - delete from auth_challenges where challenge_id=?
2026-02-12 21:11:44 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:11:44 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:11:44 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:11:44 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:11:44 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:11:44 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:11:44 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:11:44 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.nonce=?
2026-02-12 21:11:44 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:11:44 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:11:44 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:11:44 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:11:44 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:11:44 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:11:44 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:11:44 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:11:44 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:11:44 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:11:44 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select count(*) from auth_challenges ac1_0
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.user_hash=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - delete from auth_challenges where challenge_id=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - delete from auth_challenges where challenge_id=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select count(*) from auth_challenges ac1_0
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.nonce=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.user_hash=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - insert into token_blacklist (expires_at,revoked_reason,jti) values (?,?,?)
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - insert into token_blacklist (expires_at,revoked_reason,jti) values (?,?,?)
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - delete from token_blacklist where jti=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0 where m1_0.created_at<?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - delete from mailbox where message_id=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0 where m1_0.recipient_hash=? order by m1_0.created_at desc
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0 where rlb1_0.ip_hash=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0 where rlb1_0.ip_hash=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0 where rlb1_0.ip_hash=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.public_key=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.public_key=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:11:45 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
2026-02-12 21:11:45 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: duplicate key value violates unique constraint "users_public_key_key"
  Detail: Key (public_key)=(duplicate-key) already exists.
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:11:45 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:11:46 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:11:46 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:11:46 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:11:46 [main] DEBUG org.hibernate.SQL - update users set public_key=?,push_token=? where id_hash=?
2026-02-12 21:11:46 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:11:46 [main] INFO  c.h.a.s.SecurityIntegrationTest - Starting SecurityIntegrationTest using Java 21.0.6 with PID 18372 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:11:46 [main] INFO  c.h.a.s.SecurityIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:11:46 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2026-02-12 21:11:46 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@6397fa6e
2026-02-12 21:11:46 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2026-02-12 21:11:46 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-12 21:11:46 [main] DEBUG org.hibernate.SQL - set client_min_messages = WARNING
2026-02-12 21:11:46 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges drop constraint if exists FKl5m80koyne9ork274crpw6jv
2026-02-12 21:11:46 [main] DEBUG org.hibernate.SQL - drop table if exists auth_challenges cascade
2026-02-12 21:11:46 [main] DEBUG org.hibernate.SQL - drop table if exists mailbox cascade
2026-02-12 21:11:46 [main] DEBUG org.hibernate.SQL - drop table if exists rate_limit_buckets cascade
2026-02-12 21:11:46 [main] DEBUG org.hibernate.SQL - drop table if exists token_blacklist cascade
2026-02-12 21:11:46 [main] DEBUG org.hibernate.SQL - drop table if exists users cascade
2026-02-12 21:11:46 [main] DEBUG org.hibernate.SQL - create table auth_challenges (challenge_id bigint generated by default as identity, expires_at timestamp(6) not null, nonce varchar(64) not null, user_hash varchar(64) not null, primary key (challenge_id))
2026-02-12 21:11:46 [main] DEBUG org.hibernate.SQL - create table mailbox (created_at timestamp(6) not null, message_id bigint generated by default as identity, recipient_hash varchar(64) not null, stego_packet oid not null, primary key (message_id))
2026-02-12 21:11:46 [main] DEBUG org.hibernate.SQL - create table rate_limit_buckets (request_count integer not null, reset_time timestamp(6) not null, ip_hash varchar(64) not null, primary key (ip_hash))
2026-02-12 21:11:46 [main] DEBUG org.hibernate.SQL - create table token_blacklist (expires_at timestamp(6) not null, revoked_reason varchar(20), jti varchar(36) not null, primary key (jti))
2026-02-12 21:11:46 [main] DEBUG org.hibernate.SQL - create table users (created_at timestamp(6) not null, id_hash varchar(64) not null, public_key TEXT not null unique, push_token TEXT, primary key (id_hash))
2026-02-12 21:11:46 [main] DEBUG org.hibernate.SQL - create index idx_mailbox_recipient on mailbox (recipient_hash)
2026-02-12 21:11:46 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges add constraint FKl5m80koyne9ork274crpw6jv foreign key (user_hash) references users
2026-02-12 21:11:46 [main] WARN  o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'firebaseApp' defined in class path resource [com/hermnet/api/config/FirebaseConfig.class]: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
2026-02-12 21:11:46 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2026-02-12 21:11:46 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2026-02-12 21:11:46 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'firebaseApp' defined in class path resource [com/hermnet/api/config/FirebaseConfig.class]: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:489)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:152)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:595)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:152)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:111)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:200)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:89)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:169)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 106 common frames omitted
Caused by: java.io.IOException: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at com.google.auth.oauth2.DefaultCredentialsProvider.getDefaultCredentials(DefaultCredentialsProvider.java:127)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:129)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:101)
	at com.hermnet.api.config.FirebaseConfig.firebaseApp(FirebaseConfig.java:54)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.CGLIB$firebaseApp$0(<generated>)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$FastClass$$1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:400)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.firebaseApp(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:172)
	... 109 common frames omitted
2026-02-12 21:11:46 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.hermnet.api.security.SecurityIntegrationTest@17a81a45]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@64fc2612 testClass = com.hermnet.api.security.SecurityIntegrationTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@1a696f6c key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@15b642b9, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dfab87, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@76b2f628, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@640028f2, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@4c58255, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@53cf9c99, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7dbe2ebf, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@37978199], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'firebaseApp' defined in class path resource [com/hermnet/api/config/FirebaseConfig.class]: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:489)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:152)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:595)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:152)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:111)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 80 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:200)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:89)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:169)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 106 common frames omitted
Caused by: java.io.IOException: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at com.google.auth.oauth2.DefaultCredentialsProvider.getDefaultCredentials(DefaultCredentialsProvider.java:127)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:129)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:101)
	at com.hermnet.api.config.FirebaseConfig.firebaseApp(FirebaseConfig.java:54)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.CGLIB$firebaseApp$0(<generated>)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$FastClass$$1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:400)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.firebaseApp(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:172)
	... 109 common frames omitted
2026-02-12 21:11:46 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.hermnet.api.security.SecurityIntegrationTest@11279761]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@64fc2612 testClass = com.hermnet.api.security.SecurityIntegrationTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@1a696f6c key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@15b642b9, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dfab87, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@76b2f628, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@640028f2, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@4c58255, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@53cf9c99, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7dbe2ebf, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@37978199], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2026-02-12 21:11:46 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.hermnet.api.security.SecurityIntegrationTest@1f7f2e76]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@64fc2612 testClass = com.hermnet.api.security.SecurityIntegrationTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@1a696f6c key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@15b642b9, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dfab87, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@76b2f628, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@640028f2, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@4c58255, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@53cf9c99, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7dbe2ebf, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@37978199], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2026-02-12 21:11:47 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2026-02-12 21:11:47 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2026-02-12 21:12:57 [main] INFO  c.h.a.controller.AuthControllerTest - Starting AuthControllerTest using Java 21.0.6 with PID 4656 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:12:57 [main] INFO  c.h.a.controller.AuthControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:13:00 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: c0dc4682-e1da-475d-808d-98cc1bc67196

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 21:13:00 [main] INFO  c.h.a.controller.AuthControllerTest - Started AuthControllerTest in 3.512 seconds (process running for 4.755)
2026-02-12 21:13:01 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest): [Field error in object 'registerRequest' on field 'publicKey': rejected value []; codes [NotBlank.registerRequest.publicKey,NotBlank.publicKey,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.publicKey,publicKey]; arguments []; default message [publicKey]]; default message [La clave pública es obligatoria]] ]
2026-02-12 21:13:01 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest): [Field error in object 'registerRequest' on field 'id': rejected value [HNET-1234]; codes [Pattern.registerRequest.id,Pattern.id,Pattern.java.lang.String,Pattern]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.id,id]; arguments []; default message [id],[Ljakarta.validation.constraints.Pattern$Flag;@667dd150,^HNET-[A-Za-z0-9]{5,}$]; default message [El ID debe empezar por HNET- y tener caracteres alfanuméricos]] ]
2026-02-12 21:13:01 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest): [Field error in object 'registerRequest' on field 'id': rejected value [INVALID-ID]; codes [Pattern.registerRequest.id,Pattern.id,Pattern.java.lang.String,Pattern]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.id,id]; arguments []; default message [id],[Ljakarta.validation.constraints.Pattern$Flag;@667dd150,^HNET-[A-Za-z0-9]{5,}$]; default message [El ID debe empezar por HNET- y tener caracteres alfanuméricos]] ]
2026-02-12 21:13:17 [main] INFO  c.h.a.controller.AuthControllerTest - Starting AuthControllerTest using Java 21.0.6 with PID 6024 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:13:17 [main] INFO  c.h.a.controller.AuthControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:13:19 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 55afde8d-d8e3-4e1f-9ccc-d088176e40bb

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 21:13:19 [main] INFO  c.h.a.controller.AuthControllerTest - Started AuthControllerTest in 2.549 seconds (process running for 5.301)
2026-02-12 21:13:20 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest): [Field error in object 'registerRequest' on field 'publicKey': rejected value []; codes [NotBlank.registerRequest.publicKey,NotBlank.publicKey,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.publicKey,publicKey]; arguments []; default message [publicKey]]; default message [La clave pública es obligatoria]] ]
2026-02-12 21:13:20 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest): [Field error in object 'registerRequest' on field 'id': rejected value [HNET-1234]; codes [Pattern.registerRequest.id,Pattern.id,Pattern.java.lang.String,Pattern]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.id,id]; arguments []; default message [id],[Ljakarta.validation.constraints.Pattern$Flag;@495f7ca4,^HNET-[A-Za-z0-9]{5,}$]; default message [El ID debe empezar por HNET- y tener caracteres alfanuméricos]] ]
2026-02-12 21:13:20 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest): [Field error in object 'registerRequest' on field 'id': rejected value [INVALID-ID]; codes [Pattern.registerRequest.id,Pattern.id,Pattern.java.lang.String,Pattern]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.id,id]; arguments []; default message [id],[Ljakarta.validation.constraints.Pattern$Flag;@495f7ca4,^HNET-[A-Za-z0-9]{5,}$]; default message [El ID debe empezar por HNET- y tener caracteres alfanuméricos]] ]
2026-02-12 21:13:20 [main] INFO  c.h.a.c.MessageControllerSecurityTest - Starting MessageControllerSecurityTest using Java 21.0.6 with PID 6024 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:13:20 [main] INFO  c.h.a.c.MessageControllerSecurityTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:13:20 [main] WARN  o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'messageController' defined in file [C:\Users\alvar\Desktop\Hermnet\backend\target\classes\com\hermnet\api\controller\MessageController.class]: Unsatisfied dependency expressed through constructor parameter 1: No qualifying bean of type 'com.hermnet.api.repository.UserRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2026-02-12 21:13:20 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 1 of constructor in com.hermnet.api.controller.MessageController required a bean of type 'com.hermnet.api.repository.UserRepository' that could not be found.


Action:

Consider defining a bean of type 'com.hermnet.api.repository.UserRepository' in your configuration.

2026-02-12 21:13:20 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [com.hermnet.api.controller.MessageControllerSecurityTest@6b8f87dc]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@2e667e95 testClass = com.hermnet.api.controller.MessageControllerSecurityTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@514b247b key = [com.hermnet.api.config.SecurityConfig, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, com.hermnet.api.security.JwtAuthenticationFilter, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@15b642b9, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dfab87, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@13747258, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@eac3a26, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@7b306b9f, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@5a1c3cb4, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@889f9628, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@54b6ec5, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4adc663e, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@fee1d88], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:128)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:112)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:69)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'messageController' defined in file [C:\Users\alvar\Desktop\Hermnet\backend\target\classes\com\hermnet\api\controller\MessageController.class]: Unsatisfied dependency expressed through constructor parameter 1: No qualifying bean of type 'com.hermnet.api.repository.UserRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:152)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:595)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:152)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:111)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.hermnet.api.repository.UserRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:2315)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1733)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1653)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 107 common frames omitted
2026-02-12 21:13:20 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [com.hermnet.api.controller.MessageControllerSecurityTest@5bbc033f]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@2e667e95 testClass = com.hermnet.api.controller.MessageControllerSecurityTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@514b247b key = [com.hermnet.api.config.SecurityConfig, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, com.hermnet.api.security.JwtAuthenticationFilter, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@15b642b9, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dfab87, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@13747258, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@eac3a26, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@7b306b9f, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@5a1c3cb4, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@889f9628, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@54b6ec5, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4adc663e, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@fee1d88], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:128)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:112)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:69)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2026-02-12 21:13:21 [main] INFO  c.h.a.c.MessageControllerTest - Starting MessageControllerTest using Java 21.0.6 with PID 6024 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:13:21 [main] INFO  c.h.a.c.MessageControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:13:21 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 4389dae1-2510-4e08-97f0-cfac3db7dcb7

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 21:13:21 [main] INFO  c.h.a.c.MessageControllerTest - Started MessageControllerTest in 0.659 seconds (process running for 7.187)
2026-02-12 21:13:21 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.hermnet.api.controller.MessageController.sendMessage(com.hermnet.api.dto.SendMessageRequest): [Field error in object 'sendMessageRequest' on field 'stegoImage': rejected value [null]; codes [NotNull.sendMessageRequest.stegoImage,NotNull.stegoImage,NotNull.[B,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [sendMessageRequest.stegoImage,stegoImage]; arguments []; default message [stegoImage]]; default message [Stego image is required]] ]
2026-02-12 21:13:21 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.hermnet.api.controller.MessageController.sendMessage(com.hermnet.api.dto.SendMessageRequest): [Field error in object 'sendMessageRequest' on field 'recipientId': rejected value []; codes [NotBlank.sendMessageRequest.recipientId,NotBlank.recipientId,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [sendMessageRequest.recipientId,recipientId]; arguments []; default message [recipientId]]; default message [Recipient ID is required]] ]
2026-02-12 21:13:21 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.hermnet.api.controller.MessageController.sendMessage(com.hermnet.api.dto.SendMessageRequest): [Field error in object 'sendMessageRequest' on field 'stegoImage': rejected value [{}]; codes [Size.sendMessageRequest.stegoImage,Size.stegoImage,Size.[B,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [sendMessageRequest.stegoImage,stegoImage]; arguments []; default message [stegoImage],2147483647,1]; default message [Stego image cannot be empty]] ]
2026-02-12 21:13:21 [main] INFO  c.h.api.HermnetApiApplicationTests - Starting HermnetApiApplicationTests using Java 21.0.6 with PID 6024 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:13:21 [main] INFO  c.h.api.HermnetApiApplicationTests - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:13:22 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-12 21:13:22 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@892f1fa
2026-02-12 21:13:22 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-12 21:13:23 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-12 21:13:24 [main] DEBUG org.hibernate.SQL - set client_min_messages = WARNING
2026-02-12 21:13:24 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges drop constraint if exists FKl5m80koyne9ork274crpw6jv
2026-02-12 21:13:24 [main] DEBUG org.hibernate.SQL - drop table if exists auth_challenges cascade
2026-02-12 21:13:24 [main] DEBUG org.hibernate.SQL - drop table if exists mailbox cascade
2026-02-12 21:13:24 [main] DEBUG org.hibernate.SQL - drop table if exists rate_limit_buckets cascade
2026-02-12 21:13:24 [main] DEBUG org.hibernate.SQL - drop table if exists token_blacklist cascade
2026-02-12 21:13:24 [main] DEBUG org.hibernate.SQL - drop table if exists users cascade
2026-02-12 21:13:24 [main] DEBUG org.hibernate.SQL - create table auth_challenges (challenge_id bigint generated by default as identity, expires_at timestamp(6) not null, nonce varchar(64) not null, user_hash varchar(64) not null, primary key (challenge_id))
2026-02-12 21:13:24 [main] DEBUG org.hibernate.SQL - create table mailbox (created_at timestamp(6) not null, message_id bigint generated by default as identity, recipient_hash varchar(64) not null, stego_packet oid not null, primary key (message_id))
2026-02-12 21:13:24 [main] DEBUG org.hibernate.SQL - create table rate_limit_buckets (request_count integer not null, reset_time timestamp(6) not null, ip_hash varchar(64) not null, primary key (ip_hash))
2026-02-12 21:13:24 [main] DEBUG org.hibernate.SQL - create table token_blacklist (expires_at timestamp(6) not null, revoked_reason varchar(20), jti varchar(36) not null, primary key (jti))
2026-02-12 21:13:24 [main] DEBUG org.hibernate.SQL - create table users (created_at timestamp(6) not null, id_hash varchar(64) not null, public_key TEXT not null unique, push_token TEXT, primary key (id_hash))
2026-02-12 21:13:24 [main] DEBUG org.hibernate.SQL - create index idx_mailbox_recipient on mailbox (recipient_hash)
2026-02-12 21:13:24 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges add constraint FKl5m80koyne9ork274crpw6jv foreign key (user_hash) references users
2026-02-12 21:13:24 [main] WARN  o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'firebaseApp' defined in class path resource [com/hermnet/api/config/FirebaseConfig.class]: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
2026-02-12 21:13:24 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-12 21:13:24 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-02-12 21:13:24 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'firebaseApp' defined in class path resource [com/hermnet/api/config/FirebaseConfig.class]: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:489)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:152)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:595)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:152)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:111)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:200)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:89)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:169)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 106 common frames omitted
Caused by: java.io.IOException: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at com.google.auth.oauth2.DefaultCredentialsProvider.getDefaultCredentials(DefaultCredentialsProvider.java:127)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:129)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:101)
	at com.hermnet.api.config.FirebaseConfig.firebaseApp(FirebaseConfig.java:54)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.CGLIB$firebaseApp$0(<generated>)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$FastClass$$1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:400)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.firebaseApp(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:172)
	... 109 common frames omitted
2026-02-12 21:13:24 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.hermnet.api.HermnetApiApplicationTests@6fd14e7c]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@178e125f testClass = com.hermnet.api.HermnetApiApplicationTests, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@15b642b9, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dfab87, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@366c9912, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@eac3a26, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@7b306b9f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4adc663e, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@37978199], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'firebaseApp' defined in class path resource [com/hermnet/api/config/FirebaseConfig.class]: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:489)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:152)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:595)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:152)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:111)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 80 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:200)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:89)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:169)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 106 common frames omitted
Caused by: java.io.IOException: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at com.google.auth.oauth2.DefaultCredentialsProvider.getDefaultCredentials(DefaultCredentialsProvider.java:127)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:129)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:101)
	at com.hermnet.api.config.FirebaseConfig.firebaseApp(FirebaseConfig.java:54)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.CGLIB$firebaseApp$0(<generated>)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$FastClass$$1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:400)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.firebaseApp(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:172)
	... 109 common frames omitted
2026-02-12 21:13:25 [main] INFO  c.h.a.r.AuthChallengeRepositoryTest - Starting AuthChallengeRepositoryTest using Java 21.0.6 with PID 6024 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:13:25 [main] INFO  c.h.a.r.AuthChallengeRepositoryTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:13:25 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2026-02-12 21:13:25 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@3495b709
2026-02-12 21:13:25 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2026-02-12 21:13:25 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-12 21:13:25 [main] DEBUG org.hibernate.SQL - set client_min_messages = WARNING
2026-02-12 21:13:25 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges drop constraint if exists FKl5m80koyne9ork274crpw6jv
2026-02-12 21:13:25 [main] DEBUG org.hibernate.SQL - drop table if exists auth_challenges cascade
2026-02-12 21:13:25 [main] DEBUG org.hibernate.SQL - drop table if exists mailbox cascade
2026-02-12 21:13:25 [main] DEBUG org.hibernate.SQL - drop table if exists rate_limit_buckets cascade
2026-02-12 21:13:25 [main] DEBUG org.hibernate.SQL - drop table if exists token_blacklist cascade
2026-02-12 21:13:25 [main] DEBUG org.hibernate.SQL - drop table if exists users cascade
2026-02-12 21:13:25 [main] DEBUG org.hibernate.SQL - create table auth_challenges (challenge_id bigint generated by default as identity, expires_at timestamp(6) not null, nonce varchar(64) not null, user_hash varchar(64) not null, primary key (challenge_id))
2026-02-12 21:13:25 [main] DEBUG org.hibernate.SQL - create table mailbox (created_at timestamp(6) not null, message_id bigint generated by default as identity, recipient_hash varchar(64) not null, stego_packet oid not null, primary key (message_id))
2026-02-12 21:13:25 [main] DEBUG org.hibernate.SQL - create table rate_limit_buckets (request_count integer not null, reset_time timestamp(6) not null, ip_hash varchar(64) not null, primary key (ip_hash))
2026-02-12 21:13:25 [main] DEBUG org.hibernate.SQL - create table token_blacklist (expires_at timestamp(6) not null, revoked_reason varchar(20), jti varchar(36) not null, primary key (jti))
2026-02-12 21:13:25 [main] DEBUG org.hibernate.SQL - create table users (created_at timestamp(6) not null, id_hash varchar(64) not null, public_key TEXT not null unique, push_token TEXT, primary key (id_hash))
2026-02-12 21:13:25 [main] DEBUG org.hibernate.SQL - create index idx_mailbox_recipient on mailbox (recipient_hash)
2026-02-12 21:13:25 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges add constraint FKl5m80koyne9ork274crpw6jv foreign key (user_hash) references users
2026-02-12 21:13:25 [main] INFO  c.h.a.r.AuthChallengeRepositoryTest - Started AuthChallengeRepositoryTest in 0.577 seconds (process running for 11.122)
2026-02-12 21:13:25 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:13:25 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:13:25 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:13:25 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:13:25 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:13:25 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:13:25 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:13:25 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.expires_at<?
2026-02-12 21:13:25 [main] DEBUG org.hibernate.SQL - delete from auth_challenges where challenge_id=?
2026-02-12 21:13:25 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:13:25 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:13:25 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:13:25 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:13:25 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:13:25 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:13:25 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:13:25 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.nonce=?
2026-02-12 21:13:25 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:13:25 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:13:25 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:13:25 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:13:25 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:13:25 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:13:25 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:13:25 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:13:25 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:13:25 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:13:25 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select count(*) from auth_challenges ac1_0
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.user_hash=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - delete from auth_challenges where challenge_id=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - delete from auth_challenges where challenge_id=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select count(*) from auth_challenges ac1_0
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.nonce=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.user_hash=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - insert into token_blacklist (expires_at,revoked_reason,jti) values (?,?,?)
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - insert into token_blacklist (expires_at,revoked_reason,jti) values (?,?,?)
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - delete from token_blacklist where jti=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0 where m1_0.created_at<?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - delete from mailbox where message_id=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0 where m1_0.recipient_hash=? order by m1_0.created_at desc
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0 where rlb1_0.ip_hash=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0 where rlb1_0.ip_hash=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0 where rlb1_0.ip_hash=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.public_key=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.public_key=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:13:26 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
2026-02-12 21:13:26 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: duplicate key value violates unique constraint "users_public_key_key"
  Detail: Key (public_key)=(duplicate-key) already exists.
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:13:26 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:13:27 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:13:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:13:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:13:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:13:27 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:13:27 [main] DEBUG org.hibernate.SQL - update users set public_key=?,push_token=? where id_hash=?
2026-02-12 21:13:27 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:13:27 [main] INFO  c.h.a.s.SecurityIntegrationTest - Starting SecurityIntegrationTest using Java 21.0.6 with PID 6024 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:13:27 [main] INFO  c.h.a.s.SecurityIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:13:27 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2026-02-12 21:13:27 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@6fd0b8ab
2026-02-12 21:13:27 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2026-02-12 21:13:27 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-12 21:13:27 [main] DEBUG org.hibernate.SQL - set client_min_messages = WARNING
2026-02-12 21:13:27 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges drop constraint if exists FKl5m80koyne9ork274crpw6jv
2026-02-12 21:13:27 [main] DEBUG org.hibernate.SQL - drop table if exists auth_challenges cascade
2026-02-12 21:13:27 [main] DEBUG org.hibernate.SQL - drop table if exists mailbox cascade
2026-02-12 21:13:27 [main] DEBUG org.hibernate.SQL - drop table if exists rate_limit_buckets cascade
2026-02-12 21:13:27 [main] DEBUG org.hibernate.SQL - drop table if exists token_blacklist cascade
2026-02-12 21:13:27 [main] DEBUG org.hibernate.SQL - drop table if exists users cascade
2026-02-12 21:13:27 [main] DEBUG org.hibernate.SQL - create table auth_challenges (challenge_id bigint generated by default as identity, expires_at timestamp(6) not null, nonce varchar(64) not null, user_hash varchar(64) not null, primary key (challenge_id))
2026-02-12 21:13:27 [main] DEBUG org.hibernate.SQL - create table mailbox (created_at timestamp(6) not null, message_id bigint generated by default as identity, recipient_hash varchar(64) not null, stego_packet oid not null, primary key (message_id))
2026-02-12 21:13:27 [main] DEBUG org.hibernate.SQL - create table rate_limit_buckets (request_count integer not null, reset_time timestamp(6) not null, ip_hash varchar(64) not null, primary key (ip_hash))
2026-02-12 21:13:27 [main] DEBUG org.hibernate.SQL - create table token_blacklist (expires_at timestamp(6) not null, revoked_reason varchar(20), jti varchar(36) not null, primary key (jti))
2026-02-12 21:13:27 [main] DEBUG org.hibernate.SQL - create table users (created_at timestamp(6) not null, id_hash varchar(64) not null, public_key TEXT not null unique, push_token TEXT, primary key (id_hash))
2026-02-12 21:13:27 [main] DEBUG org.hibernate.SQL - create index idx_mailbox_recipient on mailbox (recipient_hash)
2026-02-12 21:13:27 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges add constraint FKl5m80koyne9ork274crpw6jv foreign key (user_hash) references users
2026-02-12 21:13:27 [main] WARN  o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'firebaseApp' defined in class path resource [com/hermnet/api/config/FirebaseConfig.class]: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
2026-02-12 21:13:27 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2026-02-12 21:13:27 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2026-02-12 21:13:27 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'firebaseApp' defined in class path resource [com/hermnet/api/config/FirebaseConfig.class]: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:489)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:152)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:595)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:152)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:111)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:200)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:89)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:169)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 106 common frames omitted
Caused by: java.io.IOException: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at com.google.auth.oauth2.DefaultCredentialsProvider.getDefaultCredentials(DefaultCredentialsProvider.java:127)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:129)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:101)
	at com.hermnet.api.config.FirebaseConfig.firebaseApp(FirebaseConfig.java:54)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.CGLIB$firebaseApp$0(<generated>)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$FastClass$$1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:400)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.firebaseApp(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:172)
	... 109 common frames omitted
2026-02-12 21:13:27 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.hermnet.api.security.SecurityIntegrationTest@3097f11f]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@13e771e6 testClass = com.hermnet.api.security.SecurityIntegrationTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@19b3cf8e key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@15b642b9, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dfab87, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@4b827c88, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@366c9912, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@eac3a26, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@7b306b9f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4adc663e, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@37978199], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'firebaseApp' defined in class path resource [com/hermnet/api/config/FirebaseConfig.class]: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:489)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:152)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:595)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:152)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:111)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 80 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:200)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:89)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:169)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 106 common frames omitted
Caused by: java.io.IOException: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at com.google.auth.oauth2.DefaultCredentialsProvider.getDefaultCredentials(DefaultCredentialsProvider.java:127)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:129)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:101)
	at com.hermnet.api.config.FirebaseConfig.firebaseApp(FirebaseConfig.java:54)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.CGLIB$firebaseApp$0(<generated>)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$FastClass$$1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:400)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.firebaseApp(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:172)
	... 109 common frames omitted
2026-02-12 21:13:27 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.hermnet.api.security.SecurityIntegrationTest@d5eed70]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@13e771e6 testClass = com.hermnet.api.security.SecurityIntegrationTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@19b3cf8e key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@15b642b9, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dfab87, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@4b827c88, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@366c9912, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@eac3a26, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@7b306b9f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4adc663e, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@37978199], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2026-02-12 21:13:27 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.hermnet.api.security.SecurityIntegrationTest@7e354474]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@13e771e6 testClass = com.hermnet.api.security.SecurityIntegrationTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@19b3cf8e key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@15b642b9, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dfab87, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@4b827c88, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@366c9912, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@eac3a26, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@7b306b9f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4adc663e, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@37978199], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2026-02-12 21:13:28 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2026-02-12 21:13:28 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2026-02-12 21:14:04 [main] INFO  c.h.a.controller.AuthControllerTest - Starting AuthControllerTest using Java 21.0.6 with PID 4028 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:14:04 [main] INFO  c.h.a.controller.AuthControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:14:06 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: a6a99059-0fc3-4a45-a5b4-2cddf687fa14

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 21:14:06 [main] INFO  c.h.a.controller.AuthControllerTest - Started AuthControllerTest in 2.621 seconds (process running for 5.39)
2026-02-12 21:14:06 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest): [Field error in object 'registerRequest' on field 'publicKey': rejected value []; codes [NotBlank.registerRequest.publicKey,NotBlank.publicKey,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.publicKey,publicKey]; arguments []; default message [publicKey]]; default message [La clave pública es obligatoria]] ]
2026-02-12 21:14:06 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest): [Field error in object 'registerRequest' on field 'id': rejected value [HNET-1234]; codes [Pattern.registerRequest.id,Pattern.id,Pattern.java.lang.String,Pattern]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.id,id]; arguments []; default message [id],[Ljakarta.validation.constraints.Pattern$Flag;@102c24d1,^HNET-[A-Za-z0-9]{5,}$]; default message [El ID debe empezar por HNET- y tener caracteres alfanuméricos]] ]
2026-02-12 21:14:06 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest): [Field error in object 'registerRequest' on field 'id': rejected value [INVALID-ID]; codes [Pattern.registerRequest.id,Pattern.id,Pattern.java.lang.String,Pattern]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.id,id]; arguments []; default message [id],[Ljakarta.validation.constraints.Pattern$Flag;@102c24d1,^HNET-[A-Za-z0-9]{5,}$]; default message [El ID debe empezar por HNET- y tener caracteres alfanuméricos]] ]
2026-02-12 21:14:07 [main] INFO  c.h.a.c.MessageControllerSecurityTest - Starting MessageControllerSecurityTest using Java 21.0.6 with PID 4028 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:14:07 [main] INFO  c.h.a.c.MessageControllerSecurityTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:14:07 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 5713c7fa-e392-41f7-9d51-972157c372db

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 21:14:07 [main] INFO  c.h.a.c.MessageControllerSecurityTest - Started MessageControllerSecurityTest in 0.87 seconds (process running for 6.778)
2026-02-12 21:14:08 [main] INFO  c.h.a.c.MessageControllerTest - Starting MessageControllerTest using Java 21.0.6 with PID 4028 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:14:08 [main] INFO  c.h.a.c.MessageControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:14:08 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 7bc355cf-edb5-4d23-ae78-1d42bd980d63

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 21:14:08 [main] INFO  c.h.a.c.MessageControllerTest - Started MessageControllerTest in 0.547 seconds (process running for 7.439)
2026-02-12 21:14:08 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.hermnet.api.controller.MessageController.sendMessage(com.hermnet.api.dto.SendMessageRequest): [Field error in object 'sendMessageRequest' on field 'stegoImage': rejected value [null]; codes [NotNull.sendMessageRequest.stegoImage,NotNull.stegoImage,NotNull.[B,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [sendMessageRequest.stegoImage,stegoImage]; arguments []; default message [stegoImage]]; default message [Stego image is required]] ]
2026-02-12 21:14:08 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.hermnet.api.controller.MessageController.sendMessage(com.hermnet.api.dto.SendMessageRequest): [Field error in object 'sendMessageRequest' on field 'recipientId': rejected value []; codes [NotBlank.sendMessageRequest.recipientId,NotBlank.recipientId,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [sendMessageRequest.recipientId,recipientId]; arguments []; default message [recipientId]]; default message [Recipient ID is required]] ]
2026-02-12 21:14:08 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.hermnet.api.controller.MessageController.sendMessage(com.hermnet.api.dto.SendMessageRequest): [Field error in object 'sendMessageRequest' on field 'stegoImage': rejected value [{}]; codes [Size.sendMessageRequest.stegoImage,Size.stegoImage,Size.[B,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [sendMessageRequest.stegoImage,stegoImage]; arguments []; default message [stegoImage],2147483647,1]; default message [Stego image cannot be empty]] ]
2026-02-12 21:14:08 [main] INFO  c.h.api.HermnetApiApplicationTests - Starting HermnetApiApplicationTests using Java 21.0.6 with PID 4028 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:14:08 [main] INFO  c.h.api.HermnetApiApplicationTests - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:14:09 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-12 21:14:09 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4832813d
2026-02-12 21:14:09 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-12 21:14:10 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-12 21:14:11 [main] DEBUG org.hibernate.SQL - set client_min_messages = WARNING
2026-02-12 21:14:11 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges drop constraint if exists FKl5m80koyne9ork274crpw6jv
2026-02-12 21:14:11 [main] DEBUG org.hibernate.SQL - drop table if exists auth_challenges cascade
2026-02-12 21:14:11 [main] DEBUG org.hibernate.SQL - drop table if exists mailbox cascade
2026-02-12 21:14:11 [main] DEBUG org.hibernate.SQL - drop table if exists rate_limit_buckets cascade
2026-02-12 21:14:11 [main] DEBUG org.hibernate.SQL - drop table if exists token_blacklist cascade
2026-02-12 21:14:11 [main] DEBUG org.hibernate.SQL - drop table if exists users cascade
2026-02-12 21:14:11 [main] DEBUG org.hibernate.SQL - create table auth_challenges (challenge_id bigint generated by default as identity, expires_at timestamp(6) not null, nonce varchar(64) not null, user_hash varchar(64) not null, primary key (challenge_id))
2026-02-12 21:14:11 [main] DEBUG org.hibernate.SQL - create table mailbox (created_at timestamp(6) not null, message_id bigint generated by default as identity, recipient_hash varchar(64) not null, stego_packet oid not null, primary key (message_id))
2026-02-12 21:14:11 [main] DEBUG org.hibernate.SQL - create table rate_limit_buckets (request_count integer not null, reset_time timestamp(6) not null, ip_hash varchar(64) not null, primary key (ip_hash))
2026-02-12 21:14:11 [main] DEBUG org.hibernate.SQL - create table token_blacklist (expires_at timestamp(6) not null, revoked_reason varchar(20), jti varchar(36) not null, primary key (jti))
2026-02-12 21:14:11 [main] DEBUG org.hibernate.SQL - create table users (created_at timestamp(6) not null, id_hash varchar(64) not null, public_key TEXT not null unique, push_token TEXT, primary key (id_hash))
2026-02-12 21:14:11 [main] DEBUG org.hibernate.SQL - create index idx_mailbox_recipient on mailbox (recipient_hash)
2026-02-12 21:14:11 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges add constraint FKl5m80koyne9ork274crpw6jv foreign key (user_hash) references users
2026-02-12 21:14:11 [main] WARN  o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'firebaseApp' defined in class path resource [com/hermnet/api/config/FirebaseConfig.class]: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
2026-02-12 21:14:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-12 21:14:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-02-12 21:14:11 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'firebaseApp' defined in class path resource [com/hermnet/api/config/FirebaseConfig.class]: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:489)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:152)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:595)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:152)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:111)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:200)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:89)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:169)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 106 common frames omitted
Caused by: java.io.IOException: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at com.google.auth.oauth2.DefaultCredentialsProvider.getDefaultCredentials(DefaultCredentialsProvider.java:127)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:129)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:101)
	at com.hermnet.api.config.FirebaseConfig.firebaseApp(FirebaseConfig.java:54)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.CGLIB$firebaseApp$0(<generated>)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$FastClass$$1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:400)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.firebaseApp(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:172)
	... 109 common frames omitted
2026-02-12 21:14:11 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.hermnet.api.HermnetApiApplicationTests@57e9dd1f]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@2a8ff32 testClass = com.hermnet.api.HermnetApiApplicationTests, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@15b642b9, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dfab87, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@cbd3871, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@eac3a26, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@7b306b9f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4adc663e, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@37978199], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'firebaseApp' defined in class path resource [com/hermnet/api/config/FirebaseConfig.class]: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:489)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:152)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:595)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:152)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:111)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 80 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:200)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:89)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:169)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 106 common frames omitted
Caused by: java.io.IOException: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at com.google.auth.oauth2.DefaultCredentialsProvider.getDefaultCredentials(DefaultCredentialsProvider.java:127)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:129)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:101)
	at com.hermnet.api.config.FirebaseConfig.firebaseApp(FirebaseConfig.java:54)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.CGLIB$firebaseApp$0(<generated>)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$FastClass$$1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:400)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.firebaseApp(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:172)
	... 109 common frames omitted
2026-02-12 21:14:11 [main] INFO  c.h.a.r.AuthChallengeRepositoryTest - Starting AuthChallengeRepositoryTest using Java 21.0.6 with PID 4028 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:14:11 [main] INFO  c.h.a.r.AuthChallengeRepositoryTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:14:12 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2026-02-12 21:14:12 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@698cc99d
2026-02-12 21:14:12 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2026-02-12 21:14:12 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-12 21:14:12 [main] DEBUG org.hibernate.SQL - set client_min_messages = WARNING
2026-02-12 21:14:12 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges drop constraint if exists FKl5m80koyne9ork274crpw6jv
2026-02-12 21:14:12 [main] DEBUG org.hibernate.SQL - drop table if exists auth_challenges cascade
2026-02-12 21:14:12 [main] DEBUG org.hibernate.SQL - drop table if exists mailbox cascade
2026-02-12 21:14:12 [main] DEBUG org.hibernate.SQL - drop table if exists rate_limit_buckets cascade
2026-02-12 21:14:12 [main] DEBUG org.hibernate.SQL - drop table if exists token_blacklist cascade
2026-02-12 21:14:12 [main] DEBUG org.hibernate.SQL - drop table if exists users cascade
2026-02-12 21:14:12 [main] DEBUG org.hibernate.SQL - create table auth_challenges (challenge_id bigint generated by default as identity, expires_at timestamp(6) not null, nonce varchar(64) not null, user_hash varchar(64) not null, primary key (challenge_id))
2026-02-12 21:14:12 [main] DEBUG org.hibernate.SQL - create table mailbox (created_at timestamp(6) not null, message_id bigint generated by default as identity, recipient_hash varchar(64) not null, stego_packet oid not null, primary key (message_id))
2026-02-12 21:14:12 [main] DEBUG org.hibernate.SQL - create table rate_limit_buckets (request_count integer not null, reset_time timestamp(6) not null, ip_hash varchar(64) not null, primary key (ip_hash))
2026-02-12 21:14:12 [main] DEBUG org.hibernate.SQL - create table token_blacklist (expires_at timestamp(6) not null, revoked_reason varchar(20), jti varchar(36) not null, primary key (jti))
2026-02-12 21:14:12 [main] DEBUG org.hibernate.SQL - create table users (created_at timestamp(6) not null, id_hash varchar(64) not null, public_key TEXT not null unique, push_token TEXT, primary key (id_hash))
2026-02-12 21:14:12 [main] DEBUG org.hibernate.SQL - create index idx_mailbox_recipient on mailbox (recipient_hash)
2026-02-12 21:14:12 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges add constraint FKl5m80koyne9ork274crpw6jv foreign key (user_hash) references users
2026-02-12 21:14:12 [main] INFO  c.h.a.r.AuthChallengeRepositoryTest - Started AuthChallengeRepositoryTest in 0.69 seconds (process running for 11.421)
2026-02-12 21:14:12 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:14:12 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:14:12 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:14:12 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:14:12 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:14:12 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:14:12 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:14:12 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.expires_at<?
2026-02-12 21:14:12 [main] DEBUG org.hibernate.SQL - delete from auth_challenges where challenge_id=?
2026-02-12 21:14:12 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:14:12 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:14:12 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:14:12 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:14:12 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:14:12 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:14:12 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:14:12 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.nonce=?
2026-02-12 21:14:12 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:14:12 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:14:12 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:14:12 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:14:12 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:14:12 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:14:12 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:14:12 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:14:12 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:14:12 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:14:12 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select count(*) from auth_challenges ac1_0
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.user_hash=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - delete from auth_challenges where challenge_id=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - delete from auth_challenges where challenge_id=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select count(*) from auth_challenges ac1_0
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.nonce=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.user_hash=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - insert into token_blacklist (expires_at,revoked_reason,jti) values (?,?,?)
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - insert into token_blacklist (expires_at,revoked_reason,jti) values (?,?,?)
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - delete from token_blacklist where jti=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0 where m1_0.created_at<?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - delete from mailbox where message_id=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0 where m1_0.recipient_hash=? order by m1_0.created_at desc
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0 where rlb1_0.ip_hash=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0 where rlb1_0.ip_hash=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0 where rlb1_0.ip_hash=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.public_key=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.public_key=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:14:13 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
2026-02-12 21:14:13 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: duplicate key value violates unique constraint "users_public_key_key"
  Detail: Key (public_key)=(duplicate-key) already exists.
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:14:13 [main] DEBUG org.hibernate.SQL - update users set public_key=?,push_token=? where id_hash=?
2026-02-12 21:14:14 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:14:14 [main] INFO  c.h.a.s.SecurityIntegrationTest - Starting SecurityIntegrationTest using Java 21.0.6 with PID 4028 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:14:14 [main] INFO  c.h.a.s.SecurityIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:14:14 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2026-02-12 21:14:14 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@551a24f
2026-02-12 21:14:14 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2026-02-12 21:14:14 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-12 21:14:14 [main] DEBUG org.hibernate.SQL - set client_min_messages = WARNING
2026-02-12 21:14:14 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges drop constraint if exists FKl5m80koyne9ork274crpw6jv
2026-02-12 21:14:14 [main] DEBUG org.hibernate.SQL - drop table if exists auth_challenges cascade
2026-02-12 21:14:14 [main] DEBUG org.hibernate.SQL - drop table if exists mailbox cascade
2026-02-12 21:14:14 [main] DEBUG org.hibernate.SQL - drop table if exists rate_limit_buckets cascade
2026-02-12 21:14:14 [main] DEBUG org.hibernate.SQL - drop table if exists token_blacklist cascade
2026-02-12 21:14:14 [main] DEBUG org.hibernate.SQL - drop table if exists users cascade
2026-02-12 21:14:14 [main] DEBUG org.hibernate.SQL - create table auth_challenges (challenge_id bigint generated by default as identity, expires_at timestamp(6) not null, nonce varchar(64) not null, user_hash varchar(64) not null, primary key (challenge_id))
2026-02-12 21:14:14 [main] DEBUG org.hibernate.SQL - create table mailbox (created_at timestamp(6) not null, message_id bigint generated by default as identity, recipient_hash varchar(64) not null, stego_packet oid not null, primary key (message_id))
2026-02-12 21:14:14 [main] DEBUG org.hibernate.SQL - create table rate_limit_buckets (request_count integer not null, reset_time timestamp(6) not null, ip_hash varchar(64) not null, primary key (ip_hash))
2026-02-12 21:14:14 [main] DEBUG org.hibernate.SQL - create table token_blacklist (expires_at timestamp(6) not null, revoked_reason varchar(20), jti varchar(36) not null, primary key (jti))
2026-02-12 21:14:14 [main] DEBUG org.hibernate.SQL - create table users (created_at timestamp(6) not null, id_hash varchar(64) not null, public_key TEXT not null unique, push_token TEXT, primary key (id_hash))
2026-02-12 21:14:14 [main] DEBUG org.hibernate.SQL - create index idx_mailbox_recipient on mailbox (recipient_hash)
2026-02-12 21:14:14 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges add constraint FKl5m80koyne9ork274crpw6jv foreign key (user_hash) references users
2026-02-12 21:14:14 [main] WARN  o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'firebaseApp' defined in class path resource [com/hermnet/api/config/FirebaseConfig.class]: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
2026-02-12 21:14:14 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2026-02-12 21:14:14 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2026-02-12 21:14:14 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'firebaseApp' defined in class path resource [com/hermnet/api/config/FirebaseConfig.class]: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:489)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:152)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:595)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:152)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:111)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:200)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:89)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:169)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 106 common frames omitted
Caused by: java.io.IOException: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at com.google.auth.oauth2.DefaultCredentialsProvider.getDefaultCredentials(DefaultCredentialsProvider.java:127)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:129)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:101)
	at com.hermnet.api.config.FirebaseConfig.firebaseApp(FirebaseConfig.java:54)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.CGLIB$firebaseApp$0(<generated>)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$FastClass$$1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:400)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.firebaseApp(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:172)
	... 109 common frames omitted
2026-02-12 21:14:14 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.hermnet.api.security.SecurityIntegrationTest@71e55649]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@62e2fc61 testClass = com.hermnet.api.security.SecurityIntegrationTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@28964cb5 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@15b642b9, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dfab87, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@6a758448, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@cbd3871, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@eac3a26, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@7b306b9f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4adc663e, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@37978199], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'firebaseApp' defined in class path resource [com/hermnet/api/config/FirebaseConfig.class]: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:489)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:152)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:595)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:152)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:111)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 80 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:200)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:89)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:169)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 106 common frames omitted
Caused by: java.io.IOException: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at com.google.auth.oauth2.DefaultCredentialsProvider.getDefaultCredentials(DefaultCredentialsProvider.java:127)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:129)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:101)
	at com.hermnet.api.config.FirebaseConfig.firebaseApp(FirebaseConfig.java:54)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.CGLIB$firebaseApp$0(<generated>)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$FastClass$$1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:400)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.firebaseApp(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:172)
	... 109 common frames omitted
2026-02-12 21:14:14 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.hermnet.api.security.SecurityIntegrationTest@65eb16f7]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@62e2fc61 testClass = com.hermnet.api.security.SecurityIntegrationTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@28964cb5 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@15b642b9, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dfab87, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@6a758448, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@cbd3871, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@eac3a26, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@7b306b9f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4adc663e, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@37978199], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2026-02-12 21:14:14 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.hermnet.api.security.SecurityIntegrationTest@422b8349]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@62e2fc61 testClass = com.hermnet.api.security.SecurityIntegrationTest, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@28964cb5 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@15b642b9, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dfab87, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@6a758448, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@cbd3871, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@eac3a26, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@7b306b9f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4adc663e, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@37978199], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2026-02-12 21:14:15 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2026-02-12 21:14:15 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2026-02-12 21:15:18 [main] INFO  c.h.a.controller.AuthControllerTest - Starting AuthControllerTest using Java 21.0.6 with PID 14680 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:15:18 [main] INFO  c.h.a.controller.AuthControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:15:19 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 1f507245-976c-498c-a9f8-0f512f809695

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 21:15:20 [main] INFO  c.h.a.controller.AuthControllerTest - Started AuthControllerTest in 2.645 seconds (process running for 5.477)
2026-02-12 21:15:20 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest): [Field error in object 'registerRequest' on field 'publicKey': rejected value []; codes [NotBlank.registerRequest.publicKey,NotBlank.publicKey,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.publicKey,publicKey]; arguments []; default message [publicKey]]; default message [La clave pública es obligatoria]] ]
2026-02-12 21:15:20 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest): [Field error in object 'registerRequest' on field 'id': rejected value [HNET-1234]; codes [Pattern.registerRequest.id,Pattern.id,Pattern.java.lang.String,Pattern]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.id,id]; arguments []; default message [id],[Ljakarta.validation.constraints.Pattern$Flag;@57ab4b33,^HNET-[A-Za-z0-9]{5,}$]; default message [El ID debe empezar por HNET- y tener caracteres alfanuméricos]] ]
2026-02-12 21:15:20 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest): [Field error in object 'registerRequest' on field 'id': rejected value [INVALID-ID]; codes [Pattern.registerRequest.id,Pattern.id,Pattern.java.lang.String,Pattern]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.id,id]; arguments []; default message [id],[Ljakarta.validation.constraints.Pattern$Flag;@57ab4b33,^HNET-[A-Za-z0-9]{5,}$]; default message [El ID debe empezar por HNET- y tener caracteres alfanuméricos]] ]
2026-02-12 21:15:20 [main] INFO  c.h.a.c.MessageControllerSecurityTest - Starting MessageControllerSecurityTest using Java 21.0.6 with PID 14680 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:15:20 [main] INFO  c.h.a.c.MessageControllerSecurityTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:15:21 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: c0383ab0-e367-4dec-b4ff-21946fd22097

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 21:15:21 [main] INFO  c.h.a.c.MessageControllerSecurityTest - Started MessageControllerSecurityTest in 0.788 seconds (process running for 6.982)
2026-02-12 21:15:21 [main] INFO  c.h.a.c.MessageControllerTest - Starting MessageControllerTest using Java 21.0.6 with PID 14680 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:15:21 [main] INFO  c.h.a.c.MessageControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:15:22 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 6c36e4e4-d4e5-43bf-b3c8-ba24317bf742

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 21:15:22 [main] INFO  c.h.a.c.MessageControllerTest - Started MessageControllerTest in 0.397 seconds (process running for 7.498)
2026-02-12 21:15:22 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.hermnet.api.controller.MessageController.sendMessage(com.hermnet.api.dto.SendMessageRequest): [Field error in object 'sendMessageRequest' on field 'stegoImage': rejected value [null]; codes [NotNull.sendMessageRequest.stegoImage,NotNull.stegoImage,NotNull.[B,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [sendMessageRequest.stegoImage,stegoImage]; arguments []; default message [stegoImage]]; default message [Stego image is required]] ]
2026-02-12 21:15:22 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.hermnet.api.controller.MessageController.sendMessage(com.hermnet.api.dto.SendMessageRequest): [Field error in object 'sendMessageRequest' on field 'recipientId': rejected value []; codes [NotBlank.sendMessageRequest.recipientId,NotBlank.recipientId,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [sendMessageRequest.recipientId,recipientId]; arguments []; default message [recipientId]]; default message [Recipient ID is required]] ]
2026-02-12 21:15:22 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.hermnet.api.controller.MessageController.sendMessage(com.hermnet.api.dto.SendMessageRequest): [Field error in object 'sendMessageRequest' on field 'stegoImage': rejected value [{}]; codes [Size.sendMessageRequest.stegoImage,Size.stegoImage,Size.[B,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [sendMessageRequest.stegoImage,stegoImage]; arguments []; default message [stegoImage],2147483647,1]; default message [Stego image cannot be empty]] ]
2026-02-12 21:15:22 [main] INFO  c.h.api.HermnetApiApplicationTests - Starting HermnetApiApplicationTests using Java 21.0.6 with PID 14680 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:15:22 [main] INFO  c.h.api.HermnetApiApplicationTests - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:15:22 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-12 21:15:23 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@160b7ccd
2026-02-12 21:15:23 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-12 21:15:23 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-12 21:15:24 [main] DEBUG org.hibernate.SQL - set client_min_messages = WARNING
2026-02-12 21:15:24 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges drop constraint if exists FKl5m80koyne9ork274crpw6jv
2026-02-12 21:15:24 [main] DEBUG org.hibernate.SQL - drop table if exists auth_challenges cascade
2026-02-12 21:15:24 [main] DEBUG org.hibernate.SQL - drop table if exists mailbox cascade
2026-02-12 21:15:24 [main] DEBUG org.hibernate.SQL - drop table if exists rate_limit_buckets cascade
2026-02-12 21:15:24 [main] DEBUG org.hibernate.SQL - drop table if exists token_blacklist cascade
2026-02-12 21:15:24 [main] DEBUG org.hibernate.SQL - drop table if exists users cascade
2026-02-12 21:15:24 [main] DEBUG org.hibernate.SQL - create table auth_challenges (challenge_id bigint generated by default as identity, expires_at timestamp(6) not null, nonce varchar(64) not null, user_hash varchar(64) not null, primary key (challenge_id))
2026-02-12 21:15:24 [main] DEBUG org.hibernate.SQL - create table mailbox (created_at timestamp(6) not null, message_id bigint generated by default as identity, recipient_hash varchar(64) not null, stego_packet oid not null, primary key (message_id))
2026-02-12 21:15:24 [main] DEBUG org.hibernate.SQL - create table rate_limit_buckets (request_count integer not null, reset_time timestamp(6) not null, ip_hash varchar(64) not null, primary key (ip_hash))
2026-02-12 21:15:24 [main] DEBUG org.hibernate.SQL - create table token_blacklist (expires_at timestamp(6) not null, revoked_reason varchar(20), jti varchar(36) not null, primary key (jti))
2026-02-12 21:15:24 [main] DEBUG org.hibernate.SQL - create table users (created_at timestamp(6) not null, id_hash varchar(64) not null, public_key TEXT not null unique, push_token TEXT, primary key (id_hash))
2026-02-12 21:15:24 [main] DEBUG org.hibernate.SQL - create index idx_mailbox_recipient on mailbox (recipient_hash)
2026-02-12 21:15:24 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges add constraint FKl5m80koyne9ork274crpw6jv foreign key (user_hash) references users
2026-02-12 21:15:25 [main] WARN  o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'firebaseApp' defined in class path resource [com/hermnet/api/config/FirebaseConfig.class]: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
2026-02-12 21:15:25 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-12 21:15:25 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-02-12 21:15:25 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'firebaseApp' defined in class path resource [com/hermnet/api/config/FirebaseConfig.class]: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:489)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:152)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:595)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:152)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:111)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:200)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:89)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:169)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 106 common frames omitted
Caused by: java.io.IOException: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at com.google.auth.oauth2.DefaultCredentialsProvider.getDefaultCredentials(DefaultCredentialsProvider.java:127)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:129)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:101)
	at com.hermnet.api.config.FirebaseConfig.firebaseApp(FirebaseConfig.java:54)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.CGLIB$firebaseApp$0(<generated>)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$FastClass$$1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:400)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.firebaseApp(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:172)
	... 109 common frames omitted
2026-02-12 21:15:25 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.hermnet.api.HermnetApiApplicationTests@2a8ff32]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@50db0b17 testClass = com.hermnet.api.HermnetApiApplicationTests, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@15b642b9, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dfab87, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@2ac00dc9, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@eac3a26, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@7b306b9f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4adc663e, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@37978199], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'firebaseApp' defined in class path resource [com/hermnet/api/config/FirebaseConfig.class]: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:489)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:152)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:595)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:152)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:111)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 80 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:200)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:89)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:169)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 106 common frames omitted
Caused by: java.io.IOException: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at com.google.auth.oauth2.DefaultCredentialsProvider.getDefaultCredentials(DefaultCredentialsProvider.java:127)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:129)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:101)
	at com.hermnet.api.config.FirebaseConfig.firebaseApp(FirebaseConfig.java:54)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.CGLIB$firebaseApp$0(<generated>)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$FastClass$$1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:400)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.firebaseApp(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:172)
	... 109 common frames omitted
2026-02-12 21:15:25 [main] INFO  c.h.a.r.AuthChallengeRepositoryTest - Starting AuthChallengeRepositoryTest using Java 21.0.6 with PID 14680 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:15:25 [main] INFO  c.h.a.r.AuthChallengeRepositoryTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:15:25 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2026-02-12 21:15:25 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@7f66d549
2026-02-12 21:15:25 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2026-02-12 21:15:25 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-12 21:15:25 [main] DEBUG org.hibernate.SQL - set client_min_messages = WARNING
2026-02-12 21:15:25 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges drop constraint if exists FKl5m80koyne9ork274crpw6jv
2026-02-12 21:15:25 [main] DEBUG org.hibernate.SQL - drop table if exists auth_challenges cascade
2026-02-12 21:15:25 [main] DEBUG org.hibernate.SQL - drop table if exists mailbox cascade
2026-02-12 21:15:25 [main] DEBUG org.hibernate.SQL - drop table if exists rate_limit_buckets cascade
2026-02-12 21:15:25 [main] DEBUG org.hibernate.SQL - drop table if exists token_blacklist cascade
2026-02-12 21:15:25 [main] DEBUG org.hibernate.SQL - drop table if exists users cascade
2026-02-12 21:15:25 [main] DEBUG org.hibernate.SQL - create table auth_challenges (challenge_id bigint generated by default as identity, expires_at timestamp(6) not null, nonce varchar(64) not null, user_hash varchar(64) not null, primary key (challenge_id))
2026-02-12 21:15:25 [main] DEBUG org.hibernate.SQL - create table mailbox (created_at timestamp(6) not null, message_id bigint generated by default as identity, recipient_hash varchar(64) not null, stego_packet oid not null, primary key (message_id))
2026-02-12 21:15:25 [main] DEBUG org.hibernate.SQL - create table rate_limit_buckets (request_count integer not null, reset_time timestamp(6) not null, ip_hash varchar(64) not null, primary key (ip_hash))
2026-02-12 21:15:25 [main] DEBUG org.hibernate.SQL - create table token_blacklist (expires_at timestamp(6) not null, revoked_reason varchar(20), jti varchar(36) not null, primary key (jti))
2026-02-12 21:15:25 [main] DEBUG org.hibernate.SQL - create table users (created_at timestamp(6) not null, id_hash varchar(64) not null, public_key TEXT not null unique, push_token TEXT, primary key (id_hash))
2026-02-12 21:15:25 [main] DEBUG org.hibernate.SQL - create index idx_mailbox_recipient on mailbox (recipient_hash)
2026-02-12 21:15:25 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges add constraint FKl5m80koyne9ork274crpw6jv foreign key (user_hash) references users
2026-02-12 21:15:26 [main] INFO  c.h.a.r.AuthChallengeRepositoryTest - Started AuthChallengeRepositoryTest in 0.611 seconds (process running for 11.416)
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.expires_at<?
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - delete from auth_challenges where challenge_id=?
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.nonce=?
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - select count(*) from auth_challenges ac1_0
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.user_hash=?
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - delete from auth_challenges where challenge_id=?
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - delete from auth_challenges where challenge_id=?
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - select count(*) from auth_challenges ac1_0
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.nonce=?
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.user_hash=?
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - insert into token_blacklist (expires_at,revoked_reason,jti) values (?,?,?)
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - insert into token_blacklist (expires_at,revoked_reason,jti) values (?,?,?)
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - delete from token_blacklist where jti=?
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0 where m1_0.created_at<?
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - delete from mailbox where message_id=?
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:15:26 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0 where m1_0.recipient_hash=? order by m1_0.created_at desc
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0 where rlb1_0.ip_hash=?
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0 where rlb1_0.ip_hash=?
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0 where rlb1_0.ip_hash=?
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.public_key=?
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.public_key=?
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:15:27 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
2026-02-12 21:15:27 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: duplicate key value violates unique constraint "users_public_key_key"
  Detail: Key (public_key)=(duplicate-key) already exists.
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - update users set public_key=?,push_token=? where id_hash=?
2026-02-12 21:15:27 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:15:27 [main] INFO  c.h.a.s.SecurityIntegrationTest - Starting SecurityIntegrationTest using Java 21.0.6 with PID 14680 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:15:27 [main] INFO  c.h.a.s.SecurityIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:15:27 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2026-02-12 21:15:27 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@19a7c92a
2026-02-12 21:15:27 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2026-02-12 21:15:28 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-12 21:15:28 [main] DEBUG org.hibernate.SQL - set client_min_messages = WARNING
2026-02-12 21:15:28 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges drop constraint if exists FKl5m80koyne9ork274crpw6jv
2026-02-12 21:15:28 [main] DEBUG org.hibernate.SQL - drop table if exists auth_challenges cascade
2026-02-12 21:15:28 [main] DEBUG org.hibernate.SQL - drop table if exists mailbox cascade
2026-02-12 21:15:28 [main] DEBUG org.hibernate.SQL - drop table if exists rate_limit_buckets cascade
2026-02-12 21:15:28 [main] DEBUG org.hibernate.SQL - drop table if exists token_blacklist cascade
2026-02-12 21:15:28 [main] DEBUG org.hibernate.SQL - drop table if exists users cascade
2026-02-12 21:15:28 [main] DEBUG org.hibernate.SQL - create table auth_challenges (challenge_id bigint generated by default as identity, expires_at timestamp(6) not null, nonce varchar(64) not null, user_hash varchar(64) not null, primary key (challenge_id))
2026-02-12 21:15:28 [main] DEBUG org.hibernate.SQL - create table mailbox (created_at timestamp(6) not null, message_id bigint generated by default as identity, recipient_hash varchar(64) not null, stego_packet oid not null, primary key (message_id))
2026-02-12 21:15:28 [main] DEBUG org.hibernate.SQL - create table rate_limit_buckets (request_count integer not null, reset_time timestamp(6) not null, ip_hash varchar(64) not null, primary key (ip_hash))
2026-02-12 21:15:28 [main] DEBUG org.hibernate.SQL - create table token_blacklist (expires_at timestamp(6) not null, revoked_reason varchar(20), jti varchar(36) not null, primary key (jti))
2026-02-12 21:15:28 [main] DEBUG org.hibernate.SQL - create table users (created_at timestamp(6) not null, id_hash varchar(64) not null, public_key TEXT not null unique, push_token TEXT, primary key (id_hash))
2026-02-12 21:15:28 [main] DEBUG org.hibernate.SQL - create index idx_mailbox_recipient on mailbox (recipient_hash)
2026-02-12 21:15:28 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges add constraint FKl5m80koyne9ork274crpw6jv foreign key (user_hash) references users
2026-02-12 21:15:28 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-12 21:15:28 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 6044dd0c-47e0-4c91-8117-433da3806570

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 21:15:28 [main] INFO  c.h.a.s.SecurityIntegrationTest - Started SecurityIntegrationTest in 1.081 seconds (process running for 13.95)
2026-02-12 21:15:28 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest) with 2 errors: [Field error in object 'registerRequest' on field 'id': rejected value [null]; codes [NotBlank.registerRequest.id,NotBlank.id,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.id,id]; arguments []; default message [id]]; default message [El ID es obligatorio]] [Field error in object 'registerRequest' on field 'publicKey': rejected value [null]; codes [NotBlank.registerRequest.publicKey,NotBlank.publicKey,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.publicKey,publicKey]; arguments []; default message [publicKey]]; default message [La clave pública es obligatoria]] ]
2026-02-12 21:15:29 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2026-02-12 21:15:29 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2026-02-12 21:15:29 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2026-02-12 21:15:29 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2026-02-12 21:16:19 [main] INFO  c.h.a.controller.AuthControllerTest - Starting AuthControllerTest using Java 21.0.6 with PID 5872 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:16:19 [main] INFO  c.h.a.controller.AuthControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:16:21 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: c245925e-5119-469f-bf76-7388411c65d9

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 21:16:21 [main] INFO  c.h.a.controller.AuthControllerTest - Started AuthControllerTest in 3.089 seconds (process running for 6.428)
2026-02-12 21:16:21 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest): [Field error in object 'registerRequest' on field 'publicKey': rejected value []; codes [NotBlank.registerRequest.publicKey,NotBlank.publicKey,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.publicKey,publicKey]; arguments []; default message [publicKey]]; default message [La clave pública es obligatoria]] ]
2026-02-12 21:16:22 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest): [Field error in object 'registerRequest' on field 'id': rejected value [HNET-1234]; codes [Pattern.registerRequest.id,Pattern.id,Pattern.java.lang.String,Pattern]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.id,id]; arguments []; default message [id],[Ljakarta.validation.constraints.Pattern$Flag;@700202fa,^HNET-[A-Za-z0-9]{5,}$]; default message [El ID debe empezar por HNET- y tener caracteres alfanuméricos]] ]
2026-02-12 21:16:22 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest): [Field error in object 'registerRequest' on field 'id': rejected value [INVALID-ID]; codes [Pattern.registerRequest.id,Pattern.id,Pattern.java.lang.String,Pattern]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.id,id]; arguments []; default message [id],[Ljakarta.validation.constraints.Pattern$Flag;@700202fa,^HNET-[A-Za-z0-9]{5,}$]; default message [El ID debe empezar por HNET- y tener caracteres alfanuméricos]] ]
2026-02-12 21:16:22 [main] INFO  c.h.a.c.MessageControllerSecurityTest - Starting MessageControllerSecurityTest using Java 21.0.6 with PID 5872 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:16:22 [main] INFO  c.h.a.c.MessageControllerSecurityTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:16:22 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 07ec9da0-8c8e-4205-be72-5125c299ae3d

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 21:16:23 [main] INFO  c.h.a.c.MessageControllerSecurityTest - Started MessageControllerSecurityTest in 0.898 seconds (process running for 7.932)
2026-02-12 21:16:23 [main] INFO  c.h.a.c.MessageControllerTest - Starting MessageControllerTest using Java 21.0.6 with PID 5872 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:16:23 [main] INFO  c.h.a.c.MessageControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:16:23 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 30e1c038-130f-4aef-8b43-491fd53834c7

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 21:16:23 [main] INFO  c.h.a.c.MessageControllerTest - Started MessageControllerTest in 0.419 seconds (process running for 8.59)
2026-02-12 21:16:23 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.hermnet.api.controller.MessageController.sendMessage(com.hermnet.api.dto.SendMessageRequest): [Field error in object 'sendMessageRequest' on field 'stegoImage': rejected value [null]; codes [NotNull.sendMessageRequest.stegoImage,NotNull.stegoImage,NotNull.[B,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [sendMessageRequest.stegoImage,stegoImage]; arguments []; default message [stegoImage]]; default message [Stego image is required]] ]
2026-02-12 21:16:23 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.hermnet.api.controller.MessageController.sendMessage(com.hermnet.api.dto.SendMessageRequest): [Field error in object 'sendMessageRequest' on field 'recipientId': rejected value []; codes [NotBlank.sendMessageRequest.recipientId,NotBlank.recipientId,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [sendMessageRequest.recipientId,recipientId]; arguments []; default message [recipientId]]; default message [Recipient ID is required]] ]
2026-02-12 21:16:23 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.hermnet.api.controller.MessageController.sendMessage(com.hermnet.api.dto.SendMessageRequest): [Field error in object 'sendMessageRequest' on field 'stegoImage': rejected value [{}]; codes [Size.sendMessageRequest.stegoImage,Size.stegoImage,Size.[B,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [sendMessageRequest.stegoImage,stegoImage]; arguments []; default message [stegoImage],2147483647,1]; default message [Stego image cannot be empty]] ]
2026-02-12 21:16:23 [main] INFO  c.h.api.HermnetApiApplicationTests - Starting HermnetApiApplicationTests using Java 21.0.6 with PID 5872 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:16:23 [main] INFO  c.h.api.HermnetApiApplicationTests - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:16:24 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-12 21:16:25 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@276ac94c
2026-02-12 21:16:25 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-12 21:16:25 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-12 21:16:26 [main] DEBUG org.hibernate.SQL - set client_min_messages = WARNING
2026-02-12 21:16:26 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges drop constraint if exists FKl5m80koyne9ork274crpw6jv
2026-02-12 21:16:26 [main] DEBUG org.hibernate.SQL - drop table if exists auth_challenges cascade
2026-02-12 21:16:26 [main] DEBUG org.hibernate.SQL - drop table if exists mailbox cascade
2026-02-12 21:16:26 [main] DEBUG org.hibernate.SQL - drop table if exists rate_limit_buckets cascade
2026-02-12 21:16:26 [main] DEBUG org.hibernate.SQL - drop table if exists token_blacklist cascade
2026-02-12 21:16:26 [main] DEBUG org.hibernate.SQL - drop table if exists users cascade
2026-02-12 21:16:26 [main] DEBUG org.hibernate.SQL - create table auth_challenges (challenge_id bigint generated by default as identity, expires_at timestamp(6) not null, nonce varchar(64) not null, user_hash varchar(64) not null, primary key (challenge_id))
2026-02-12 21:16:26 [main] DEBUG org.hibernate.SQL - create table mailbox (created_at timestamp(6) not null, message_id bigint generated by default as identity, recipient_hash varchar(64) not null, stego_packet oid not null, primary key (message_id))
2026-02-12 21:16:26 [main] DEBUG org.hibernate.SQL - create table rate_limit_buckets (request_count integer not null, reset_time timestamp(6) not null, ip_hash varchar(64) not null, primary key (ip_hash))
2026-02-12 21:16:26 [main] DEBUG org.hibernate.SQL - create table token_blacklist (expires_at timestamp(6) not null, revoked_reason varchar(20), jti varchar(36) not null, primary key (jti))
2026-02-12 21:16:26 [main] DEBUG org.hibernate.SQL - create table users (created_at timestamp(6) not null, id_hash varchar(64) not null, public_key TEXT not null unique, push_token TEXT, primary key (id_hash))
2026-02-12 21:16:26 [main] DEBUG org.hibernate.SQL - create index idx_mailbox_recipient on mailbox (recipient_hash)
2026-02-12 21:16:26 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges add constraint FKl5m80koyne9ork274crpw6jv foreign key (user_hash) references users
2026-02-12 21:16:27 [main] WARN  o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'firebaseApp' defined in class path resource [com/hermnet/api/config/FirebaseConfig.class]: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
2026-02-12 21:16:27 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-12 21:16:27 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-02-12 21:16:27 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'firebaseApp' defined in class path resource [com/hermnet/api/config/FirebaseConfig.class]: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:489)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:152)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:595)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:152)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:111)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:200)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:89)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:169)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 106 common frames omitted
Caused by: java.io.IOException: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at com.google.auth.oauth2.DefaultCredentialsProvider.getDefaultCredentials(DefaultCredentialsProvider.java:127)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:129)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:101)
	at com.hermnet.api.config.FirebaseConfig.firebaseApp(FirebaseConfig.java:54)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.CGLIB$firebaseApp$0(<generated>)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$FastClass$$1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:400)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.firebaseApp(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:172)
	... 109 common frames omitted
2026-02-12 21:16:27 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.hermnet.api.HermnetApiApplicationTests@31fe5168]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@4a6198a7 testClass = com.hermnet.api.HermnetApiApplicationTests, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@15b642b9, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dfab87, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@39303a6, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@eac3a26, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@7b306b9f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4adc663e, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@37978199], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'firebaseApp' defined in class path resource [com/hermnet/api/config/FirebaseConfig.class]: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:489)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:152)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:595)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:152)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:111)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 80 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:200)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:89)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:169)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 106 common frames omitted
Caused by: java.io.IOException: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at com.google.auth.oauth2.DefaultCredentialsProvider.getDefaultCredentials(DefaultCredentialsProvider.java:127)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:129)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:101)
	at com.hermnet.api.config.FirebaseConfig.firebaseApp(FirebaseConfig.java:54)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.CGLIB$firebaseApp$0(<generated>)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$FastClass$$1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:400)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.firebaseApp(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:172)
	... 109 common frames omitted
2026-02-12 21:16:27 [main] INFO  c.h.a.r.AuthChallengeRepositoryTest - Starting AuthChallengeRepositoryTest using Java 21.0.6 with PID 5872 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:16:27 [main] INFO  c.h.a.r.AuthChallengeRepositoryTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:16:27 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2026-02-12 21:16:27 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@776a3e76
2026-02-12 21:16:27 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2026-02-12 21:16:27 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-12 21:16:27 [main] DEBUG org.hibernate.SQL - set client_min_messages = WARNING
2026-02-12 21:16:27 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges drop constraint if exists FKl5m80koyne9ork274crpw6jv
2026-02-12 21:16:27 [main] DEBUG org.hibernate.SQL - drop table if exists auth_challenges cascade
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - drop table if exists mailbox cascade
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - drop table if exists rate_limit_buckets cascade
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - drop table if exists token_blacklist cascade
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - drop table if exists users cascade
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - create table auth_challenges (challenge_id bigint generated by default as identity, expires_at timestamp(6) not null, nonce varchar(64) not null, user_hash varchar(64) not null, primary key (challenge_id))
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - create table mailbox (created_at timestamp(6) not null, message_id bigint generated by default as identity, recipient_hash varchar(64) not null, stego_packet oid not null, primary key (message_id))
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - create table rate_limit_buckets (request_count integer not null, reset_time timestamp(6) not null, ip_hash varchar(64) not null, primary key (ip_hash))
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - create table token_blacklist (expires_at timestamp(6) not null, revoked_reason varchar(20), jti varchar(36) not null, primary key (jti))
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - create table users (created_at timestamp(6) not null, id_hash varchar(64) not null, public_key TEXT not null unique, push_token TEXT, primary key (id_hash))
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - create index idx_mailbox_recipient on mailbox (recipient_hash)
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges add constraint FKl5m80koyne9ork274crpw6jv foreign key (user_hash) references users
2026-02-12 21:16:28 [main] INFO  c.h.a.r.AuthChallengeRepositoryTest - Started AuthChallengeRepositoryTest in 0.872 seconds (process running for 13.05)
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.expires_at<?
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - delete from auth_challenges where challenge_id=?
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.nonce=?
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - select count(*) from auth_challenges ac1_0
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.user_hash=?
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - delete from auth_challenges where challenge_id=?
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - delete from auth_challenges where challenge_id=?
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - select count(*) from auth_challenges ac1_0
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.nonce=?
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.user_hash=?
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - insert into token_blacklist (expires_at,revoked_reason,jti) values (?,?,?)
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - insert into token_blacklist (expires_at,revoked_reason,jti) values (?,?,?)
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - delete from token_blacklist where jti=?
2026-02-12 21:16:28 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0 where m1_0.created_at<?
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - delete from mailbox where message_id=?
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0 where m1_0.recipient_hash=? order by m1_0.created_at desc
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0 where rlb1_0.ip_hash=?
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0 where rlb1_0.ip_hash=?
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0 where rlb1_0.ip_hash=?
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.public_key=?
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.public_key=?
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:16:29 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
2026-02-12 21:16:29 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: duplicate key value violates unique constraint "users_public_key_key"
  Detail: Key (public_key)=(duplicate-key) already exists.
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - update users set public_key=?,push_token=? where id_hash=?
2026-02-12 21:16:29 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:16:29 [main] INFO  c.h.a.s.SecurityIntegrationTest - Starting SecurityIntegrationTest using Java 21.0.6 with PID 5872 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:16:29 [main] INFO  c.h.a.s.SecurityIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:16:30 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2026-02-12 21:16:30 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@3c554dd5
2026-02-12 21:16:30 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2026-02-12 21:16:30 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-12 21:16:30 [main] DEBUG org.hibernate.SQL - set client_min_messages = WARNING
2026-02-12 21:16:30 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges drop constraint if exists FKl5m80koyne9ork274crpw6jv
2026-02-12 21:16:30 [main] DEBUG org.hibernate.SQL - drop table if exists auth_challenges cascade
2026-02-12 21:16:30 [main] DEBUG org.hibernate.SQL - drop table if exists mailbox cascade
2026-02-12 21:16:30 [main] DEBUG org.hibernate.SQL - drop table if exists rate_limit_buckets cascade
2026-02-12 21:16:30 [main] DEBUG org.hibernate.SQL - drop table if exists token_blacklist cascade
2026-02-12 21:16:30 [main] DEBUG org.hibernate.SQL - drop table if exists users cascade
2026-02-12 21:16:30 [main] DEBUG org.hibernate.SQL - create table auth_challenges (challenge_id bigint generated by default as identity, expires_at timestamp(6) not null, nonce varchar(64) not null, user_hash varchar(64) not null, primary key (challenge_id))
2026-02-12 21:16:30 [main] DEBUG org.hibernate.SQL - create table mailbox (created_at timestamp(6) not null, message_id bigint generated by default as identity, recipient_hash varchar(64) not null, stego_packet oid not null, primary key (message_id))
2026-02-12 21:16:30 [main] DEBUG org.hibernate.SQL - create table rate_limit_buckets (request_count integer not null, reset_time timestamp(6) not null, ip_hash varchar(64) not null, primary key (ip_hash))
2026-02-12 21:16:30 [main] DEBUG org.hibernate.SQL - create table token_blacklist (expires_at timestamp(6) not null, revoked_reason varchar(20), jti varchar(36) not null, primary key (jti))
2026-02-12 21:16:30 [main] DEBUG org.hibernate.SQL - create table users (created_at timestamp(6) not null, id_hash varchar(64) not null, public_key TEXT not null unique, push_token TEXT, primary key (id_hash))
2026-02-12 21:16:30 [main] DEBUG org.hibernate.SQL - create index idx_mailbox_recipient on mailbox (recipient_hash)
2026-02-12 21:16:30 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges add constraint FKl5m80koyne9ork274crpw6jv foreign key (user_hash) references users
2026-02-12 21:16:30 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-12 21:16:30 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: e6b703a3-3e9e-4c84-ad15-b849c14d55bc

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 21:16:30 [main] INFO  c.h.a.s.SecurityIntegrationTest - Started SecurityIntegrationTest in 1.226 seconds (process running for 15.779)
2026-02-12 21:16:31 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest) with 2 errors: [Field error in object 'registerRequest' on field 'id': rejected value [null]; codes [NotBlank.registerRequest.id,NotBlank.id,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.id,id]; arguments []; default message [id]]; default message [El ID es obligatorio]] [Field error in object 'registerRequest' on field 'publicKey': rejected value [null]; codes [NotBlank.registerRequest.publicKey,NotBlank.publicKey,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.publicKey,publicKey]; arguments []; default message [publicKey]]; default message [La clave pública es obligatoria]] ]
2026-02-12 21:16:32 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2026-02-12 21:16:32 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2026-02-12 21:16:32 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2026-02-12 21:16:32 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2026-02-12 21:17:20 [main] INFO  c.h.a.controller.AuthControllerTest - Starting AuthControllerTest using Java 21.0.6 with PID 15648 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:17:20 [main] INFO  c.h.a.controller.AuthControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:17:22 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 1c9e8933-6a83-4a57-b40c-6c29b6c7ddb1

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 21:17:22 [main] INFO  c.h.a.controller.AuthControllerTest - Started AuthControllerTest in 2.56 seconds (process running for 5.465)
2026-02-12 21:17:22 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest): [Field error in object 'registerRequest' on field 'publicKey': rejected value []; codes [NotBlank.registerRequest.publicKey,NotBlank.publicKey,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.publicKey,publicKey]; arguments []; default message [publicKey]]; default message [La clave pública es obligatoria]] ]
2026-02-12 21:17:22 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest): [Field error in object 'registerRequest' on field 'id': rejected value [HNET-1234]; codes [Pattern.registerRequest.id,Pattern.id,Pattern.java.lang.String,Pattern]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.id,id]; arguments []; default message [id],[Ljakarta.validation.constraints.Pattern$Flag;@102c24d1,^HNET-[A-Za-z0-9]{5,}$]; default message [El ID debe empezar por HNET- y tener caracteres alfanuméricos]] ]
2026-02-12 21:17:22 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest): [Field error in object 'registerRequest' on field 'id': rejected value [INVALID-ID]; codes [Pattern.registerRequest.id,Pattern.id,Pattern.java.lang.String,Pattern]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.id,id]; arguments []; default message [id],[Ljakarta.validation.constraints.Pattern$Flag;@102c24d1,^HNET-[A-Za-z0-9]{5,}$]; default message [El ID debe empezar por HNET- y tener caracteres alfanuméricos]] ]
2026-02-12 21:17:23 [main] INFO  c.h.a.c.MessageControllerSecurityTest - Starting MessageControllerSecurityTest using Java 21.0.6 with PID 15648 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:17:23 [main] INFO  c.h.a.c.MessageControllerSecurityTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:17:23 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: bb2000cf-89b0-40bf-b1ef-587a871f8dd3

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 21:17:23 [main] INFO  c.h.a.c.MessageControllerSecurityTest - Started MessageControllerSecurityTest in 0.931 seconds (process running for 6.894)
2026-02-12 21:17:24 [main] INFO  c.h.a.c.MessageControllerTest - Starting MessageControllerTest using Java 21.0.6 with PID 15648 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:17:24 [main] INFO  c.h.a.c.MessageControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:17:24 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 3399b0c1-a04d-408b-b2fa-c6c4ff38d615

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 21:17:24 [main] INFO  c.h.a.c.MessageControllerTest - Started MessageControllerTest in 0.436 seconds (process running for 7.45)
2026-02-12 21:17:24 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.hermnet.api.controller.MessageController.sendMessage(com.hermnet.api.dto.SendMessageRequest): [Field error in object 'sendMessageRequest' on field 'stegoImage': rejected value [null]; codes [NotNull.sendMessageRequest.stegoImage,NotNull.stegoImage,NotNull.[B,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [sendMessageRequest.stegoImage,stegoImage]; arguments []; default message [stegoImage]]; default message [Stego image is required]] ]
2026-02-12 21:17:24 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.hermnet.api.controller.MessageController.sendMessage(com.hermnet.api.dto.SendMessageRequest): [Field error in object 'sendMessageRequest' on field 'recipientId': rejected value []; codes [NotBlank.sendMessageRequest.recipientId,NotBlank.recipientId,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [sendMessageRequest.recipientId,recipientId]; arguments []; default message [recipientId]]; default message [Recipient ID is required]] ]
2026-02-12 21:17:24 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.hermnet.api.controller.MessageController.sendMessage(com.hermnet.api.dto.SendMessageRequest): [Field error in object 'sendMessageRequest' on field 'stegoImage': rejected value [{}]; codes [Size.sendMessageRequest.stegoImage,Size.stegoImage,Size.[B,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [sendMessageRequest.stegoImage,stegoImage]; arguments []; default message [stegoImage],2147483647,1]; default message [Stego image cannot be empty]] ]
2026-02-12 21:17:24 [main] INFO  c.h.api.HermnetApiApplicationTests - Starting HermnetApiApplicationTests using Java 21.0.6 with PID 15648 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:17:24 [main] INFO  c.h.api.HermnetApiApplicationTests - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:17:25 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-12 21:17:25 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4acae4c7
2026-02-12 21:17:25 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-12 21:17:26 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-12 21:17:27 [main] DEBUG org.hibernate.SQL - set client_min_messages = WARNING
2026-02-12 21:17:27 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges drop constraint if exists FKl5m80koyne9ork274crpw6jv
2026-02-12 21:17:27 [main] DEBUG org.hibernate.SQL - drop table if exists auth_challenges cascade
2026-02-12 21:17:27 [main] DEBUG org.hibernate.SQL - drop table if exists mailbox cascade
2026-02-12 21:17:27 [main] DEBUG org.hibernate.SQL - drop table if exists rate_limit_buckets cascade
2026-02-12 21:17:27 [main] DEBUG org.hibernate.SQL - drop table if exists token_blacklist cascade
2026-02-12 21:17:27 [main] DEBUG org.hibernate.SQL - drop table if exists users cascade
2026-02-12 21:17:27 [main] DEBUG org.hibernate.SQL - create table auth_challenges (challenge_id bigint generated by default as identity, expires_at timestamp(6) not null, nonce varchar(64) not null, user_hash varchar(64) not null, primary key (challenge_id))
2026-02-12 21:17:27 [main] DEBUG org.hibernate.SQL - create table mailbox (created_at timestamp(6) not null, message_id bigint generated by default as identity, recipient_hash varchar(64) not null, stego_packet oid not null, primary key (message_id))
2026-02-12 21:17:27 [main] DEBUG org.hibernate.SQL - create table rate_limit_buckets (request_count integer not null, reset_time timestamp(6) not null, ip_hash varchar(64) not null, primary key (ip_hash))
2026-02-12 21:17:27 [main] DEBUG org.hibernate.SQL - create table token_blacklist (expires_at timestamp(6) not null, revoked_reason varchar(20), jti varchar(36) not null, primary key (jti))
2026-02-12 21:17:27 [main] DEBUG org.hibernate.SQL - create table users (created_at timestamp(6) not null, id_hash varchar(64) not null, public_key TEXT not null unique, push_token TEXT, primary key (id_hash))
2026-02-12 21:17:27 [main] DEBUG org.hibernate.SQL - create index idx_mailbox_recipient on mailbox (recipient_hash)
2026-02-12 21:17:27 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges add constraint FKl5m80koyne9ork274crpw6jv foreign key (user_hash) references users
2026-02-12 21:17:27 [main] WARN  o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'firebaseApp' defined in class path resource [com/hermnet/api/config/FirebaseConfig.class]: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
2026-02-12 21:17:27 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-12 21:17:27 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-02-12 21:17:27 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'firebaseApp' defined in class path resource [com/hermnet/api/config/FirebaseConfig.class]: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:489)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:152)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:595)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:152)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:111)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:200)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:89)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:169)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 106 common frames omitted
Caused by: java.io.IOException: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at com.google.auth.oauth2.DefaultCredentialsProvider.getDefaultCredentials(DefaultCredentialsProvider.java:127)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:129)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:101)
	at com.hermnet.api.config.FirebaseConfig.firebaseApp(FirebaseConfig.java:54)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.CGLIB$firebaseApp$0(<generated>)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$FastClass$$1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:400)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.firebaseApp(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:172)
	... 109 common frames omitted
2026-02-12 21:17:27 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.hermnet.api.HermnetApiApplicationTests@66ed4881]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@b0dc426 testClass = com.hermnet.api.HermnetApiApplicationTests, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@15b642b9, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dfab87, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6bca6c4c, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@eac3a26, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@7b306b9f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4adc663e, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@37978199], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'firebaseApp' defined in class path resource [com/hermnet/api/config/FirebaseConfig.class]: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:489)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:152)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:595)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:152)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:111)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 80 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:200)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:89)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:169)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 106 common frames omitted
Caused by: java.io.IOException: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at com.google.auth.oauth2.DefaultCredentialsProvider.getDefaultCredentials(DefaultCredentialsProvider.java:127)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:129)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:101)
	at com.hermnet.api.config.FirebaseConfig.firebaseApp(FirebaseConfig.java:54)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.CGLIB$firebaseApp$0(<generated>)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$FastClass$$1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:400)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.firebaseApp(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:172)
	... 109 common frames omitted
2026-02-12 21:17:28 [main] INFO  c.h.a.r.AuthChallengeRepositoryTest - Starting AuthChallengeRepositoryTest using Java 21.0.6 with PID 15648 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:17:28 [main] INFO  c.h.a.r.AuthChallengeRepositoryTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:17:28 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2026-02-12 21:17:28 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@54856056
2026-02-12 21:17:28 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2026-02-12 21:17:28 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-12 21:17:28 [main] DEBUG org.hibernate.SQL - set client_min_messages = WARNING
2026-02-12 21:17:28 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges drop constraint if exists FKl5m80koyne9ork274crpw6jv
2026-02-12 21:17:28 [main] DEBUG org.hibernate.SQL - drop table if exists auth_challenges cascade
2026-02-12 21:17:28 [main] DEBUG org.hibernate.SQL - drop table if exists mailbox cascade
2026-02-12 21:17:28 [main] DEBUG org.hibernate.SQL - drop table if exists rate_limit_buckets cascade
2026-02-12 21:17:28 [main] DEBUG org.hibernate.SQL - drop table if exists token_blacklist cascade
2026-02-12 21:17:28 [main] DEBUG org.hibernate.SQL - drop table if exists users cascade
2026-02-12 21:17:28 [main] DEBUG org.hibernate.SQL - create table auth_challenges (challenge_id bigint generated by default as identity, expires_at timestamp(6) not null, nonce varchar(64) not null, user_hash varchar(64) not null, primary key (challenge_id))
2026-02-12 21:17:28 [main] DEBUG org.hibernate.SQL - create table mailbox (created_at timestamp(6) not null, message_id bigint generated by default as identity, recipient_hash varchar(64) not null, stego_packet oid not null, primary key (message_id))
2026-02-12 21:17:28 [main] DEBUG org.hibernate.SQL - create table rate_limit_buckets (request_count integer not null, reset_time timestamp(6) not null, ip_hash varchar(64) not null, primary key (ip_hash))
2026-02-12 21:17:28 [main] DEBUG org.hibernate.SQL - create table token_blacklist (expires_at timestamp(6) not null, revoked_reason varchar(20), jti varchar(36) not null, primary key (jti))
2026-02-12 21:17:28 [main] DEBUG org.hibernate.SQL - create table users (created_at timestamp(6) not null, id_hash varchar(64) not null, public_key TEXT not null unique, push_token TEXT, primary key (id_hash))
2026-02-12 21:17:28 [main] DEBUG org.hibernate.SQL - create index idx_mailbox_recipient on mailbox (recipient_hash)
2026-02-12 21:17:28 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges add constraint FKl5m80koyne9ork274crpw6jv foreign key (user_hash) references users
2026-02-12 21:17:28 [main] INFO  c.h.a.r.AuthChallengeRepositoryTest - Started AuthChallengeRepositoryTest in 0.721 seconds (process running for 11.737)
2026-02-12 21:17:28 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:17:28 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:17:28 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:17:28 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:17:28 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:17:28 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:17:28 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.expires_at<?
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - delete from auth_challenges where challenge_id=?
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.nonce=?
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select count(*) from auth_challenges ac1_0
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.user_hash=?
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - delete from auth_challenges where challenge_id=?
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - delete from auth_challenges where challenge_id=?
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select count(*) from auth_challenges ac1_0
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.nonce=?
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.user_hash=?
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - insert into token_blacklist (expires_at,revoked_reason,jti) values (?,?,?)
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - insert into token_blacklist (expires_at,revoked_reason,jti) values (?,?,?)
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - delete from token_blacklist where jti=?
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0 where m1_0.created_at<?
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - delete from mailbox where message_id=?
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0 where m1_0.recipient_hash=? order by m1_0.created_at desc
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0 where rlb1_0.ip_hash=?
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0 where rlb1_0.ip_hash=?
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0 where rlb1_0.ip_hash=?
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.public_key=?
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.public_key=?
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:17:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:17:30 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
2026-02-12 21:17:30 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: duplicate key value violates unique constraint "users_public_key_key"
  Detail: Key (public_key)=(duplicate-key) already exists.
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - update users set public_key=?,push_token=? where id_hash=?
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:17:30 [main] INFO  c.h.a.s.SecurityIntegrationTest - Starting SecurityIntegrationTest using Java 21.0.6 with PID 15648 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:17:30 [main] INFO  c.h.a.s.SecurityIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:17:30 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2026-02-12 21:17:30 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@451211cf
2026-02-12 21:17:30 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2026-02-12 21:17:30 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - set client_min_messages = WARNING
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges drop constraint if exists FKl5m80koyne9ork274crpw6jv
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - drop table if exists auth_challenges cascade
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - drop table if exists mailbox cascade
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - drop table if exists rate_limit_buckets cascade
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - drop table if exists token_blacklist cascade
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - drop table if exists users cascade
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - create table auth_challenges (challenge_id bigint generated by default as identity, expires_at timestamp(6) not null, nonce varchar(64) not null, user_hash varchar(64) not null, primary key (challenge_id))
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - create table mailbox (created_at timestamp(6) not null, message_id bigint generated by default as identity, recipient_hash varchar(64) not null, stego_packet oid not null, primary key (message_id))
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - create table rate_limit_buckets (request_count integer not null, reset_time timestamp(6) not null, ip_hash varchar(64) not null, primary key (ip_hash))
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - create table token_blacklist (expires_at timestamp(6) not null, revoked_reason varchar(20), jti varchar(36) not null, primary key (jti))
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - create table users (created_at timestamp(6) not null, id_hash varchar(64) not null, public_key TEXT not null unique, push_token TEXT, primary key (id_hash))
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - create index idx_mailbox_recipient on mailbox (recipient_hash)
2026-02-12 21:17:30 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges add constraint FKl5m80koyne9ork274crpw6jv foreign key (user_hash) references users
2026-02-12 21:17:30 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-12 21:17:30 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 68470a53-c4fa-4d34-b58d-69a18c2990be

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 21:17:31 [main] INFO  c.h.a.s.SecurityIntegrationTest - Started SecurityIntegrationTest in 1.077 seconds (process running for 14.215)
2026-02-12 21:17:31 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest) with 2 errors: [Field error in object 'registerRequest' on field 'publicKey': rejected value [null]; codes [NotBlank.registerRequest.publicKey,NotBlank.publicKey,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.publicKey,publicKey]; arguments []; default message [publicKey]]; default message [La clave pública es obligatoria]] [Field error in object 'registerRequest' on field 'id': rejected value [null]; codes [NotBlank.registerRequest.id,NotBlank.id,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.id,id]; arguments []; default message [id]]; default message [El ID es obligatorio]] ]
2026-02-12 21:17:32 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2026-02-12 21:17:32 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2026-02-12 21:17:32 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2026-02-12 21:17:32 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2026-02-12 21:18:23 [main] INFO  c.h.a.controller.AuthControllerTest - Starting AuthControllerTest using Java 21.0.6 with PID 20024 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:18:23 [main] INFO  c.h.a.controller.AuthControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:18:25 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: e935bf75-077a-49c3-a432-14f589495581

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 21:18:25 [main] INFO  c.h.a.controller.AuthControllerTest - Started AuthControllerTest in 2.615 seconds (process running for 5.389)
2026-02-12 21:18:26 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest): [Field error in object 'registerRequest' on field 'publicKey': rejected value []; codes [NotBlank.registerRequest.publicKey,NotBlank.publicKey,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.publicKey,publicKey]; arguments []; default message [publicKey]]; default message [La clave pública es obligatoria]] ]
2026-02-12 21:18:26 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest): [Field error in object 'registerRequest' on field 'id': rejected value [HNET-1234]; codes [Pattern.registerRequest.id,Pattern.id,Pattern.java.lang.String,Pattern]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.id,id]; arguments []; default message [id],[Ljakarta.validation.constraints.Pattern$Flag;@43b2e7db,^HNET-[A-Za-z0-9]{5,}$]; default message [El ID debe empezar por HNET- y tener caracteres alfanuméricos]] ]
2026-02-12 21:18:26 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest): [Field error in object 'registerRequest' on field 'id': rejected value [INVALID-ID]; codes [Pattern.registerRequest.id,Pattern.id,Pattern.java.lang.String,Pattern]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.id,id]; arguments []; default message [id],[Ljakarta.validation.constraints.Pattern$Flag;@43b2e7db,^HNET-[A-Za-z0-9]{5,}$]; default message [El ID debe empezar por HNET- y tener caracteres alfanuméricos]] ]
2026-02-12 21:18:26 [main] INFO  c.h.a.c.MessageControllerSecurityTest - Starting MessageControllerSecurityTest using Java 21.0.6 with PID 20024 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:18:26 [main] INFO  c.h.a.c.MessageControllerSecurityTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:18:27 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 217b26f9-2cfa-4596-9c7d-765f199dbd11

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 21:18:27 [main] INFO  c.h.a.c.MessageControllerSecurityTest - Started MessageControllerSecurityTest in 0.882 seconds (process running for 6.777)
2026-02-12 21:18:27 [main] INFO  c.h.a.c.MessageControllerTest - Starting MessageControllerTest using Java 21.0.6 with PID 20024 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:18:27 [main] INFO  c.h.a.c.MessageControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:18:27 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: f09d3ac6-fa64-4a72-83d2-e8dbbe3ceb26

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 21:18:27 [main] INFO  c.h.a.c.MessageControllerTest - Started MessageControllerTest in 0.446 seconds (process running for 7.331)
2026-02-12 21:18:27 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.hermnet.api.controller.MessageController.sendMessage(com.hermnet.api.dto.SendMessageRequest): [Field error in object 'sendMessageRequest' on field 'stegoImage': rejected value [null]; codes [NotNull.sendMessageRequest.stegoImage,NotNull.stegoImage,NotNull.[B,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [sendMessageRequest.stegoImage,stegoImage]; arguments []; default message [stegoImage]]; default message [Stego image is required]] ]
2026-02-12 21:18:27 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.hermnet.api.controller.MessageController.sendMessage(com.hermnet.api.dto.SendMessageRequest): [Field error in object 'sendMessageRequest' on field 'recipientId': rejected value []; codes [NotBlank.sendMessageRequest.recipientId,NotBlank.recipientId,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [sendMessageRequest.recipientId,recipientId]; arguments []; default message [recipientId]]; default message [Recipient ID is required]] ]
2026-02-12 21:18:27 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.hermnet.api.controller.MessageController.sendMessage(com.hermnet.api.dto.SendMessageRequest): [Field error in object 'sendMessageRequest' on field 'stegoImage': rejected value [{}]; codes [Size.sendMessageRequest.stegoImage,Size.stegoImage,Size.[B,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [sendMessageRequest.stegoImage,stegoImage]; arguments []; default message [stegoImage],2147483647,1]; default message [Stego image cannot be empty]] ]
2026-02-12 21:18:27 [main] INFO  c.h.api.HermnetApiApplicationTests - Starting HermnetApiApplicationTests using Java 21.0.6 with PID 20024 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:18:27 [main] INFO  c.h.api.HermnetApiApplicationTests - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:18:28 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-12 21:18:29 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@276ac94c
2026-02-12 21:18:29 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-12 21:18:29 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-12 21:18:30 [main] DEBUG org.hibernate.SQL - set client_min_messages = WARNING
2026-02-12 21:18:30 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges drop constraint if exists FKl5m80koyne9ork274crpw6jv
2026-02-12 21:18:30 [main] DEBUG org.hibernate.SQL - drop table if exists auth_challenges cascade
2026-02-12 21:18:30 [main] DEBUG org.hibernate.SQL - drop table if exists mailbox cascade
2026-02-12 21:18:30 [main] DEBUG org.hibernate.SQL - drop table if exists rate_limit_buckets cascade
2026-02-12 21:18:30 [main] DEBUG org.hibernate.SQL - drop table if exists token_blacklist cascade
2026-02-12 21:18:30 [main] DEBUG org.hibernate.SQL - drop table if exists users cascade
2026-02-12 21:18:30 [main] DEBUG org.hibernate.SQL - create table auth_challenges (challenge_id bigint generated by default as identity, expires_at timestamp(6) not null, nonce varchar(64) not null, user_hash varchar(64) not null, primary key (challenge_id))
2026-02-12 21:18:30 [main] DEBUG org.hibernate.SQL - create table mailbox (created_at timestamp(6) not null, message_id bigint generated by default as identity, recipient_hash varchar(64) not null, stego_packet oid not null, primary key (message_id))
2026-02-12 21:18:30 [main] DEBUG org.hibernate.SQL - create table rate_limit_buckets (request_count integer not null, reset_time timestamp(6) not null, ip_hash varchar(64) not null, primary key (ip_hash))
2026-02-12 21:18:30 [main] DEBUG org.hibernate.SQL - create table token_blacklist (expires_at timestamp(6) not null, revoked_reason varchar(20), jti varchar(36) not null, primary key (jti))
2026-02-12 21:18:30 [main] DEBUG org.hibernate.SQL - create table users (created_at timestamp(6) not null, id_hash varchar(64) not null, public_key TEXT not null unique, push_token TEXT, primary key (id_hash))
2026-02-12 21:18:30 [main] DEBUG org.hibernate.SQL - create index idx_mailbox_recipient on mailbox (recipient_hash)
2026-02-12 21:18:30 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges add constraint FKl5m80koyne9ork274crpw6jv foreign key (user_hash) references users
2026-02-12 21:18:31 [main] WARN  o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'firebaseApp' defined in class path resource [com/hermnet/api/config/FirebaseConfig.class]: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
2026-02-12 21:18:31 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-12 21:18:31 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-02-12 21:18:31 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'firebaseApp' defined in class path resource [com/hermnet/api/config/FirebaseConfig.class]: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:489)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:152)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:595)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:152)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:111)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:200)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:89)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:169)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 106 common frames omitted
Caused by: java.io.IOException: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at com.google.auth.oauth2.DefaultCredentialsProvider.getDefaultCredentials(DefaultCredentialsProvider.java:127)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:129)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:101)
	at com.hermnet.api.config.FirebaseConfig.firebaseApp(FirebaseConfig.java:54)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.CGLIB$firebaseApp$0(<generated>)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$FastClass$$1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:400)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.firebaseApp(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:172)
	... 109 common frames omitted
2026-02-12 21:18:31 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.hermnet.api.HermnetApiApplicationTests@31fe5168]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@4a6198a7 testClass = com.hermnet.api.HermnetApiApplicationTests, locations = [], classes = [com.hermnet.api.HermnetApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@15b642b9, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@56dfab87, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@39303a6, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@eac3a26, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@7b306b9f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4adc663e, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@37978199], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'firebaseApp' defined in class path resource [com/hermnet/api/config/FirebaseConfig.class]: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:489)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:152)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:595)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:152)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:111)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 80 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.google.firebase.FirebaseApp]: Factory method 'firebaseApp' threw exception with message: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:200)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:89)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:169)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 106 common frames omitted
Caused by: java.io.IOException: Your default credentials were not found. To set up Application Default Credentials for your environment, see https://cloud.google.com/docs/authentication/external/set-up-adc.
	at com.google.auth.oauth2.DefaultCredentialsProvider.getDefaultCredentials(DefaultCredentialsProvider.java:127)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:129)
	at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:101)
	at com.hermnet.api.config.FirebaseConfig.firebaseApp(FirebaseConfig.java:54)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.CGLIB$firebaseApp$0(<generated>)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$FastClass$$1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:400)
	at com.hermnet.api.config.FirebaseConfig$$SpringCGLIB$$0.firebaseApp(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:172)
	... 109 common frames omitted
2026-02-12 21:18:31 [main] INFO  c.h.a.r.AuthChallengeRepositoryTest - Starting AuthChallengeRepositoryTest using Java 21.0.6 with PID 20024 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:18:31 [main] INFO  c.h.a.r.AuthChallengeRepositoryTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:18:31 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2026-02-12 21:18:31 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@776a3e76
2026-02-12 21:18:31 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2026-02-12 21:18:31 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-12 21:18:31 [main] DEBUG org.hibernate.SQL - set client_min_messages = WARNING
2026-02-12 21:18:31 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges drop constraint if exists FKl5m80koyne9ork274crpw6jv
2026-02-12 21:18:31 [main] DEBUG org.hibernate.SQL - drop table if exists auth_challenges cascade
2026-02-12 21:18:31 [main] DEBUG org.hibernate.SQL - drop table if exists mailbox cascade
2026-02-12 21:18:31 [main] DEBUG org.hibernate.SQL - drop table if exists rate_limit_buckets cascade
2026-02-12 21:18:31 [main] DEBUG org.hibernate.SQL - drop table if exists token_blacklist cascade
2026-02-12 21:18:31 [main] DEBUG org.hibernate.SQL - drop table if exists users cascade
2026-02-12 21:18:31 [main] DEBUG org.hibernate.SQL - create table auth_challenges (challenge_id bigint generated by default as identity, expires_at timestamp(6) not null, nonce varchar(64) not null, user_hash varchar(64) not null, primary key (challenge_id))
2026-02-12 21:18:31 [main] DEBUG org.hibernate.SQL - create table mailbox (created_at timestamp(6) not null, message_id bigint generated by default as identity, recipient_hash varchar(64) not null, stego_packet oid not null, primary key (message_id))
2026-02-12 21:18:31 [main] DEBUG org.hibernate.SQL - create table rate_limit_buckets (request_count integer not null, reset_time timestamp(6) not null, ip_hash varchar(64) not null, primary key (ip_hash))
2026-02-12 21:18:31 [main] DEBUG org.hibernate.SQL - create table token_blacklist (expires_at timestamp(6) not null, revoked_reason varchar(20), jti varchar(36) not null, primary key (jti))
2026-02-12 21:18:31 [main] DEBUG org.hibernate.SQL - create table users (created_at timestamp(6) not null, id_hash varchar(64) not null, public_key TEXT not null unique, push_token TEXT, primary key (id_hash))
2026-02-12 21:18:31 [main] DEBUG org.hibernate.SQL - create index idx_mailbox_recipient on mailbox (recipient_hash)
2026-02-12 21:18:31 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges add constraint FKl5m80koyne9ork274crpw6jv foreign key (user_hash) references users
2026-02-12 21:18:32 [main] INFO  c.h.a.r.AuthChallengeRepositoryTest - Started AuthChallengeRepositoryTest in 0.647 seconds (process running for 11.567)
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.expires_at<?
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - delete from auth_challenges where challenge_id=?
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.nonce=?
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - select count(*) from auth_challenges ac1_0
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.user_hash=?
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - delete from auth_challenges where challenge_id=?
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - delete from auth_challenges where challenge_id=?
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - select count(*) from auth_challenges ac1_0
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.nonce=?
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.user_hash=?
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - insert into token_blacklist (expires_at,revoked_reason,jti) values (?,?,?)
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - insert into token_blacklist (expires_at,revoked_reason,jti) values (?,?,?)
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - delete from token_blacklist where jti=?
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0 where m1_0.created_at<?
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - delete from mailbox where message_id=?
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:18:32 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0 where m1_0.recipient_hash=? order by m1_0.created_at desc
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0 where rlb1_0.ip_hash=?
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0 where rlb1_0.ip_hash=?
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0 where rlb1_0.ip_hash=?
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.public_key=?
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.public_key=?
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:18:33 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
2026-02-12 21:18:33 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: duplicate key value violates unique constraint "users_public_key_key"
  Detail: Key (public_key)=(duplicate-key) already exists.
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - update users set public_key=?,push_token=? where id_hash=?
2026-02-12 21:18:33 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:18:33 [main] INFO  c.h.a.s.SecurityIntegrationTest - Starting SecurityIntegrationTest using Java 21.0.6 with PID 20024 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:18:33 [main] INFO  c.h.a.s.SecurityIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:18:33 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2026-02-12 21:18:33 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@74df55b2
2026-02-12 21:18:33 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2026-02-12 21:18:33 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-12 21:18:34 [main] DEBUG org.hibernate.SQL - set client_min_messages = WARNING
2026-02-12 21:18:34 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges drop constraint if exists FKl5m80koyne9ork274crpw6jv
2026-02-12 21:18:34 [main] DEBUG org.hibernate.SQL - drop table if exists auth_challenges cascade
2026-02-12 21:18:34 [main] DEBUG org.hibernate.SQL - drop table if exists mailbox cascade
2026-02-12 21:18:34 [main] DEBUG org.hibernate.SQL - drop table if exists rate_limit_buckets cascade
2026-02-12 21:18:34 [main] DEBUG org.hibernate.SQL - drop table if exists token_blacklist cascade
2026-02-12 21:18:34 [main] DEBUG org.hibernate.SQL - drop table if exists users cascade
2026-02-12 21:18:34 [main] DEBUG org.hibernate.SQL - create table auth_challenges (challenge_id bigint generated by default as identity, expires_at timestamp(6) not null, nonce varchar(64) not null, user_hash varchar(64) not null, primary key (challenge_id))
2026-02-12 21:18:34 [main] DEBUG org.hibernate.SQL - create table mailbox (created_at timestamp(6) not null, message_id bigint generated by default as identity, recipient_hash varchar(64) not null, stego_packet oid not null, primary key (message_id))
2026-02-12 21:18:34 [main] DEBUG org.hibernate.SQL - create table rate_limit_buckets (request_count integer not null, reset_time timestamp(6) not null, ip_hash varchar(64) not null, primary key (ip_hash))
2026-02-12 21:18:34 [main] DEBUG org.hibernate.SQL - create table token_blacklist (expires_at timestamp(6) not null, revoked_reason varchar(20), jti varchar(36) not null, primary key (jti))
2026-02-12 21:18:34 [main] DEBUG org.hibernate.SQL - create table users (created_at timestamp(6) not null, id_hash varchar(64) not null, public_key TEXT not null unique, push_token TEXT, primary key (id_hash))
2026-02-12 21:18:34 [main] DEBUG org.hibernate.SQL - create index idx_mailbox_recipient on mailbox (recipient_hash)
2026-02-12 21:18:34 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges add constraint FKl5m80koyne9ork274crpw6jv foreign key (user_hash) references users
2026-02-12 21:18:34 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-12 21:18:34 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 08c916b0-79e9-4ae5-b0bc-61aa6e84c283

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 21:18:34 [main] INFO  c.h.a.s.SecurityIntegrationTest - Started SecurityIntegrationTest in 1.139 seconds (process running for 14.069)
2026-02-12 21:18:34 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest) with 2 errors: [Field error in object 'registerRequest' on field 'id': rejected value [null]; codes [NotBlank.registerRequest.id,NotBlank.id,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.id,id]; arguments []; default message [id]]; default message [El ID es obligatorio]] [Field error in object 'registerRequest' on field 'publicKey': rejected value [null]; codes [NotBlank.registerRequest.publicKey,NotBlank.publicKey,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.publicKey,publicKey]; arguments []; default message [publicKey]]; default message [La clave pública es obligatoria]] ]
2026-02-12 21:18:35 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2026-02-12 21:18:35 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2026-02-12 21:18:35 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2026-02-12 21:18:35 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2026-02-12 21:19:18 [main] INFO  c.h.a.controller.AuthControllerTest - Starting AuthControllerTest using Java 21.0.6 with PID 20124 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:19:18 [main] INFO  c.h.a.controller.AuthControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:19:20 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 378f845d-82fa-42e8-bea5-94ff8a871cbc

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 21:19:21 [main] INFO  c.h.a.controller.AuthControllerTest - Started AuthControllerTest in 2.95 seconds (process running for 6.039)
2026-02-12 21:19:21 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest): [Field error in object 'registerRequest' on field 'publicKey': rejected value []; codes [NotBlank.registerRequest.publicKey,NotBlank.publicKey,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.publicKey,publicKey]; arguments []; default message [publicKey]]; default message [La clave pública es obligatoria]] ]
2026-02-12 21:19:21 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest): [Field error in object 'registerRequest' on field 'id': rejected value [HNET-1234]; codes [Pattern.registerRequest.id,Pattern.id,Pattern.java.lang.String,Pattern]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.id,id]; arguments []; default message [id],[Ljakarta.validation.constraints.Pattern$Flag;@700202fa,^HNET-[A-Za-z0-9]{5,}$]; default message [El ID debe empezar por HNET- y tener caracteres alfanuméricos]] ]
2026-02-12 21:19:21 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest): [Field error in object 'registerRequest' on field 'id': rejected value [INVALID-ID]; codes [Pattern.registerRequest.id,Pattern.id,Pattern.java.lang.String,Pattern]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.id,id]; arguments []; default message [id],[Ljakarta.validation.constraints.Pattern$Flag;@700202fa,^HNET-[A-Za-z0-9]{5,}$]; default message [El ID debe empezar por HNET- y tener caracteres alfanuméricos]] ]
2026-02-12 21:19:21 [main] INFO  c.h.a.c.MessageControllerSecurityTest - Starting MessageControllerSecurityTest using Java 21.0.6 with PID 20124 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:19:21 [main] INFO  c.h.a.c.MessageControllerSecurityTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:19:22 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 0d8fdb6c-405b-4221-80fe-62d723826d33

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 21:19:22 [main] INFO  c.h.a.c.MessageControllerSecurityTest - Started MessageControllerSecurityTest in 0.951 seconds (process running for 7.58)
2026-02-12 21:19:22 [main] INFO  c.h.a.c.MessageControllerTest - Starting MessageControllerTest using Java 21.0.6 with PID 20124 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:19:22 [main] INFO  c.h.a.c.MessageControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:19:23 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 789dfeb7-4ba3-4e40-925a-60e3d935fbf8

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 21:19:23 [main] INFO  c.h.a.c.MessageControllerTest - Started MessageControllerTest in 0.466 seconds (process running for 8.178)
2026-02-12 21:19:23 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.hermnet.api.controller.MessageController.sendMessage(com.hermnet.api.dto.SendMessageRequest): [Field error in object 'sendMessageRequest' on field 'stegoImage': rejected value [null]; codes [NotNull.sendMessageRequest.stegoImage,NotNull.stegoImage,NotNull.[B,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [sendMessageRequest.stegoImage,stegoImage]; arguments []; default message [stegoImage]]; default message [Stego image is required]] ]
2026-02-12 21:19:23 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.hermnet.api.controller.MessageController.sendMessage(com.hermnet.api.dto.SendMessageRequest): [Field error in object 'sendMessageRequest' on field 'recipientId': rejected value []; codes [NotBlank.sendMessageRequest.recipientId,NotBlank.recipientId,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [sendMessageRequest.recipientId,recipientId]; arguments []; default message [recipientId]]; default message [Recipient ID is required]] ]
2026-02-12 21:19:23 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.hermnet.api.controller.MessageController.sendMessage(com.hermnet.api.dto.SendMessageRequest): [Field error in object 'sendMessageRequest' on field 'stegoImage': rejected value [{}]; codes [Size.sendMessageRequest.stegoImage,Size.stegoImage,Size.[B,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [sendMessageRequest.stegoImage,stegoImage]; arguments []; default message [stegoImage],2147483647,1]; default message [Stego image cannot be empty]] ]
2026-02-12 21:19:23 [main] INFO  c.h.api.HermnetApiApplicationTests - Starting HermnetApiApplicationTests using Java 21.0.6 with PID 20124 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:19:23 [main] INFO  c.h.api.HermnetApiApplicationTests - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:19:24 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-12 21:19:24 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@41e156ee
2026-02-12 21:19:24 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-12 21:19:25 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-12 21:19:26 [main] DEBUG org.hibernate.SQL - set client_min_messages = WARNING
2026-02-12 21:19:26 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges drop constraint if exists FKl5m80koyne9ork274crpw6jv
2026-02-12 21:19:26 [main] DEBUG org.hibernate.SQL - drop table if exists auth_challenges cascade
2026-02-12 21:19:26 [main] DEBUG org.hibernate.SQL - drop table if exists mailbox cascade
2026-02-12 21:19:26 [main] DEBUG org.hibernate.SQL - drop table if exists rate_limit_buckets cascade
2026-02-12 21:19:26 [main] DEBUG org.hibernate.SQL - drop table if exists token_blacklist cascade
2026-02-12 21:19:26 [main] DEBUG org.hibernate.SQL - drop table if exists users cascade
2026-02-12 21:19:26 [main] DEBUG org.hibernate.SQL - create table auth_challenges (challenge_id bigint generated by default as identity, expires_at timestamp(6) not null, nonce varchar(64) not null, user_hash varchar(64) not null, primary key (challenge_id))
2026-02-12 21:19:26 [main] DEBUG org.hibernate.SQL - create table mailbox (created_at timestamp(6) not null, message_id bigint generated by default as identity, recipient_hash varchar(64) not null, stego_packet oid not null, primary key (message_id))
2026-02-12 21:19:26 [main] DEBUG org.hibernate.SQL - create table rate_limit_buckets (request_count integer not null, reset_time timestamp(6) not null, ip_hash varchar(64) not null, primary key (ip_hash))
2026-02-12 21:19:26 [main] DEBUG org.hibernate.SQL - create table token_blacklist (expires_at timestamp(6) not null, revoked_reason varchar(20), jti varchar(36) not null, primary key (jti))
2026-02-12 21:19:26 [main] DEBUG org.hibernate.SQL - create table users (created_at timestamp(6) not null, id_hash varchar(64) not null, public_key TEXT not null unique, push_token TEXT, primary key (id_hash))
2026-02-12 21:19:26 [main] DEBUG org.hibernate.SQL - create index idx_mailbox_recipient on mailbox (recipient_hash)
2026-02-12 21:19:26 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges add constraint FKl5m80koyne9ork274crpw6jv foreign key (user_hash) references users
2026-02-12 21:19:26 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-12 21:19:26 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: a61cc26a-eca6-4c33-b6ee-4ad4357edeb9

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 21:19:27 [main] INFO  c.h.api.HermnetApiApplicationTests - Started HermnetApiApplicationTests in 3.828 seconds (process running for 12.17)
2026-02-12 21:19:27 [main] INFO  c.h.a.r.AuthChallengeRepositoryTest - Starting AuthChallengeRepositoryTest using Java 21.0.6 with PID 20124 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:19:27 [main] INFO  c.h.a.r.AuthChallengeRepositoryTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:19:27 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2026-02-12 21:19:27 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@2a60cd41
2026-02-12 21:19:27 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2026-02-12 21:19:27 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-12 21:19:27 [main] DEBUG org.hibernate.SQL - set client_min_messages = WARNING
2026-02-12 21:19:27 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges drop constraint if exists FKl5m80koyne9ork274crpw6jv
2026-02-12 21:19:27 [main] DEBUG org.hibernate.SQL - drop table if exists auth_challenges cascade
2026-02-12 21:19:27 [main] DEBUG org.hibernate.SQL - drop table if exists mailbox cascade
2026-02-12 21:19:27 [main] DEBUG org.hibernate.SQL - drop table if exists rate_limit_buckets cascade
2026-02-12 21:19:27 [main] DEBUG org.hibernate.SQL - drop table if exists token_blacklist cascade
2026-02-12 21:19:27 [main] DEBUG org.hibernate.SQL - drop table if exists users cascade
2026-02-12 21:19:27 [main] DEBUG org.hibernate.SQL - create table auth_challenges (challenge_id bigint generated by default as identity, expires_at timestamp(6) not null, nonce varchar(64) not null, user_hash varchar(64) not null, primary key (challenge_id))
2026-02-12 21:19:27 [main] DEBUG org.hibernate.SQL - create table mailbox (created_at timestamp(6) not null, message_id bigint generated by default as identity, recipient_hash varchar(64) not null, stego_packet oid not null, primary key (message_id))
2026-02-12 21:19:27 [main] DEBUG org.hibernate.SQL - create table rate_limit_buckets (request_count integer not null, reset_time timestamp(6) not null, ip_hash varchar(64) not null, primary key (ip_hash))
2026-02-12 21:19:27 [main] DEBUG org.hibernate.SQL - create table token_blacklist (expires_at timestamp(6) not null, revoked_reason varchar(20), jti varchar(36) not null, primary key (jti))
2026-02-12 21:19:27 [main] DEBUG org.hibernate.SQL - create table users (created_at timestamp(6) not null, id_hash varchar(64) not null, public_key TEXT not null unique, push_token TEXT, primary key (id_hash))
2026-02-12 21:19:27 [main] DEBUG org.hibernate.SQL - create index idx_mailbox_recipient on mailbox (recipient_hash)
2026-02-12 21:19:27 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges add constraint FKl5m80koyne9ork274crpw6jv foreign key (user_hash) references users
2026-02-12 21:19:27 [main] INFO  c.h.a.r.AuthChallengeRepositoryTest - Started AuthChallengeRepositoryTest in 0.536 seconds (process running for 12.85)
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.expires_at<?
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - delete from auth_challenges where challenge_id=?
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.nonce=?
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - select count(*) from auth_challenges ac1_0
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.user_hash=?
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - delete from auth_challenges where challenge_id=?
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - delete from auth_challenges where challenge_id=?
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - select count(*) from auth_challenges ac1_0
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.nonce=?
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.user_hash=?
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - insert into token_blacklist (expires_at,revoked_reason,jti) values (?,?,?)
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - insert into token_blacklist (expires_at,revoked_reason,jti) values (?,?,?)
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - delete from token_blacklist where jti=?
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0 where m1_0.created_at<?
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - delete from mailbox where message_id=?
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:19:28 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0 where m1_0.recipient_hash=? order by m1_0.created_at desc
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0 where rlb1_0.ip_hash=?
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0 where rlb1_0.ip_hash=?
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0 where rlb1_0.ip_hash=?
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.public_key=?
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.public_key=?
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:19:29 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
2026-02-12 21:19:29 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: duplicate key value violates unique constraint "users_public_key_key"
  Detail: Key (public_key)=(duplicate-key) already exists.
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - update users set public_key=?,push_token=? where id_hash=?
2026-02-12 21:19:29 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:19:29 [main] INFO  c.h.a.s.SecurityIntegrationTest - Starting SecurityIntegrationTest using Java 21.0.6 with PID 20124 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:19:29 [main] INFO  c.h.a.s.SecurityIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:19:29 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2026-02-12 21:19:30 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@750c3b56
2026-02-12 21:19:30 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2026-02-12 21:19:30 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-12 21:19:30 [main] DEBUG org.hibernate.SQL - set client_min_messages = WARNING
2026-02-12 21:19:30 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges drop constraint if exists FKl5m80koyne9ork274crpw6jv
2026-02-12 21:19:30 [main] DEBUG org.hibernate.SQL - drop table if exists auth_challenges cascade
2026-02-12 21:19:30 [main] DEBUG org.hibernate.SQL - drop table if exists mailbox cascade
2026-02-12 21:19:30 [main] DEBUG org.hibernate.SQL - drop table if exists rate_limit_buckets cascade
2026-02-12 21:19:30 [main] DEBUG org.hibernate.SQL - drop table if exists token_blacklist cascade
2026-02-12 21:19:30 [main] DEBUG org.hibernate.SQL - drop table if exists users cascade
2026-02-12 21:19:30 [main] DEBUG org.hibernate.SQL - create table auth_challenges (challenge_id bigint generated by default as identity, expires_at timestamp(6) not null, nonce varchar(64) not null, user_hash varchar(64) not null, primary key (challenge_id))
2026-02-12 21:19:30 [main] DEBUG org.hibernate.SQL - create table mailbox (created_at timestamp(6) not null, message_id bigint generated by default as identity, recipient_hash varchar(64) not null, stego_packet oid not null, primary key (message_id))
2026-02-12 21:19:30 [main] DEBUG org.hibernate.SQL - create table rate_limit_buckets (request_count integer not null, reset_time timestamp(6) not null, ip_hash varchar(64) not null, primary key (ip_hash))
2026-02-12 21:19:30 [main] DEBUG org.hibernate.SQL - create table token_blacklist (expires_at timestamp(6) not null, revoked_reason varchar(20), jti varchar(36) not null, primary key (jti))
2026-02-12 21:19:30 [main] DEBUG org.hibernate.SQL - create table users (created_at timestamp(6) not null, id_hash varchar(64) not null, public_key TEXT not null unique, push_token TEXT, primary key (id_hash))
2026-02-12 21:19:30 [main] DEBUG org.hibernate.SQL - create index idx_mailbox_recipient on mailbox (recipient_hash)
2026-02-12 21:19:30 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges add constraint FKl5m80koyne9ork274crpw6jv foreign key (user_hash) references users
2026-02-12 21:19:30 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-12 21:19:30 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 58b1894c-8b4c-4766-9022-f4f8113fa8b6

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 21:19:30 [main] INFO  c.h.a.s.SecurityIntegrationTest - Started SecurityIntegrationTest in 1.133 seconds (process running for 15.674)
2026-02-12 21:19:30 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest) with 2 errors: [Field error in object 'registerRequest' on field 'id': rejected value [null]; codes [NotBlank.registerRequest.id,NotBlank.id,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.id,id]; arguments []; default message [id]]; default message [El ID es obligatorio]] [Field error in object 'registerRequest' on field 'publicKey': rejected value [null]; codes [NotBlank.registerRequest.publicKey,NotBlank.publicKey,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.publicKey,publicKey]; arguments []; default message [publicKey]]; default message [La clave pública es obligatoria]] ]
2026-02-12 21:19:31 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-12 21:19:31 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-02-12 21:19:31 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2026-02-12 21:19:31 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2026-02-12 21:19:31 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2026-02-12 21:19:31 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2026-02-12 21:20:03 [main] INFO  c.h.a.controller.AuthControllerTest - Starting AuthControllerTest using Java 21.0.6 with PID 10620 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:20:03 [main] INFO  c.h.a.controller.AuthControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:20:05 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 999b7c3f-f7d8-4fe7-bcd4-59e0e4ce9c8d

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 21:20:05 [main] INFO  c.h.a.controller.AuthControllerTest - Started AuthControllerTest in 2.923 seconds (process running for 6.102)
2026-02-12 21:20:06 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest): [Field error in object 'registerRequest' on field 'publicKey': rejected value []; codes [NotBlank.registerRequest.publicKey,NotBlank.publicKey,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.publicKey,publicKey]; arguments []; default message [publicKey]]; default message [La clave pública es obligatoria]] ]
2026-02-12 21:20:06 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest): [Field error in object 'registerRequest' on field 'id': rejected value [HNET-1234]; codes [Pattern.registerRequest.id,Pattern.id,Pattern.java.lang.String,Pattern]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.id,id]; arguments []; default message [id],[Ljakarta.validation.constraints.Pattern$Flag;@495f7ca4,^HNET-[A-Za-z0-9]{5,}$]; default message [El ID debe empezar por HNET- y tener caracteres alfanuméricos]] ]
2026-02-12 21:20:06 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest): [Field error in object 'registerRequest' on field 'id': rejected value [INVALID-ID]; codes [Pattern.registerRequest.id,Pattern.id,Pattern.java.lang.String,Pattern]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.id,id]; arguments []; default message [id],[Ljakarta.validation.constraints.Pattern$Flag;@495f7ca4,^HNET-[A-Za-z0-9]{5,}$]; default message [El ID debe empezar por HNET- y tener caracteres alfanuméricos]] ]
2026-02-12 21:20:06 [main] INFO  c.h.a.c.MessageControllerSecurityTest - Starting MessageControllerSecurityTest using Java 21.0.6 with PID 10620 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:20:06 [main] INFO  c.h.a.c.MessageControllerSecurityTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:20:07 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 8a7a0376-9845-4bfe-a6b7-3217eea98d79

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 21:20:07 [main] INFO  c.h.a.c.MessageControllerSecurityTest - Started MessageControllerSecurityTest in 0.904 seconds (process running for 7.554)
2026-02-12 21:20:07 [main] INFO  c.h.a.c.MessageControllerTest - Starting MessageControllerTest using Java 21.0.6 with PID 10620 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:20:07 [main] INFO  c.h.a.c.MessageControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:20:07 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: a79de644-b0a7-4948-9a2c-161813a76644

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 21:20:07 [main] INFO  c.h.a.c.MessageControllerTest - Started MessageControllerTest in 0.41 seconds (process running for 8.094)
2026-02-12 21:20:07 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.hermnet.api.controller.MessageController.sendMessage(com.hermnet.api.dto.SendMessageRequest): [Field error in object 'sendMessageRequest' on field 'stegoImage': rejected value [null]; codes [NotNull.sendMessageRequest.stegoImage,NotNull.stegoImage,NotNull.[B,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [sendMessageRequest.stegoImage,stegoImage]; arguments []; default message [stegoImage]]; default message [Stego image is required]] ]
2026-02-12 21:20:07 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.hermnet.api.controller.MessageController.sendMessage(com.hermnet.api.dto.SendMessageRequest): [Field error in object 'sendMessageRequest' on field 'recipientId': rejected value []; codes [NotBlank.sendMessageRequest.recipientId,NotBlank.recipientId,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [sendMessageRequest.recipientId,recipientId]; arguments []; default message [recipientId]]; default message [Recipient ID is required]] ]
2026-02-12 21:20:07 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.hermnet.api.controller.MessageController.sendMessage(com.hermnet.api.dto.SendMessageRequest): [Field error in object 'sendMessageRequest' on field 'stegoImage': rejected value [{}]; codes [Size.sendMessageRequest.stegoImage,Size.stegoImage,Size.[B,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [sendMessageRequest.stegoImage,stegoImage]; arguments []; default message [stegoImage],2147483647,1]; default message [Stego image cannot be empty]] ]
2026-02-12 21:20:07 [main] INFO  c.h.api.HermnetApiApplicationTests - Starting HermnetApiApplicationTests using Java 21.0.6 with PID 10620 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:20:07 [main] INFO  c.h.api.HermnetApiApplicationTests - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:20:08 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-12 21:20:09 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@68893394
2026-02-12 21:20:09 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-12 21:20:09 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-12 21:20:10 [main] DEBUG org.hibernate.SQL - set client_min_messages = WARNING
2026-02-12 21:20:10 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges drop constraint if exists FKl5m80koyne9ork274crpw6jv
2026-02-12 21:20:10 [main] DEBUG org.hibernate.SQL - drop table if exists auth_challenges cascade
2026-02-12 21:20:10 [main] DEBUG org.hibernate.SQL - drop table if exists mailbox cascade
2026-02-12 21:20:10 [main] DEBUG org.hibernate.SQL - drop table if exists rate_limit_buckets cascade
2026-02-12 21:20:10 [main] DEBUG org.hibernate.SQL - drop table if exists token_blacklist cascade
2026-02-12 21:20:10 [main] DEBUG org.hibernate.SQL - drop table if exists users cascade
2026-02-12 21:20:10 [main] DEBUG org.hibernate.SQL - create table auth_challenges (challenge_id bigint generated by default as identity, expires_at timestamp(6) not null, nonce varchar(64) not null, user_hash varchar(64) not null, primary key (challenge_id))
2026-02-12 21:20:10 [main] DEBUG org.hibernate.SQL - create table mailbox (created_at timestamp(6) not null, message_id bigint generated by default as identity, recipient_hash varchar(64) not null, stego_packet oid not null, primary key (message_id))
2026-02-12 21:20:10 [main] DEBUG org.hibernate.SQL - create table rate_limit_buckets (request_count integer not null, reset_time timestamp(6) not null, ip_hash varchar(64) not null, primary key (ip_hash))
2026-02-12 21:20:10 [main] DEBUG org.hibernate.SQL - create table token_blacklist (expires_at timestamp(6) not null, revoked_reason varchar(20), jti varchar(36) not null, primary key (jti))
2026-02-12 21:20:10 [main] DEBUG org.hibernate.SQL - create table users (created_at timestamp(6) not null, id_hash varchar(64) not null, public_key TEXT not null unique, push_token TEXT, primary key (id_hash))
2026-02-12 21:20:10 [main] DEBUG org.hibernate.SQL - create index idx_mailbox_recipient on mailbox (recipient_hash)
2026-02-12 21:20:10 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges add constraint FKl5m80koyne9ork274crpw6jv foreign key (user_hash) references users
2026-02-12 21:20:11 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-12 21:20:11 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 79d76d8a-b607-4b02-b3bc-950c5945f28b

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 21:20:11 [main] INFO  c.h.api.HermnetApiApplicationTests - Started HermnetApiApplicationTests in 3.792 seconds (process running for 12.068)
2026-02-12 21:20:11 [main] INFO  c.h.a.r.AuthChallengeRepositoryTest - Starting AuthChallengeRepositoryTest using Java 21.0.6 with PID 10620 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:20:11 [main] INFO  c.h.a.r.AuthChallengeRepositoryTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:20:12 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2026-02-12 21:20:12 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@5bc1eaa7
2026-02-12 21:20:12 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2026-02-12 21:20:12 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-12 21:20:12 [main] DEBUG org.hibernate.SQL - set client_min_messages = WARNING
2026-02-12 21:20:12 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges drop constraint if exists FKl5m80koyne9ork274crpw6jv
2026-02-12 21:20:12 [main] DEBUG org.hibernate.SQL - drop table if exists auth_challenges cascade
2026-02-12 21:20:12 [main] DEBUG org.hibernate.SQL - drop table if exists mailbox cascade
2026-02-12 21:20:12 [main] DEBUG org.hibernate.SQL - drop table if exists rate_limit_buckets cascade
2026-02-12 21:20:12 [main] DEBUG org.hibernate.SQL - drop table if exists token_blacklist cascade
2026-02-12 21:20:12 [main] DEBUG org.hibernate.SQL - drop table if exists users cascade
2026-02-12 21:20:12 [main] DEBUG org.hibernate.SQL - create table auth_challenges (challenge_id bigint generated by default as identity, expires_at timestamp(6) not null, nonce varchar(64) not null, user_hash varchar(64) not null, primary key (challenge_id))
2026-02-12 21:20:12 [main] DEBUG org.hibernate.SQL - create table mailbox (created_at timestamp(6) not null, message_id bigint generated by default as identity, recipient_hash varchar(64) not null, stego_packet oid not null, primary key (message_id))
2026-02-12 21:20:12 [main] DEBUG org.hibernate.SQL - create table rate_limit_buckets (request_count integer not null, reset_time timestamp(6) not null, ip_hash varchar(64) not null, primary key (ip_hash))
2026-02-12 21:20:12 [main] DEBUG org.hibernate.SQL - create table token_blacklist (expires_at timestamp(6) not null, revoked_reason varchar(20), jti varchar(36) not null, primary key (jti))
2026-02-12 21:20:12 [main] DEBUG org.hibernate.SQL - create table users (created_at timestamp(6) not null, id_hash varchar(64) not null, public_key TEXT not null unique, push_token TEXT, primary key (id_hash))
2026-02-12 21:20:12 [main] DEBUG org.hibernate.SQL - create index idx_mailbox_recipient on mailbox (recipient_hash)
2026-02-12 21:20:12 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges add constraint FKl5m80koyne9ork274crpw6jv foreign key (user_hash) references users
2026-02-12 21:20:12 [main] INFO  c.h.a.r.AuthChallengeRepositoryTest - Started AuthChallengeRepositoryTest in 0.621 seconds (process running for 12.845)
2026-02-12 21:20:12 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:20:12 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:20:12 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:20:12 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:20:12 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:20:12 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:20:12 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:20:12 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.expires_at<?
2026-02-12 21:20:12 [main] DEBUG org.hibernate.SQL - delete from auth_challenges where challenge_id=?
2026-02-12 21:20:12 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:20:12 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:20:12 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:20:12 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:20:12 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:20:12 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:20:12 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:20:12 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.nonce=?
2026-02-12 21:20:12 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:20:12 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:20:12 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:20:12 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:20:12 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:20:12 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:20:12 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:20:12 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:20:12 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:20:12 [main] DEBUG org.hibernate.SQL - select null,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:20:12 [main] DEBUG org.hibernate.SQL - insert into auth_challenges (expires_at,nonce,user_hash) values (?,?,?)
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select count(*) from auth_challenges ac1_0
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.user_hash=?
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - delete from auth_challenges where challenge_id=?
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - delete from auth_challenges where challenge_id=?
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select count(*) from auth_challenges ac1_0
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.nonce=?
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select ac1_0.challenge_id,ac1_0.expires_at,ac1_0.nonce,ac1_0.user_hash from auth_challenges ac1_0 where ac1_0.user_hash=?
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - insert into token_blacklist (expires_at,revoked_reason,jti) values (?,?,?)
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select bt1_0.jti,bt1_0.expires_at,bt1_0.revoked_reason from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - insert into token_blacklist (expires_at,revoked_reason,jti) values (?,?,?)
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - delete from token_blacklist where jti=?
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select count(*) from token_blacklist bt1_0 where bt1_0.jti=?
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0 where m1_0.created_at<?
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - delete from mailbox where message_id=?
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - insert into mailbox (created_at,recipient_hash,stego_packet) values (?,?,?)
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select m1_0.message_id,m1_0.created_at,m1_0.recipient_hash,m1_0.stego_packet from mailbox m1_0 where m1_0.recipient_hash=? order by m1_0.created_at desc
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0 where rlb1_0.ip_hash=?
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0 where rlb1_0.ip_hash=?
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select rlb1_0.ip_hash,rlb1_0.request_count,rlb1_0.reset_time from rate_limit_buckets rlb1_0 where rlb1_0.ip_hash=?
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.public_key=?
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.public_key=?
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 21:20:13 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:20:14 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
2026-02-12 21:20:14 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: duplicate key value violates unique constraint "users_public_key_key"
  Detail: Key (public_key)=(duplicate-key) already exists.
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0 where u1_0.id_hash=?
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - delete from users where id_hash=?
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - select u1_0.id_hash,u1_0.created_at,u1_0.public_key,u1_0.push_token from users u1_0 where u1_0.id_hash=?
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - insert into users (created_at,public_key,push_token,id_hash) values (?,?,?,?)
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - update users set public_key=?,push_token=? where id_hash=?
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - select count(*) from users u1_0
2026-02-12 21:20:14 [main] INFO  c.h.a.s.SecurityIntegrationTest - Starting SecurityIntegrationTest using Java 21.0.6 with PID 10620 (started by alvar in C:\Users\alvar\Desktop\Hermnet\backend)
2026-02-12 21:20:14 [main] INFO  c.h.a.s.SecurityIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2026-02-12 21:20:14 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2026-02-12 21:20:14 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@5ee6bcd2
2026-02-12 21:20:14 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2026-02-12 21:20:14 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - set client_min_messages = WARNING
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges drop constraint if exists FKl5m80koyne9ork274crpw6jv
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - drop table if exists auth_challenges cascade
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - drop table if exists mailbox cascade
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - drop table if exists rate_limit_buckets cascade
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - drop table if exists token_blacklist cascade
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - drop table if exists users cascade
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - create table auth_challenges (challenge_id bigint generated by default as identity, expires_at timestamp(6) not null, nonce varchar(64) not null, user_hash varchar(64) not null, primary key (challenge_id))
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - create table mailbox (created_at timestamp(6) not null, message_id bigint generated by default as identity, recipient_hash varchar(64) not null, stego_packet oid not null, primary key (message_id))
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - create table rate_limit_buckets (request_count integer not null, reset_time timestamp(6) not null, ip_hash varchar(64) not null, primary key (ip_hash))
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - create table token_blacklist (expires_at timestamp(6) not null, revoked_reason varchar(20), jti varchar(36) not null, primary key (jti))
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - create table users (created_at timestamp(6) not null, id_hash varchar(64) not null, public_key TEXT not null unique, push_token TEXT, primary key (id_hash))
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - create index idx_mailbox_recipient on mailbox (recipient_hash)
2026-02-12 21:20:14 [main] DEBUG org.hibernate.SQL - alter table if exists auth_challenges add constraint FKl5m80koyne9ork274crpw6jv foreign key (user_hash) references users
2026-02-12 21:20:15 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-12 21:20:15 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 33b6e006-a5dc-43f0-8d52-9c68112158d1

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-02-12 21:20:15 [main] INFO  c.h.a.s.SecurityIntegrationTest - Started SecurityIntegrationTest in 1.041 seconds (process running for 15.651)
2026-02-12 21:20:15 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.hermnet.api.dto.UserResponse> com.hermnet.api.controller.AuthController.register(com.hermnet.api.dto.RegisterRequest) with 2 errors: [Field error in object 'registerRequest' on field 'publicKey': rejected value [null]; codes [NotBlank.registerRequest.publicKey,NotBlank.publicKey,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.publicKey,publicKey]; arguments []; default message [publicKey]]; default message [La clave pública es obligatoria]] [Field error in object 'registerRequest' on field 'id': rejected value [null]; codes [NotBlank.registerRequest.id,NotBlank.id,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.id,id]; arguments []; default message [id]]; default message [El ID es obligatorio]] ]
2026-02-12 21:20:16 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-12 21:20:16 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-02-12 21:20:16 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2026-02-12 21:20:16 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2026-02-12 21:20:16 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2026-02-12 21:20:16 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
